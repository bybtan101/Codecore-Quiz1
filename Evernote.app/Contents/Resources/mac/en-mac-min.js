// Copyright 2014 Evernote Corp. All rights reserved.
// http://www.evernote.com

window.enLoadState = 'willLoad';
try {(function(){ var q,aa,ca=this;
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"string"==typeof a}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function fa(a,b){var c=a.split("."),d=ca;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}
function ga(a,b){function c(){}c.prototype=b.prototype;a.zb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.qf=function(a,c,g){for(var k=Array(arguments.length-2),f=2;f<arguments.length;f++)k[f-2]=arguments[f];return b.prototype[c].apply(a,k)}};var u;
(function(){function a(){}var b;window.evernoteClient&&(b=function(a){window.evernoteClient.log(Array.prototype.slice.call(arguments).join(" "))});if(b)u={log:b,info:b.bind(null,"INFO:"),warn:b.bind(null,"WARN:"),error:b.bind(null,"ERROR:")};else try{u={},u.log=window.console.log.bind(window.console),u.info=window.console.info.bind(window.console),u.warn=window.console.warn.bind(window.console),u.error=window.console.error.bind(window.console),u.trace=window.console.trace.bind(window.console),u.time=
window.console.time.bind(window.console),u.timeEnd=window.console.timeEnd.bind(window.console)}catch(c){u=window.console}u.time||(u.time=a);u.timeEnd||(u.timeEnd=a);u.trace||(u.trace=a);var d={};u.Sd=function(a,b){var c={jc:window.performance?window.performance.now():(new Date).getTime(),$a:Array.prototype.slice.call(arguments,1).join(" ")||""};d[a]?d[a].push(c):d[a]=[c]};u.Af=function(a,b){d[a]=[];u.Sd.apply(this,arguments)};u.zf=function(a,b){function c(a){a=a.toString();var b=a.indexOf(".");return 0>
b?a:a.substring(0,b+4)}u.Sd.apply(this,arguments);for(var f=d[a],h=f[f.length-1].jc-f[0].jc,n=1;n<f.length;n++){var l=f[n].jc-f[n-1].jc;u.log("\u25fc "+a+"."+n+": "+c(l)+"ms ("+Math.round(100*l/h)+"% of "+c(h)+"ms full time)",f[n].$a?"<-":"",f[n].$a)}d[a]=[]}}).call(ca);function w(a,b){if(!a){var c="Assertion failed! "+Array.prototype.slice.call(arguments,1).join(" ");u.error(c);throw c;}}function ha(a){try{var b=JSON.stringify(a)}catch(c){return a.toString()}return b}
function ia(a){if(a instanceof Text)return"<TextNode:"+ha(a.textContent)+">";if(a instanceof Element)return"<Element:"+a.outerHTML.replace(/^<(.*?)>[\s\S]*$/gi,"$1")+">";if(a instanceof Range){var b=document.createElement("div");b.appendChild(a.cloneContents());return"<Range:"+ia(a.startContainer)+":"+a.startOffset+","+ia(a.endContainer)+":"+a.endOffset+(a.collapsed?" collapsed":" not collapsed")+" "+ha(b.innerHTML)+">"}return"<"+typeof a+":"+ha(a)+">"}
function ja(a){return a instanceof RegExp?a.source:a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function y(a,b){var c;if(a&&b)if(void 0!==a.length){c=0;for(var d=a.length;c<d&&b.call(a,a[c],c)!==ka;c++);}else"object"===typeof a&&(c=null,c=Object.keys(a),c.every(function(c){return b.call(a,c,a[c])===ka?!1:!0}))}var ka={};
function la(a,b,c){null==c&&(c=!0);null==a&&(a={});t(a)&&(a=JSON.parse(a)||{});w(ma(a),"Options of wrong type");if(b){w(ma(b),"Defaults of wrong type");var d,e=Object.keys(b);for(d in a)a.hasOwnProperty(d)&&!(0<=e.indexOf(d))&&c&&u.warn("Key",ha(d),"not supported! Seen in:",a);for(d in b)"undefined"===typeof a[d]&&(a[d]=b[d])}return a}function z(a,b){var c=a.length||0,d=[];if(b)for(;c;)d.push(a[--c]);else for(;c;)d.unshift(a[--c]);return d}
function na(a,b,c){oa(b)||y(b.toLowerCase().split(/[\s,]+/gi),function(b){pa(a,b,c)})}function qa(a,b,c){if(oa(b))return null;b?y(b.toLowerCase().split(/[\s,]+/gi),function(b){try{ra(a,b,c)}catch(e){c&&(a.removeEventListener(b,c,!1),a.removeEventListener(b,c,!0))}}):ra(a)}function ua(a,b){A(a,"TABLE_CELL_COLOR",b)}function oa(a){return t(a)?0===a.length||/^[\x00-\x20\s]*$/g.test(a):!1}var va=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?((?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))))(?::\d{2,5})?(?:\/\S*)?$/gi;
function wa(a){va.lastIndex=0;return t(a)&&va.test(a.trim())}function ma(a){return!!a&&"object"===da(a)}function xa(a){var b=a.indexOf(">"),c=a.lastIndexOf("<");return 0>b||0>c?a:a.substring(b+1,c)}function ya(a){var b;if(t(a))b=document.createElement("div"),b.textContent=a;else if(a instanceof Node)b=a.ownerDocument.createElement("div"),b.appendChild(a.cloneNode(!0));else throw"Illegal argument type for en.toHTML";return xa(b.outerHTML)}var za=1;function Aa(a){window.setTimeout(a,0)}
function Ba(a,b){var c;try{c=a()}catch(d){u.error("Exception:",d.toString()),b&&b(d)}return c}Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return e.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice.call(arguments,1),e=this;c.prototype=this.prototype;b.prototype=new c;return b});
function Ca(){return!1}function B(){return!0}var Da=window.onerror;window.onerror=function(a,b,c){var d=!1;Da&&(d=Da(a,b,c));u.error("Uncaught error in JS:",a.toString(),b,c);return d};var Ea="style bgcolor title lang dir text".split(" "),Fa="address article aside body blockquote caption center col colgroup dd details dir div dl dt fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr li listing menu nav ol p plaintext pre section summary table tbody td tfoot th thead tr ul xmp".split(" "),Ga="a abbr b bdi bdo cite code dfn em h1 h2 h3 h4 h5 h6 i kbd mark p pre q rp rt ruby s samp small span strong sub sup u var acronym listing strike xmp big blink font marquee nobr tt".split(" "),
Ha="margin-left margin-right font-family font-size font-weight text-align color direction background-color font-style text-decoration vertical-alignment line-height".split(" "),Ia=["0","0px","none","initial"],Ja=Ga.join(","),Ka=Fa.join(",");function Na(){function a(a){w(t(a)&&a===a.toLowerCase(),"command have to be lower case only.");return b[a]}var b={};this.cf=function(c){w(ma(c),"We require command to be an object:",c);var d=c.name;w(t(d)&&1<d.length&&!!d.match(/[a-z]+/gi),"Invalid name for command:",ha(d));c.action&&w(!!c.enabled,'We require command to have "enabled" state:',c.name);w(!!(c.action||c.value||c.state),'We require command to have one of "action", "value" or "state":',c.name);var e=a(d);e||(e=[],b[d]=e);w("array"==da(e),
"Expected list for commands");e.push(c)};this.le=function(c){if(c&&b)for(var d=Object.keys(b||{}),e=0;e<d.length;e++)for(var g=d[e],k=a(g),f=k.length-1;0<=f;f--){var h=k[f];h&&c(h)&&(k.splice(f,1),0>=k.length?delete b[g]:b[g]=k)}else b={}};this.action=function(b,d){var e=null;Ba(function(){var g=a(b);if(g)for(var k=0;k<g.length;k++){var f=g[k];if(f.action&&f&&f.enabled&&!0===f.enabled.call(f,d)){var h={name:f.name,value:d||"",command:f};A(document.body,"beforeexeccommand",h);f=f.action.call(f,d||
"");e=null===e&&!1===f?!1:!0;h.result=f;A(document.body,"execcommand",h)}}else u.warn("execCommand of unknown command:",b,d)},function(a){"complete"!==document.readyState?u.warn("Exception in execCommand <$>:",a.toString()):u.error("Exception in execCommand <$>:",a.toString())});return e};this.enabled=function(b,d){var e=null;Ba(function(){var g=a(b);if(g)for(var k=0;k<g.length;k++){var f=g[k];if(f.enabled){f=f.enabled.call(f,d);if(!0===f){e=!0;break}null===e&&!1===f&&(e=!1)}}else u.warn("queryCommandEnabled of unknown command:",
b,d)},function(a){"complete"!==document.readyState?u.warn("Exception in queryCommandEnabled <$>:",a.toString()):u.error("Exception in queryCommandEnabled <$>:",a.toString())});return e};this.state=function(b,d){var e=null;Ba(function(){var g=a(b);if(g)for(var k=0;k<g.length;k++){var f=g[k];if(f.state){if(!0===f.state.call(f,d||"")){e=!0;break}e=!1}}else u.warn("queryCommandState of unknown command:",b,d)},function(a){"complete"!==document.readyState?u.warn("Exception in queryCommandState <$>:",a.toString()):
u.error("Exception in queryCommandState <$>:",a.toString())});return e};this.value=function(b,d){var e=null;Ba(function(){var g=a(b);if(g)for(var k=0;k<g.length;k++){var f=g[k];if(f.value){f=f.value.call(f,d);if(null!=f){e=f.toString();break}e=""}}else u.warn("queryCommandValue of unknown command:",b,d)},function(a){"complete"!==document.readyState?u.warn("Exception in queryCommandValue <$>:",a.toString()):u.error("Exception in queryCommandValue <$>:",a.toString())});return e}}
function Oa(a){return ma(a)?a:t(a)?0===a.indexOf("{")?JSON.parse(a)||{}:{value:a||""}:{}};function Pa(){function a(a){for(var b=c.length-1;0<=b;b--)if(c[b]===a){c.splice(b,1);break}}function b(a,b){c.push([a,b||{}])}w(this instanceof Pa,"Use `new` to instantiate this class");var c=[],d=!1,e=null;this.e=function(a){a=la(a,{name:null});e=a.name;w(0===c.length,"Binding are in an undefined state before setup",e);w(!1===d,"You need to call cleanup first!",e);d=!0};this.r=function(){w(d,"You need to call setup first!");for(d=!1;0<c.length;)Ba(function(){var a=c.pop(),b=a[0],d=a[1];1===b?Qa.le(function(a){return a.Wd===
d}):2===b?qa.apply(qa,d):3===b?window.clearTimeout(d):4===b?window.clearInterval(d):6===b?d():u.error("Unhandled binding cleanup step!",b,d)});w(c!==[],"Binding are in an undefined state after cleanup");e=null};this.p=function(a){w(d,"You need to call setup first!");a.Wd=za++;b(1,a.Wd);Qa.cf(a);return a};this.g=function(a,c,e){w(d,"You need to call setup first!");b(2,[a,c,e]);na(a,c,e)};this.timeout=function(c,e,f){w(d,"You need to call setup first!");f&&this.Tc(f);var h=0,h=window.setTimeout(function(){c();
a(h)},e||0);b(3,h);return h};this.Tc=function(b){0<b&&(window.clearTimeout(b),a(b))};this.interval=function(c,e){w(d,"You need to call setup first!");var f=0,f=window.setInterval(function(){c();a(f)},e||0);b(4,f);return f};this.kd=function(a){b(6,a)}};function Ra(a){var b=this;b.B=a||{};var c=[],d={};b.load=function(a){return Ba(function(){if(!a)return!1;a.qb=!1;w(!(0<=c.indexOf(a)),"Plugin has already been loaded:",a.name);w(!d[a.name],"There is another plugin with the same name!",a.name);c.push(a);a.name&&0<a.name.length&&(d[a.name]=a);a.b=new Pa;return!0},function(a){u.error("Exception in PluginManager.load <$>",a.toString())})};b.Ke=function(a){return d[a]||null};b.e=function(a,d){Ba(function(){w(!!a,"Expected a plugin");w(!a.qb,"Plugin is already set up:",
a.name);0<=c.indexOf(a)||b.load(a);a.b.e({name:a.name||"?"+za++});a.mb=function(){a.pa||(a.pa=new Ra(b.B));return a.pa};a.e&&a.e(d||{},b.B);a.qb=!0},function(a){u.error("Exception in PluginManager.setup <$>",a.toString())})};b.Cf=function(a){for(var d=0;d<c.length;d++)b.e(c[d],a)};b.r=function(a){Ba(function(){w(!!a,"Expected a plugin");w(a.qb,"Plugin is not yet set up:",a.name);w(0<=c.indexOf(a),"Plugin has not been loaded before:",a.name);a.qb=!1;a.pa&&(a.pa.ke(),a.pa=null);a.b.r();a.r&&a.r()},
function(a){u.error("Exception in PluginManager.cleanup <$>",a.toString())})};b.ke=function(){for(var a=c.length-1;0<=a;a--){var g=c[a];!0===g.qb&&b.r(g)}c=[];d={}}};function Sa(a,b){return a.classList.contains(b)}function C(a,b){a.classList.add(b)}function E(a,b){a.classList.remove(b);0===a.className.length&&a.removeAttribute("class")}function Ta(a,b,c){void 0!==c?c?C(a,b):E(a,b):(a.classList.toggle(b),0===a.className.length&&a.removeAttribute("class"))}function F(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Ua(a){return G(a)?z(a.childNodes):[]}function Va(a){for(;a.firstChild;)a.removeChild(a.firstChild)}
function Wa(a,b){var c=a.parentNode;c&&c.replaceChild(b,a);return b}function Xa(a){if(a){for(;a.firstChild;)a.parentNode.insertBefore(a.removeChild(a.firstChild),a);F(a)}}function Ya(a,b){for(;a.firstChild;)b.appendChild(a.firstChild)}function Za(a,b){Ya(a,b);a.appendChild(b)}
function $a(a,b){w(G(a),"<$>");b=b.toLowerCase();if(I(a)===b||!a.parentNode)return a;for(var c=a.ownerDocument.createElement(b),d=0;d<a.attributes.length;d++)c.setAttributeNS(a.attributes[d].namespaceURI,a.attributes[d].name,a.attributes[d].value);w(G(a),"<$>");w(G(c),"<$>");w(!c.hasChildNodes(),"new node has to be empty <$>");a.parentNode.insertBefore(c,a);Ya(a,c);F(a);return c}
function ab(a,b,c,d){a instanceof Document||(a=a.ownerDocument);var e=a.createElement(b?b.toString().toLowerCase():"div");c&&y(c,function(a,b){null!=a&&null!=b&&t(a)&&t(b)&&e.setAttribute(a,b)});if(d)if(t(d))e.innerHTML=d;else if("array"==da(d))for(b=0;b<d.length;b++)(c=d[b])&&(t(c)?e.appendChild(a.createTextNode(c)):e.appendChild(c));else throw"Unsupported type for opt_inner";return e}function J(a,b,c){return ab(document,a,b,c)}
function bb(a){if(!a)return null;if(a.previousSibling){for(a=a.previousSibling;a.hasChildNodes();)a=a.lastChild;return a}return a.parentNode&&1==a.parentNode.nodeType?a.parentNode:null}function cb(a,b){if(null===a)return null;b||(b=b||document.body);if(void 0===a)for(a=b;a.lastChild;)a=a.lastChild;else a=bb(a);return db(a,b)?a:null}function eb(a){if(!a)return null;if(a.hasChildNodes())return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null}
function fb(a,b){if(null===a)return null;b||(b=b||document.body);void 0===a&&(a=b);a=eb(a);return db(a,b)?a:null}function gb(a){return!(!a||3!==a.nodeType)}function G(a){return!(!a||!a.nodeType||1!==a.nodeType)}function db(a,b){return b&&a?!!(a.compareDocumentPosition(b)&8):!1}function hb(a,b){return b&&a?!!(a.compareDocumentPosition(b)&16):!1}function K(a){try{if(a&&(G(a)||(a=a.parentNode),a))return window.getComputedStyle(a)}catch(b){}return null}
function L(a){a=a.getBoundingClientRect();return{top:a.top+document.body.scrollTop,bottom:a.bottom+document.body.scrollTop,left:a.left+document.body.scrollLeft,right:a.right+document.body.scrollLeft,width:a.width,height:a.height}}function ib(a){return(a=K(a))&&a.display?"block"===a.display.toLowerCase():!1}function jb(a){return!(!a||!N(a,Ka)&&9!==a.nodeType&&11!==a.nodeType)}function I(a){return a&&a.tagName?a.tagName.toLowerCase()||void 0||"":""}
function kb(a,b){return a&&a.getAttribute?a.getAttribute(b)||void 0||"":""}function O(a){for(var b=0;a=a.previousSibling;)b++;return b}function P(a){if(!a)return 0;switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function lb(){var a=document.querySelector("#en-tools");return null==a?(u.error("Could not find tools div!"),null):a}function mb(){var a=document.querySelector("#en-note");return null==a?(u.warn("Could not find note!"),null):a}
function Q(a,b,c){c||(c=document.body);return a===c?null:N(a,b)?a:(a=a&&a.parentNode)?Q(a,b,c):null}function nb(a,b){return Q(a.parentNode,jb,b)}function N(a,b){return a&&b?b instanceof Function?b(a):G(a)&&t(b)?a.webkitMatchesSelector(b):!1:!1}function R(a,b){return b?I(a)===b:G(a)}function S(a){return"br"===I(a)}function ob(a){return!!a&&"true"===a.contentEditable}function pb(a,b){a.contentEditable=!!b;b||a.removeAttribute("contenteditable")}
function qb(a){return new RegExp("(^|;)\\s*("+ja(a)+")\\s*\\:\\s*(.*?)($|;)+","gi")}function rb(a){a&&a.hasAttribute&&a.hasAttribute("style")&&(a.getAttribute("style").trim().length||a.removeAttribute("style"))}function sb(a,b){var c=a&&a.getAttribute?a.getAttribute("style"):"";if(null==c)return null;c=qb(b).exec(c);return null===c?null:c[3].trim()}
function T(a,b){var c=a&&a.getAttribute?a.getAttribute("style"):"";if(null==c)return"";c=c.replace(qb(b),"$1").trim();0<c.length?a.setAttribute("style",c):a.removeAttribute("style");return c||""}function U(a,b,c){var d=T(a,b);null!=c&&(d=d.trim(),d.length&&";"!==d[d.length-1]&&(d+=";"),a.setAttribute("style",d+b+":"+c+";"))}function tb(a,b){G(a)&&a.style?(a.style.display=b?"":"none",rb(a)):u.warn("Failed to set visibility on non HTML element",a)}
function V(a,b,c){b||(b=document);try{return z(b.querySelectorAll(a),c)}catch(d){throw 0===d.toString().indexOf("Uncaught error in JS: SyntaxError: DOM Exception 12")&&u.error("Wrong syntax in selector:",a),d;}}function W(a,b){return V(a,b,!0)}function ub(a,b,c){for(;a=fb(a,c);)if(N(a,b))return a;return null}function vb(a,b,c){for(;a=cb(a,c);)if(N(a,b))return a;return null}
function Ab(a,b){if(!a||3!==a.nodeType)return!1;null==b&&(b=!1);var c=a.data,c=!0===b?a.data.replace("\ufeff",""):a.data.replace("\ufeff","\u039b"),d=K(a.parentElement)||{};return!(!a||3!==a.nodeType||!(""===c||/^[\t\n\r ]+$/.test(c)&&a.parentNode&&1===a.parentNode.nodeType&&(null==d.whiteSpace||-1!==["normal","nowrap"].indexOf(d.whiteSpace))||/^[\t\r ]+$/.test(c)&&a.parentNode&&1===a.parentNode.nodeType&&"pre-line"===d.whiteSpace))}function Bb(a){for(var b;a&&(b=a.firstChild);)a=b;return a}
function Cb(a,b){var c=J("div",{style:"position: absolute; width: 1px; height: 1px; top: -9999px; left: -9999px;"});c.appendChild(a);document.body.appendChild(c);b(a);F(a);F(c)}function Db(a){function b(){g+=20;var a;a=g;a/=120;1>a?a=e/2*a*a+d:(a--,a=-e/2*(a*(a-2)-1)+d);c.scrollTop=a;240>g&&window.setTimeout(b,20)}var c=document.body,d=c.scrollTop,e=a-d,g=0;b()}
function Eb(a,b){if(!G(a))return!1;var c=window.scrollY,d=c+window.innerHeight;null==b&&(b=55);var e=a.getBoundingClientRect().top+c,g=a.getBoundingClientRect().bottom+c,c=Math.max(c,e),d=Math.min(d,g);return Math.max(0,Math.round((d-c)/(g-e)*100))>=b};var Fb={},Gb=0,Hb=0;
function Ib(){if(null==aa){null!=aa&&(aa.disconnect(),aa=null);var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;a?(aa=new a(function(a){var c=[];y(a,function(a){y(a.addedNodes,function(a){if(null==a.querySelectorAll)return ka;var b=a.tagName.toLowerCase();if("img"===b)Jb(a),A(a,"imageAdded",void 0);else{var c=a.querySelectorAll("img");y(c,function(a){Jb(a);A(a,"imageAdded",void 0)});"table"===b?(Jb(a),A(a,"tableAdded",void 0)):(a=a.querySelectorAll("table"),y(a,
function(a){Jb(a);A(a,"tableAdded",void 0)}))}});if("attributes"===a.type&&"style"===a.attributeName){var b=J("div",{style:a.oldValue}),g=sb(a.target,"text-align"),b=sb(b,"text-align");g!==b&&("img"===a.target.tagName&&-1===c.indexOf(a.target)&&c.push(a.target),y(a.target.querySelectorAll("img"),function(a){-1===c.indexOf(a)&&c.push(a)}))}});y(c,function(a){A(a,"imageAligned",void 0)});Kb()}),aa.observe(mb(),{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!1})):
u.warn("Mutation Observer not supported, UI functionality limited!")}}function Lb(a){return a.getAttribute("data-en-overlay-id")}function Jb(a){a.removeAttribute("data-en-overlay-id")}function Mb(a){var b=lb(),c="";if(null==b)return[];if(null==a)c="[data-en-overlay-id]";else if("string"===typeof a)c='[data-en-overlay-id="'+a+'"]';else if(a instanceof Node){a=Lb(a);if(null==a)return[];c='[data-en-overlay-id="'+a+'"]'}else return[];return z(b.querySelectorAll(c))}
function Nb(a,b){var c=mb(),d='[data-en-overlay-id="'+a+'"]';null==b&&(b=!1);return null==c?null:!0===b?z(c.querySelectorAll(d)):[c.querySelector(d)]}function Ob(a){var b=a.getAttribute("data-en-layout-algorithm"),c=Lb(a);if(null!=b&&"undefined"!==typeof Fb[b]&&null!=c)if(c=Nb(c)[0],null==c)F(a);else Fb[b](c,a)}function Kb(){y(Mb(),function(a){Ob(a)})}
function Pb(a,b){var c=lb();if(null==c)return u.warn("Unable to find tools DIV in en.ui.attach"),null;null==b?b="cover":"undefined"===typeof Fb[b]&&(u.error("Invalid layout algorithm: "+b),b="cover");var d=Lb(a);if(null==d){for(var e;Hb+=1,d=Nb(""+Hb,!0),e=Mb(""+Hb),0!==d.length||0!==e.length;);d=""+Hb}e=J("div");e.setAttribute("data-en-overlay-id",d);e.setAttribute("data-en-layout-algorithm",b);U(e,"z-index","900");c.appendChild(e);a.setAttribute("data-en-overlay-id",d);Fb[b](a,e);return e}
function Qb(){Kb()}Fb.cover=function(a,b){var c=L(a);U(b,"position","absolute");U(b,"top",c.top+"px");U(b,"left",c.left+"px");U(b,"width",c.width+"px");U(b,"height",c.height+"px")};Fb.bottomRightCorner=function(a,b){var c=L(a),d=window.innerWidth-c.right,c=window.innerHeight-c.bottom;U(b,"position","absolute");U(b,"bottom",c+"px");U(b,"right",d+"px")};Fb.bottomLeftCorner=function(a,b){var c=L(a),d=window.innerHeight-c.bottom;U(b,"position","absolute");U(b,"bottom",d+"px");U(b,"left",c.left+"px")};
Fb.bottomRightResizeHandle=function(a,b){var c=L(a),d=window.innerWidth-c.right-11,c=window.innerHeight-c.bottom-13;U(b,"position","absolute");U(b,"bottom",c+"px");U(b,"right",d+"px")};Fb.bottomLeftResizeHandle=function(a,b){var c=L(a),d=c.left-11,c=window.innerHeight-c.bottom-13;U(b,"position","absolute");U(b,"bottom",c+"px");U(b,"left",d+"px")};
Fb.rightEdge=function(a,b){var c=Math.floor(L(b).width/2),d=L(a),c=window.innerWidth-d.right-c,e=window.innerHeight-d.bottom,d=d.top;U(b,"position","absolute");U(b,"top",d+"px");U(b,"right",c+"px");U(b,"bottom",e+"px")};Fb.leftEdge=function(a,b){var c=Math.floor(L(b).width/2),d=L(a),c=d.left-c,e=window.innerHeight-d.bottom,d=d.top;U(b,"position","absolute");U(b,"top",d+"px");U(b,"left",c+"px");U(b,"bottom",e+"px")};
Fb.tableColumnEdge=function(a,b){Fb.rightEdge(a,b);var c=Q(a,"table"),c=window.innerHeight-L(c).bottom;U(b,"bottom",c+"px")};
function Rb(){this.bc=function(a,b,c,d,e){var g=!0;null==g&&(g=!1);var k=!1,f,h,n,l,m=J("div",{style:"position: fixed;top: 0px;left: 0px;right: 0px;bottom: 0px;z-index: 999;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;"+(null==e?"":e)});this.b.g(a,"mousedown",function(a){k=!0;f=a.pageX;h=a.pageY;n=a.pageX;l=a.pageY;!0===g&&lb().appendChild(m);null!=b&&b()});this.b.g(window,"mousemove",function(a){if(!1!==k){n=a.pageX;l=a.pageY;a=n-f;
var b=l-h;null!=c&&c(a,b)}});this.b.g(window,"mouseup",function(a){if(!1!==k){k=!1;n=a.pageX;l=a.pageY;a=n-f;var b=l-h;!0===g&&F(m);null!=d&&d(a,b)}})};this.name="ui"+za++;this.e=function(){Gb+=1;1>=Gb&&(C(mb(),"en-ui-on"),this.b.g(window,"resize",Qb));Ib()};this.r=function(){--Gb;if(!(0<Gb)){E(mb(),"en-ui-on");null!=aa&&(aa.disconnect(),aa=null);var a=mb();null!=a&&y(a.querySelectorAll("[data-en-overlay-id]"),function(a){Jb(a)});y(Mb,function(a){F(a)});Hb=0}}};function Sb(a,b,c,d){var e=document.createRange();void 0!==a&&(e.setStart(a||null,b||0),c?e.setEnd(c||null,d||0):e.setEnd(a||null,b||0));return e}function Tb(a,b){if(a&&(!b||Ub(a,b))&&a){var c=window.getSelection();c.removeAllRanges();c.addRange(a)}}function X(a){var b=window.getSelection();if(1>b.rangeCount)return null;b=b.getRangeAt(0);return a&&b&&!Ub(b,a)?null:b?b.cloneRange():null}function Vb(a){var b=document.createRange();b.selectNode(a);Tb(b)}
function Wb(){window.getSelection().removeAllRanges()}function Ub(a,b){return(a.startContainer===b||db(a.startContainer,b))&&(a.endContainer===b||db(a.endContainer,b))}function Xb(a){return a?gb(a.startContainer)?a.startContainer:a.startContainer.childNodes[a.startOffset]||a.startContainer:null}function Yb(a){return a?gb(a.endContainer)?a.endContainer:a.endContainer.childNodes[a.endOffset]||a.endContainer.lastChild||a.endContainer:null}
function Zb(a,b){return null==a||null==b?!1:a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset?!0:!1}function $b(a){return a?{startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset,collapsed:a.collapsed}:null}function ac(a){return a?Sb(a.startContainer,a.startOffset,a.endContainer,a.endOffset):null}
function bc(a,b){function c(a,b){var c=document.createNodeIterator(d,window.NodeFilter.SHOW_TEXT),g;for(a=Math.max(0,b?a:a-1);0<=a&&(g=c.nextNode());)a-=g.length;return g?{za:g,offset:a+g.length+(b?0:1)}:null}var d=b||a.root||document.body,e=a.hasOwnProperty("len")?a.len:a.end-a.start,g=a.start,e=a.hasOwnProperty("end")?a.end:g+e,k=c(g,!0),f=k;g!==e&&(f=c(e,!1));return k&&f?Sb(k.za,k.offset,f.za,f.offset):null}
Range.prototype.compareNode||(u.warn("Range.compareNode has been added by polyfill!"),Range.prototype.compareNode=function(a){var b=a.ownerDocument.createRange();try{b.selectNode(a)}catch(c){b.selectNodeContents(a)}a=1===this.compareBoundaryPoints(Range.START_TO_START,b);b=-1===this.compareBoundaryPoints(Range.RANGE_END_TO_END,b);return a&&!b?0:!a&&b?1:a&&b?2:3});var cc={},dc=1,ec="data"+(new Date).getTime(),fc=1;function gc(a){var b=a[ec];b||(b=a[ec]=dc++,cc[b]={});return cc[b]}function hc(a){var b=a[ec];if(b){delete cc[b];try{delete a[ec]}catch(c){a.removeAttribute&&a.removeAttribute(ec)}}}
function ic(a){if(!a||!a.stopPropagation){var b=a||window.event;a={};for(var c in b)a[c]=b[c];a.type=a.type.toLowerCase();a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){a.returnValue=!1;a.isDefaultPrevented=B};a.isDefaultPrevented=Ca;a.stopPropagation=function(){a.cancelBubble=!0;a.isPropagationStopped=B};a.isPropagationStopped=Ca;a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=B;a.stopPropagation()};
a.isImmediatePropagationStopped=Ca;null!=a.clientX&&(b=document.documentElement,c=document.body,a.pageX=a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0),a.pageY=a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0));a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a}
function jc(a,b){function c(a){for(var b in a)return!1;return!0}var d=gc(a);0===d.K[b].length&&(delete d.K[b],document.removeEventListener?a.removeEventListener(b,d.ta,!1):document.detachEvent&&a.detachEvent("on"+b,d.ta));c(d.K)&&(delete d.K,delete d.ta);c(d)&&hc(a)}
function pa(a,b,c){b=b.toLowerCase();var d=gc(a);d.K||(d.K={});d.K[b]||(d.K[b]=[]);c.Qb||(c.Qb=fc++);d.K[b].push(c);d.ta||(d.disabled=!1,d.ta=function(b){if(!d.disabled){b=ic(b);var c=d.K[b.type];if(c)for(var k=0;k<c.length;k++)c[k].call(a,b)}});1==d.K[b].length&&(a.addEventListener?a.addEventListener(b,d.ta,!1):a.attachEvent&&a.attachEvent("on"+b,d.ta))}
function ra(a,b,c){var d=gc(a);if(d.K)if(b){b=b.toLowerCase();var e=d.K[b];if(e){if(c){if(c.Qb)for(d=0;d<e.length;d++)e[d].Qb===c.Qb&&e.splice(d--,1)}else d.K[b]=[];jc(a,b)}}else for(e in d.K)b=e,d.K[b]=[],jc(a,b)}
function A(a,b,c){try{var d=gc(a),e=a.parentNode||a.ownerDocument;t(b)&&(b={type:b,target:a});b=ic(b);null!=c&&(b.data=c);d.ta&&d.ta.call(a,b);if(e&&!b.isPropagationStopped())A(e,b);else if(!e&&!b.isDefaultPrevented()){var g=gc(b.target);b.target[b.type]&&(g.disabled=!0,b.target[b.type](),g.disabled=!1)}}catch(k){u.error("Exception while firing an event <$>",k.toString(),a,b&&b.type)}};function kc(a,b,c){if("undefined"===typeof c||0===+c)return Math[a](b);b=+b;c=+c;if(isNaN(b)||"number"!==typeof c||0!==c%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?+b[1]+c:c))}Math.Ja||(Math.Ja=function(a,b){return kc("round",a,b||0)});Math.De||(Math.De=function(a,b){return kc("floor",a,b||0)});Math.ze||(Math.ze=function(a,b){return kc("ceil",a,b||0)});var lc=/^(\d*\.?\d*)(px|em|\%|pt)?$/,mc=0,nc=0;
function oc(a){return"number"===typeof a?{Ma:"px",value:a,mf:a.toString()}:(a=lc.exec(a))?{Ma:a[2]||"px",value:parseFloat(a[1]),mf:a[1]}:null}function pc(a){a=a||document.body;a=K(a);mc=oc(a.fontSize).value;w(!!mc,"Did not find base font size",mc,a.fontSize);a=J("div",{style:"height: 100pt; left: -100%; position: absolute; top: -100%; width: 100pt; "});document.body.appendChild(a);nc=a.offsetHeight/100;w(!!nc,"Did not find pt ratio",nc);F(a)}
function qc(a,b,c){if(t(a)){var d=oc(a);d?(a=d.value,c=d.Ma):a=null}b||(b="px");if(!a)return{value:0,Ma:b,src:"0"};c||(c="px");if(c===b)return{value:a,Ma:b,src:a+b};"px"===c&&"px"===b||w(0<mc,"en.unit.init needs to get called first!");"px"===c?"em"===b?a=Math.Ja(a/mc,-2):"%"===b?a=Math.Ja(100*a/mc):"pt"===b&&(a=Math.Ja(a/nc,-1)):"pt"===c?"em"===b?a=Math.Ja(a*nc/mc,-2):"%"===b?a=Math.Ja(100*a*nc/mc):"px"===b&&(a=Math.Ja(a*nc,-1)):w(!1,"Not implemented yet",c,"=>",b);return{value:a,Ma:b,src:a+b}}
function rc(a){return qc(a).value||0};function sc(a,b){void 0===a&&(a=document.body);for(var c=a,d=b.length-1;0<=d;d--){var e=b[d];e>P(c)&&(e=P(c)-1);c=c.childNodes[e]}return c}function tc(a,b){var c=[];void 0===b&&(b=document.body);for(;a&&a.parentNode&&a!==b;){for(var d=0,e=a.parentNode.childNodes,g=0;g<e.length;g++)if(e[g]===a){d=g;break}c.push(d);a=a.parentNode}return c}
function uc(a,b,c){for(var d=[];1==b.nodeType;){var e=b.childNodes[c];if(!e&&!b.lastChild)break;e?(b=e,c=0):(b=b.lastChild,c=P(b))}b=c={m:b,offset:c};if(3==b.m.nodeType)for(c=b.m.previousSibling;c&&3==c.nodeType;c=c.previousSibling)b.offset+=P(c);else c=b.m.previousSibling;e=b.m.parentNode;b.m=c?c.nextSibling:e.firstChild;c=b;for(b=c.m;b&&b.parentNode&&b!==a;){for(var g=e=0,k=b.parentNode.childNodes,f=0;f<k.length;f++){var h=k[f];3!==h.nodeType&&0<g&&(++e,g=0);if(h===b)break;3===h.nodeType?g+=P(h):
++e}d.push(e);b=b.parentNode}return{path:d,offset:c.offset}}function vc(a,b,c){void 0===a&&(a=document.body);var d="";b&&(c?(c=uc(a,b.startContainer,b.startOffset),a=uc(a,b.endContainer,b.endOffset),d={startPath:c.path,startOffset:c.offset,endPath:a.path,endOffset:a.offset,collapsed:b.collapsed}):d={startPath:tc(b.startContainer,a),startOffset:b.startOffset,endPath:tc(b.endContainer,a),endOffset:b.endOffset,collapsed:b.collapsed});return JSON.stringify(d)}
function xc(a,b){void 0===a&&(a=document.body);if(!b)return null;var c=JSON.parse(b),d;if(c&&c instanceof Object)a:{var e=a;void 0===e&&(e=document.body);if(void 0===e||!c)throw"All arguments required";try{var g=sc(e,c.startPath),k=sc(e,c.endPath);if(!g||!k){d=null;break a}var f=Sb(g,c.startOffset,k,c.endOffset);c.collapsed&&f.collapse(!0);d=f;break a}catch(h){u.error("Exception <$>",h.toString())}d=null}else d=null;return d}
function yc(a,b){void 0===a&&(a=document.body);var c=X(a);return c?vc(a,c,b):null}function zc(a,b){void 0===a&&(a=document.body);yc(a);if(b){var c=xc(a,b);c&&Tb(c)}};function Ac(a,b){w(t(a),"name has to be string",b);w(null==b||ma(b),"info has to be empty or dict",a,b);b=b||{};b.version="1.0";window.evernoteClient&&window.evernoteClient.postNotification&&window.evernoteClient.postNotification(a,JSON.stringify(b))}function Bc(a,b){w(!a||t(a),"module has to be string",a,b);w(!b||ma(b),"info has to be dict",a,b);b=b||{};b.module=a||"";Ac("contentChanged",b)}function Cc(a){Ac("titleBlur",{module:a||"title"})}
function Dc(a,b,c){w(t(a)||1<a.length,"href required",a,b,c);w(!b||t(b),"module has to be string",a,b,c);w(!c||ma(c),"info has to be dict",a,b,c);c=c||{};c.href=a;c.module=b||"";Ac("openLink",c)}function Ec(){Ac("contextVisible",{module:"context"})}function Fc(a){Ac("contextExpanded",{module:"context",expanded:!!a})};function Gc(){function a(a){return a.toString().replace(/\s+/gi," ").trim().slice(0,b.c.maxLength)}w(this instanceof Gc,"Use `new` to instantiate this class");var b=this,c=null;b.name="textfield"+za++;b.c=null;b.h=null;b.Ac=null;b.e=function(a){b.c=la(a,{element:null,Nd:!1,maxLength:0,placeholder:null,je:!0,pd:!0,gd:!0});c=a.element;w(!!c&&G(c),'"element" option must be an HTMLElement');b.ff(b.c.placeholder);b.setActive(b.c.gd);b.Vc();w(!(b.c.Nd&&b.c.maxLength),"Max length not supported for multi line fields");
0<b.c.maxLength&&b.b.g(c,"input",function(){b.aa();if(c.textContent.length>b.c.maxLength){var a=c.firstChild;if(gb(a)){var d=X(c).startOffset;a.textContent=b.aa();Tb(Sb(a,Math.min(d,b.c.maxLength)))}w(t("title")&&!0,"module name expexted","title");Ac("warning",{module:"title"})}});if(b.c.pd){b.b.p({name:"pasteplain",action:function(a){b.h&&Hc(b.h);if(b.hasFocus())return document.execCommand("inserttext",!1,a.replace(/\s+/gi," ")),!0},enabled:function(){return b.hasFocus()}});var e=function(){var a=
X(c);return a&&!a.collapsed};b.b.p({name:"copy",value:function(){if(!e())return null;var a=X(c);return Ic(c,a,{plain:!0})},enabled:e});b.b.p({name:"inserttext",action:function(a){b.h&&Hc(b.h);if(b.hasFocus())return document.execCommand("inserttext",!1,a),!0},enabled:function(){return b.hasFocus()}});b.b.p({name:"delete",action:function(a){return"selection"===a?(document.execCommand("delete"),!0):!1},enabled:function(a){if("selection"===a)return b.hasFocus()}})}b.c.je&&(b.h=new Jc,b.mb().e(b.h,{element:c}),
b.b.p({name:"undo",action:function(){b.h.he();return!0},state:function(){return Kc(b.h)},value:function(){return Lc(b.h)},enabled:function(){return b.hasFocus()&&Kc(b.h)}}),b.b.p({name:"redo",action:function(){Mc(b.h);return!0},state:function(){return Nc(b.h)},value:function(){return Oc(b.h)},enabled:function(){return b.hasFocus()&&Nc(b.h)}}))};b.r=function(){b.setActive(!1);b.Ac=null;b.c=null;c.removeAttribute("data-en-placeholder");c=null};b.aa=function(d){d&&b.Vc();return b.c.multiline?c.innerText||
"":a(c.textContent)};b.be=function(d){c.textContent=a(d);b.Vc()};b.hasFocus=function(){if(!b.Ad())return!1;var a=X(c);return a&&(a=Xb(a))?!!Q(a,ob):!1};b.focus=function(){c.focus();Tb(Sb(c,P(c)))};b.lb=function(){return c.getAttribute("data-en-placeholder")||""};b.ff=function(b){null!=b?c.setAttribute("data-en-placeholder",a(b)):c.removeAttribute("data-en-placeholder")};b.setActive=function(a){window.getSelection().containsNode(c,!0)&&Wb();pb(c,a)};b.Ad=function(){return ob(c)};b.Vc=function(){b.Ac=
a(c.textContent)};b.vf=function(){return b.Ad()&&b.Ac===c.textContent}};var Pc={},Qc=null,Qa=null;function Rc(a){w(ma(a),"Expected to get an non empty object");Pc=a}function Sc(){var a=Pc.env;return a?a.selectionColor||"rgb(167, 203, 245)":"rgb(167, 203, 245)"}var Tc=!1;function Uc(){Bc("content");Tc=!0};function Vc(){function a(a){b(a.target)}function b(a){var b=k(a),c;y(Mb(a),function(a){Sa(a,"img-resizer-handle")&&(c=a.getAttribute("data-en-layout-algorithm"))});null!=c&&c!==b&&(d(a),g(a))}function c(a){d(a.target)}function d(a){y(Mb(a),function(a){Sa(a,"img-resizer-handle")&&F(a)})}function e(a){g(a.target)}function g(a){if(1!==M.length)y(lb().querySelectorAll(".img-resizer-handle"),function(a){a=Nb(Lb(a))[0];d(a)});else{var b=!1;y(Mb(a),function(a){Sa(a,"img-resizer-handle")&&(b=!0)});if(!0!==
b){var c=p(a),g=c===a.naturalWidth;if(!(142>=c)){var e=f(a),l=k(a),h=Pb(a,l);U(h,"z-index","901");C(h,"img-resizer-handle");C(h,l);var n;"bottomRightResizeHandle"===l?n="cursor: nwse-resize;":"bottomLeftResizeHandle"===l&&(n="cursor: nesw-resize;");var m=function(){U(a,"height","auto");var b=L(a);T(a,"width");a.setAttribute("width",b.width)},Z=L(a);x.Ab.bc(h,function(){null!=D&&u.warn("Multiple images being resized at once! <$>");D=a;m()},function(b){var d=L(mb()).width;b="right"===e?Z.width-b:"center"===
e?Z.width+2*b:Z.width+b;142>=b?a.setAttribute("width","142"):b>=d||b>=c?(a.removeAttribute("width"),!1===g&&(r(a),m())):a.setAttribute("width",""+b);Kb()},function(){D=null;Z=L(a);Uc();Vb(a)},n)}}}}function k(a){return"right"===f(a)?"bottomLeftResizeHandle":"bottomRightResizeHandle"}function f(a){a=(a=K(a))?a.textAlign:null;return"center"===a?"center":"right"===a?"right":"justify"===a?"full":"left"}function h(a){Vb(a.target)}function n(a){!1!==a.classList.contains("img-selected")&&(E(a,"img-selected"),
y(Mb(a),function(a){Sa(a,"img-selected-overlay")&&F(a)}))}function l(a){null!=a&&a!=={}&&(Z=a);y(document.querySelectorAll("img"),function(a){!0===a.complete?m(a):x.b.g(a,"load",function(){m(a)})})}function m(a){r(a);var b=v(a),c=b.width,b=b.height;null==c&&null==b?a.style.height="auto":null!=c&&null!=b&&Math.round(a.naturalHeight/a.naturalWidth*10)===Math.round(b/c*10)&&(a.style.height="auto")}function r(a){var b=a.naturalWidth,c=p(a),d=a.naturalHeight,g;if(null==Z)g=a.naturalHeight;else if(null==
Z["images-dpi"][a.getAttribute("src")])g=a.naturalHeight;else{g=Z["images-dpi"][a.getAttribute("src")][1];var f=a.naturalHeight;g=144===g?Math.round(f/(g/72)):f}f=v(a);null==f.height&&null==f.width&&(b!==c&&U(a,"width",c+"px"),d!==g&&U(a,"height",g+"px"))}function p(a){if(null==Z)return a.naturalWidth;var b;if(null==Z["images-dpi"][a.getAttribute("src")])return a.naturalWidth;b=Z["images-dpi"][a.getAttribute("src")][0];a=a.naturalWidth;return 144===b?Math.round(a/(b/72)):a}function v(a){var b;null!=
a.getAttribute("width")?b=parseInt(a.getAttribute("width"),10):(b=parseInt(a.style.width,10),isNaN(b)&&(b=null));null!=a.getAttribute("height")?a=parseInt(a.getAttribute("height"),10):(a=parseInt(a.style.height,10),isNaN(a)&&(a=null));return{width:b,height:a}}var x=this;this.name="ui-img";var D,M=[],Z=null;this.e=function(b){x.b.g(document,"imageAdded",function(b){x.b.g(b.target,"imageSelected",e);x.b.g(b.target,"imageUnselected",c);x.b.g(b.target,"imageAligned",a)});x.b.g(document,"imageAdded",function(a){x.b.g(a.target,
"click",h)});x.b.g(document,"selectionchange",function(){var a=window.getSelection(),b=mb().querySelectorAll("img");M=[];y(b,function(b){a.containsNode(b,!1)&&-1===M.indexOf(b)&&M.push(b)});y(b,function(b){if(a.containsNode(b,!1)){if(!b.classList.contains("img-selected")){C(b,"img-selected");var c=Pb(b);C(c,"img-selected-overlay");var d=J("div",{"class":"img-selected-overlay-top-left-corner"}),g=J("div",{"class":"img-selected-overlay-top-right-corner"}),f=J("div",{"class":"img-selected-overlay-bottom-left-corner"}),
e=J("div",{"class":"img-selected-overlay-bottom-right-corner"}),k=J("div",{"class":"img-selected-overlay-right-edge"}),l=J("div",{"class":"img-selected-overlay-left-edge"});c.appendChild(d);c.appendChild(g);c.appendChild(f);c.appendChild(e);c.appendChild(k);c.appendChild(l)}A(b,"imageSelected",void 0)}else D!==b&&(n(b),A(b,"imageUnselected",void 0))})});b.images&&l(b.images);this.b.p({name:"images",action:function(a){a&&l(Oa(a));return!0},enabled:B});this.mb().e(this.Ab=new Rb);y(mb().querySelectorAll("img"),
function(a){A(a,"imageAdded",void 0)})};this.r=function(){y(mb().querySelectorAll("img"),function(a){n(a)});y(document.querySelectorAll("img"),function(a){d(a)})}};function Wc(){function a(a){var k=Oa(a);a=!1;var f=k.visible;null!=f&&(tb(c,!!f),a=!0);f=k.active;null!=f&&(C(c,f?"en-shared-on":"en-shared-off"),E(c,f?"en-shared-off":"en-shared-on"),a=!0);f=k.business;null!=f&&(tb(e,!!f),a=!0);k=k.value;t(k)&&(d.innerHTML=k,W("a",d).forEach(function(a){var c=a.getAttribute("href");a.removeAttribute("href");C(a,"en-shared-link");a=$a(a,"span");a.onclick=function(){var d=L(a);Dc(c,b.name,{left:d.left,top:d.top,width:d.width,height:d.height});return!1}}),a=!0);return a}
var b=this;this.name="shared";w(this instanceof Wc,"Use `new` to instantiate this class");var c=null,d=null,e=null;this.e=function(b){var k=Sa(document.body,"en-yosemite"),f=document.querySelector(".en-note-container");d=J("div",{"class":"en-shared-message"});e=J("div",{"class":"en-shared-business",style:"display:none;"});c=J("div",{"class":"en-shared en-shared-off",id:"en-shared",style:"display:none;"},[e,d]);k?f.insertBefore(c,f.firstChild):f.parentNode.insertBefore(c,f);a(b);this.b.p({name:"shared",
action:a,enabled:B})};this.r=function(){e=d=null;F(c);c=null}};function Xc(){function a(a){if(!(null==a||t(a)&&""===a||ea(a)&&0===Object.keys(a).length)){var l=Oa(a);a=l.visible;var h=l.expanded,D=l.hideIndicatorLabelWhenExpanded,p=l.hideIndicatorLabelWhenCollapsed,v=l.chatButtonLabel||"Chat",x=l.shareButtonLabel||"Share",xb=l.items,H=l.contextSectionLabel,ba=l.firstLaunchInfo;null!=a&&tb(r,!!a);if(xb&&!(0>=xb.length)){Va(r);var ta=J("div",{"class":"en-context-label"});ta.textContent=H||"Context";r.appendChild(ta);H=J("div",{"class":h?"en-context-hide-label":
"en-context-show-label"});r.appendChild(H);if(null!=ba&&null!=ba.headline&&null!=ba.subHeadline&&null!=ba.learnMoreLinkLabel&&null!=ba.dismissButtonLabel){var yb=ba.headline,wb=ba.subHeadline,ta=ba.learnMoreLinkLabel,ba=ba.dismissButtonLabel,zb=J("div",{"class":"en-context-fle-container"});r.appendChild(zb);var Ma=J("div",{"class":"en-context-fle-header"});Ma.textContent=yb;zb.appendChild(Ma);yb=J("div",{"class":"en-context-fle-body"});zb.appendChild(yb);Ma=J("span",{"class":"en-context-fle-subheader"});
Ma.textContent=wb+" ";yb.appendChild(Ma);wb=J("span",{"class":"en-context-fle-learn-more"});wb.textContent=ta;yb.appendChild(wb);n.b.g(wb,"click",function(a){Dc("learnMore",n.name,{kind:"firstLaunch",sharing:!1});a.stopPropagation()});ta=J("div",{"class":"en-context-fle-dismiss-button"});ta.textContent=ba;zb.appendChild(ta);n.b.g(ta,"click",function(a){Dc("dismiss",n.name,{kind:"firstLaunch",sharing:!1});F(zb);a.stopPropagation()})}ta=J("div",{"class":"en-context-card-holder"});r.appendChild(ta);
for(ba=0;ba<xb.length;ba++)ta.appendChild(f(xb[ba],x,v));U(r,"max-height",139*m.maxRows+32+"px");h?e(H,D):g(H,p);d(H,D,p);b();k(!0);!0===a&&!0===h&&0<xb.length&&n.b.timeout(function(){c(l)},1500)}}}function b(){var a;var b=document.querySelector(".en-context-card-holder");a=document.querySelectorAll(".en-context-item").length||0;var c=document.querySelector(".en-context-item");if(null==b||null==c)a=null;else{var b=Math.round(L(b).width),d=K(c),g=Math.round(c.offsetWidth+(parseInt(d["margin-left"],
10)+parseInt(d["margin-right"],10)));a={ue:b,Ze:a,xe:g,sf:Math.round(c.offsetHeight+(parseInt(d["margin-top"],10)+parseInt(d["margin-bottom"],10))),ye:Math.floor(b/g)}}c=document.querySelector(".en-context-card-holder");null!=a&&null!=c&&(b=Math.min(a.Ze,a.ye),0>=b?U(c,"left","0px"):U(c,"left",(a.ue-a.xe*b)/2+"px"))}function c(a){if(!0!==x&&!1!==m.showPopup&&null==p&&null!=r&&null!=a&&null!=a.items&&0!==a.items.length){var b=a.items,c=a.toastNotificationHeaderLabel||"FIX HEADER";a=a.toastNotificationFooterLabel||
"FIX FOOTER";var d=h(b[0].title||"Untitled"),g=J("div",{"class":"en-context-popup-header"});g.textContent=c;c="en-context-popup-body";null!=b[0].kind&&(c+=" "+b[0].kind);b=J("div",{"class":c});b.textContent=d;d=J("div",{"class":"en-context-popup-footer"});d.textContent=a;d.appendChild(J("div",{"class":"en-context-popup-down-arrow"}));p=J("div",{"class":"en-context-popup"},[J("div",{"class":"en-context-popup-wrapper"},[g,b,d])]);r.parentNode.insertBefore(p,r.nextSibling);n.b.timeout(function(){C(p,
"en-context-popup-visible")},1);n.b.g(p,"mousedown",function(){n.b.Tc(v)});n.b.g(p,"mouseup",function(){var a=L(r);Db(a.top-15);E(p,"en-context-popup-visible");U(p,"pointer-events","none")});v=n.b.timeout(function(){E(p,"en-context-popup-visible");U(p,"pointer-events","none")},5500,v)}}function d(a,b,c){n.b.g(a,"click",function(){a.textContent===b?(g(a,c),Fc(!1)):a.textContent===c&&(e(a,b),Fc(!0));k(!0)})}function e(a,b){var c=V(".en-context-card-holder",r),d=V(".en-context-fle-container",r);1!==
c.length?u.error("Couldnt find card holder?!"):(c=c[0],a.textContent=b,E(a,"en-context-show-label"),C(a,"en-context-hide-label"),tb(c,!0),null!=d&&1===d.length&&tb(d[0],!0))}function g(a,b){var c=V(".en-context-card-holder",r),d=V(".en-context-fle-container",r);1!==c.length?u.error("Couldnt find card holder?!"):(c=c[0],a.textContent=b,E(a,"en-context-hide-label"),C(a,"en-context-show-label"),tb(c,!1),null!=d&&1===d.length&&tb(d[0],!1))}function k(a){function b(){var a=r.querySelector(".en-context-item");
null!=a&&Eb(a,100)&&!1===x&&(x=!0,Ec())}null==a&&(a=!1);a?b():D=n.b.timeout(b,100,D)}function f(a,b,c){var d=a.link||"#",g=a.kind||"undefined",f=document.createTextNode(h(a.text||"")),e=a.thumbnail||"",k=""!==e,m=h(a.title||"Untitled"),D=a.sourceName||"",p=a.sourceId||"",r=a.date||"",v=a.author||"";a=a.canShare;var x=J("div",{"class":k?"en-context-item-title":"en-context-item-title en-context-wide",href:d,name:g});x.textContent=m;m=J("span",{"class":"en-context-author"});""!==v&&(m.textContent=v);
var Ma=J("span",{"class":"en-context-separator"});Ma.textContent="|";var wc=J("span",{"class":"note"===g?"en-context-note-date":"en-context-news-date"});""!==r&&(wc.textContent=r);d=[];"news"===g?""!==r?(d.push(wc),""!==v&&(d.push(Ma),d.push(m))):""!==v&&d.push(m):(""!==r&&d.push(wc),d.push(f));f="en-context-item-body";k||(f+=" en-context-wide");"news"===g?f+=" en-context-item-body-one":"note"===g&&"evernote.business"===p?f+=" en-context-item-body-two":"people"===g&&(f+=" en-context-body-italics");
r=J("div",{"class":f},d);f=J("div",{"class":"en-context-graphic-clipper"});d="en-context-graphic";a&&(d+=" en-context-graphic-blur");e=J("img",{"class":d,alt:"graphic",src:e});d="en-context-graphic-hover";k||(d+=" en-context-graphic-hover-solid");b=J("div",{"class":d},[J("div",{"class":"en-context-workchat"}),J("div",{"class":"en-context-share-text"},["people"===g?c:b])]);k&&f.appendChild(e);a&&(f.appendChild(b),n.b.g(f,"click",function(a){Dc(x.getAttribute("href"),n.name,{kind:x.getAttribute("name"),
sharing:!0});a.stopPropagation()}));k=p;"dowjones.wsj"===k&&(k="wsj");"profile.linkedin"===k&&(k="linkedin");if("profile.evernote.business"===k||"evernote.business"===k)k="evernote-business";"profile.factiva"===k&&(k="factiva");c="";if("profile.evernote.business"===p||"evernote.business"===p)c="en-context-source-text-blue";b=J("div",{"class":"en-context-source-img "+k});c=J("div",{"class":"en-context-source-text "+c});c.textContent="dowjones.wsj"===p?"":"evernote.business"===p?v:D;D=J("div",{"class":"en-context-source"});
-1!==l.indexOf(k)&&D.appendChild(b);D.appendChild(c);v=[x,r];v.push(f);("news"===g||"people"===g||"company"===g||"note"===g&&"evernote.business"===p)&&v.push(D);g=J("div",{"class":"en-context-item"},v);n.b.g(g,"click",function(a){Dc(x.getAttribute("href"),n.name,{kind:x.getAttribute("name"),sharing:!1});a.preventDefault()});return g}function h(a){var b=J("div");try{b.innerHTML=a}catch(c){return a}return null!=b.textContent?b.textContent:a}var n=this;this.name="context";w(this instanceof Xc,"Use new for this");
var l="factiva fastcompany inc lifehacker linkedin pandodaily techcrunch verge evernote-business wsj".split(" "),m,r=null,p=null,v=0,x=!1,D=-1;this.e=function(c){var d=document.querySelector(".en-note-container");r=J("div",{"class":"en-context",id:"en-context",style:"display:none;"});null!=d?(d.parentNode.insertBefore(r,d.nextSibling),n.b.g(window,"scroll resize",k),k(!0),n.b.g(window,"resize",b),m=la(c,{showPopup:!0,maxRows:9999},!1),this.b.p({name:"context",action:a,enabled:B})):u.error("Couldnt find note container! Bailing.")};
this.r=function(){F(r);F(p);v=0;r=null;x=!1}};function Yc(){function a(a){if(!(null==a||t(a)&&""===a||ea(a)&&0===Object.keys(a).length)){var h=Oa(a),n=h.expanded;null==n&&(n=!1);var p=h.headline||"Get more Context with Premium",v=h.subHeadline||"Go Premium to view notes, articles, and people related to what you're working on.";a=h.goPremiumLabel||"Go Premium";var x=h.hideIndicatorLabelWhenExpanded||"Hide",h=h.hideIndicatorLabelWhenCollapsed||"Show";Va(k);tb(k,!0);f=J("div",{"class":"en-context-upsell-body"});k.appendChild(f);var D=J("div",{"class":n?
"en-context-upsell-hide-label":"en-context-upsell-show-label"});k.appendChild(D);n?c(D,x):d(D,h);b(D,x,h);n=J("div",{"class":"en-context-upsell-headline"});n.textContent=p;f.appendChild(n);p=J("div",{"class":"en-context-upsell-subheadline"});p.textContent=v;f.appendChild(p);v=J("div",{"class":"en-context-upsell-go-premium"});v.textContent=a;f.appendChild(v);g.b.g(v,"click",function(a){Dc("http://evernote.com","context",{kind:"upsell",sharing:!0});a.stopPropagation()});e(!0)}}function b(a,b,f){g.b.g(a,
"click",function(){a.textContent===b?(d(a,f),Fc(!1)):a.textContent===f&&(c(a,b),Fc(!0));e(!0)})}function c(a,b){null!=f&&(a.textContent=b,E(a,"en-context-upsell-show-label"),C(a,"en-context-upsell-hide-label"),tb(f,!0))}function d(a,b){null!=f&&(a.textContent=b,E(a,"en-context-upsell-hide-label"),C(a,"en-context-upsell-show-label"),tb(f,!1))}function e(a){function b(){Eb(k,75)&&!1===h&&(h=!0,Ec())}null==a&&(a=!1);a?b():n=g.b.timeout(b,100,n)}var g=this;this.name="context-upsell";w(this instanceof
Yc,'Use "new" to create the Context Upsell Plugin');var k=null,f=null,h=!1,n=-1;this.e=function(b){var c=document.querySelector(".en-note-container");k=J("div",{"class":"en-context-upsell",id:"en-context-upsell",style:"display:none;"});null!=c?(c.parentNode.insertBefore(k,c.nextSibling),g.b.g(window,"scroll resize",e),e(!0),a(b),this.b.p({name:"context-upsell",action:a,enabled:B})):u.error("Couldnt find note container! Bailing.")};this.r=function(){F(k);f=k=null;h=!1}};function Zc(){function a(a){a=Oa(a);a=c(a.value,+a.limit||d);return JSON.stringify(a)}function b(a){c(a);return!0}function c(a,b){if(0>=a.length)return null;b||(b=d);var c=b,h=[a.trim()].map(ja).join("|"),n=new RegExp(h,"gi"),l=[],m=!1;V(e).forEach(function(a){for(var c=a.textContent,d;(d=n.exec(c))&&0<d.length;){var g=d.index,f=n.lastIndex,f=g={string:c.slice(g,f),length:f-g,from:g,to:f},e=a,h={start:f.from,end:f.to},La=bc(h,e),sa=La.getBoundingClientRect();sa.height>rc(K(Xb(La)).lineHeight)&&(La=
bc({start:f.from,wf:1},e),e=La.getBoundingClientRect(),sa={left:e.left,right:sa.right,top:e.top,bottom:e.bottom});e=document.body;f.to=h.end;f.top=sa.top+e.scrollTop;f.bottom=sa.bottom+e.scrollTop;f.left=sa.left+e.scrollLeft;f.right=sa.right+e.scrollLeft;f.width=sa.right-sa.left;f.height=sa.bottom-sa.top;if(0>=b--){m=!0;break}l.push(g)}});return{limit:c,hasMore:m,count:l.length,items:l}}this.name="find";w(this instanceof Zc,"Use `new` to instantiate this class");var d,e;this.e=function(c){d=0<+c.limit?
+c.limit:100;e=t(c.selector)?c.selector:"#en-note";this.b.p({name:"find",action:b,value:a,enabled:B})}};var $c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;function Jc(){if(!(this instanceof Jc))return new Jc;this.name="undo"+za++}
Jc.prototype.e=function(a){var b=this;b.c=la(a,{element:null,rd:!1,fc:null,gc:null,Uc:null,Ld:null});a=b.c.element;b.root=a;w(!!a&&G(a),"UndoManager requires a node to be attached to!");b.c.rd=!0;b.Nc=!1;b.Y=null;!b.c.rd&&$c&&(b.Xa=$b(X(this.root)),b.ya=[],b.Y=new $c(b.dc.bind(b)),ad(b),b.b.kd(function(){bd(b)}));b.clear();cd(b);b.b.g(b.root,"keydown",function(a){a=a.keyCode;(33<=a&&36>=a||37<=a&&40>=a||45===a||13===a)&&cd(b)});b.b.g(b.root,"blur select click mousedown paste cut copy",function(){cd(b)})};
Jc.prototype.clear=function(){dd(this);this.stack=[];this.index=0;cd(this)};Jc.prototype.r=function(){this.w=this.Nc=this.c=this.root=this.Y=this.index=this.stack=null};
Jc.prototype.add=function(a){var b=this;a.title||(a.title="");if(b.c.fc&&b.c.gc&&b.c.Uc){for(var c=b.c.fc(b.root),d=[],e=0;e<a.Hb.length;e++){var g=a.Hb[e];0<=c.indexOf(g)||d.push(g)}for(var k=[],e=0;e<c.length;e++)g=c[e],0<=a.Hb.indexOf(g)||k.push(g);d.length&&b.c.gc(d);a.ie.push(function(){k.length&&b.c.gc(k);d.length&&b.c.Uc(d)});a.Vd.push(function(){d.length&&b.c.gc(d);k.length&&b.c.Uc(k)});a.Hb=void 0}b.w.Db=yc(b.root);b.Y||(b.w.Eb=b.root.cloneNode(!0));(a.Ce=!!b.Y)?a.Od=ed(b):(a.Eb=a.Eb||b.root.cloneNode(!0),
a.eb=a.eb||a.Eb);a.oc=a.oc||a.Db;a.Db=a.Db||yc(b.root);for(b.stack.length=b.index;b.c.Ld&&b.stack.length>b.c.Ld;)b.stack.shift(),b.index--;b.stack.push(a);++b.index;b.w=null;return a};var fd=/\s*(id|class|data\-en\-[a-z0-9\-]+)\=\".*?\"/gi;function gd(a){var b;if(!a.w)return!1;if(a.Y)return a.dc(hd(a)),0<a.ya.length;b=b||a.root.innerHTML;return a.w.eb?(a=a.w.eb.innerHTML,a=a.replace(fd,""),b=b.replace(fd,""),a!==b):!1}
function cd(a){dd(a);a.w={};a.w.ie=[];a.w.Vd=[];a.w.oc=yc(a.root);a.Y||(a.w.eb=a.root.cloneNode(!0));a.c.fc&&(a.w.Hb=a.c.fc(a.root))}function dd(a){gd(a)&&a.add(a.w);delete a.w}function Hc(a,b){cd(a);b&&a.w&&(a.w.title=b)}
Jc.prototype.restore=function(a,b){try{var c=b?a.Vd:a.ie;if(c&&0<c.length)for(var d=0;d<c.length;d++)c[d](a);if(a.Ce){if(b){var e=a.Od;bd(this);e=e||this.ya;for(c=0;c<e.length;c++){var g=e[c];"childList"===g.type?(g.Cb&&g.target.insertBefore(g.Cb,g.nextSibling),g.ec&&g.target.removeChild(g.ec)):g.target&&"attributes"===g.type?null===g.value?g.target.removeAttribute(g.attributeName):g.target.setAttribute(g.attributeName,g.value):"characterData"===g.type?g.target.data=g.value:u.error("unknown mutation",
g.type)}}else{var k=a.Od;bd(this);for(var k=k||this.ya,f=k.length-1;0<=f;f--){var h=k[f];"childList"===h.type?(h.Cb&&h.target.removeChild(h.Cb),h.ec&&h.target.insertBefore(h.ec,h.nextSibling)):"attributes"===h.type?null===h.oldValue?h.target.removeAttribute(h.attributeName):h.target.setAttribute(h.attributeName,h.oldValue):"characterData"===h.type?h.target.data=h.oldValue:u.error("unknown mutation",h.type)}}ad(this)}else{this.root.innerHTML="";for(var n=b?a.Eb:a.eb,d=0;d<P(n);d++)this.root.appendChild(n.childNodes[d].cloneNode(!0))}zc(this.root,
b?a.Db:a.oc);this.w=null;cd(this);A(this.root,b?"redo":"undo")}catch(l){u.error("Exception occurred in <$>:",l.toString())}};Jc.prototype.he=function(){dd(this);if(1>this.index)return null;var a=this.stack[--this.index];this.restore(a,!1);return a};function Mc(a){if(Nc(a)){var b=a.stack[a.index++];a.restore(b,!0)}}function Kc(a){return 0<a.stack.length&&0<a.index||gd(a)}function Nc(a){return 0<a.stack.length&&a.index<a.stack.length&&!gd(a)}
function Lc(a){if(!Kc(a))return null;var b=null;return(b=gd(a)?a.w:a.stack[a.index-1])?b.title:null}function Oc(a){return Nc(a)?(a=a.stack[a.index])?a.title:null:null}function ad(a){if(a.Y){var b=new (window.MutationObserverInit||window.of||window.nf||Object);b.subtree=!0;b.childList=!0;b.attributes=!0;b.characterData=!0;b.attributeOldValue=!0;b.characterDataOldValue=!0;a.ya=[];self.Nc=!0;a.Y.observe(a.root,b)}}function hd(a){return a.Y.takeRecords?a.Y.takeRecords():null}
function bd(a){if(a.Y){var b=hd(a);a.dc(b);a.Y.disconnect();self.Nc=!1}}function ed(a){a.dc(hd(a));var b=a.ya;a.ya=[];return b}
Jc.prototype.dc=function(a){if(a)for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<Math.min(1,c.addedNodes.length+c.removedNodes.length);d++){var e={type:c.type,target:c.target,Cb:c.addedNodes[d],ec:c.removedNodes[d],oldValue:c.oldValue,nextSibling:c.nextSibling,attributeName:c.attributeName,value:"characterData"===c.type?c.target.data:c.target.getAttribute(c.attributeName),xf:c};("attributes"!==e.type||"width"!==e.attributeName&&"height"!==e.attributeName&&"embed"!==I(e.target))&&this.ya.push(e)}return this.ya};function id(){function a(){return k.hasFocus()}function b(a){return"placeholder"===a?k.lb():"focus"===a?k.hasFocus():k.aa()||k.lb()}function c(a){a=Oa(a);var b=!1,c=a.active;null!=c&&(k.setActive(c),b=!0);c=a.value;null!=c&&(d(c),b=!0);!0===a.focus&&(k.focus(),b=!0);return b}function d(a){a&&a!==k.lb()?k.aa()!==a&&k.be(a):k.be("");a=k.aa()||k.lb();a!==f&&A(document,"titlechanged",a);f=a}w(this instanceof id,"Use `new` to instantiate this class");var e=this;this.name="title";var g=document.querySelector("#en-title");
w(G(g),"Node for title required");var k=null,f=null;this.e=function(h){h=la(h,{active:!0,value:"",placeholder:"Untitled"});k=new Gc;this.mb().e(k,{element:g,Nd:!1,maxLength:255,placeholder:h.placeholder,je:!0,pd:!0,gd:h.active});this.b.kd(function(){k=null});f=h.value;d(f);this.b.g(g,"change blur",function(){var a=k.aa()||k.lb();d(a)});this.b.g(g,"keydown",function(a){var b=!1,c=(a.shiftKey?1:0)+(a.altKey?2:0)+(a.metaKey?4:0)+(a.ctrlKey?8:0);9===a.keyCode?0===c?(Qa.action("focus",""),b=!0):1===c&&
(Cc(e.name),b=!0):13===a.keyCode&&(0===c?(Qa.action("focus",""),b=!0):1===c?(Cc(e.name),b=!0):4!==c&&6!==c&&(b=!0));return b?(a.preventDefault(),a.stopPropagation(),!1):!0});this.b.p({name:"title",action:c,value:b,state:a,enabled:B});this.b.p({name:"focus",action:function(){k.focus();return!0},value:function(){return a()?"title":null},state:a,enabled:function(a){return"title"===a}})}};function jd(a){w(a,"We need field info");w(a.m,"We need an element to work on");var b=a.m;b.innerHTML=kd(b,a.Ed);oa(b.textContent)?C(b,"en-editable-placeholder"):E(b,"en-editable-placeholder");a.Oe=b.innerHTML}function kd(a,b){var c=a.innerText.trim();oa(c)?c="\u00a0":b?(c=c.split("\n"),c=c.map(function(a){return oa(a)?"<div><br/></div>":"<div>"+ya(a)+"</div>"}),c=c.join("")):c=ya(c.replace(/\n/g," "));return c}
function ld(a){var b=a.m;C(b,"en-editable");C(b,"en-editable-"+a.type);C(b,("en-"+a.c.rc+"-"+a.name).toLowerCase());b.setAttribute("title",(a.c.Za[a.name+"-placeholder-title"]||"...")+"\u00a0\u00a0\u00a0");pb(b,!0);jd(a);a.c.ad&&b.removeAttribute("style");var c=null;na(b,"focus",function(){c=a.object.ua();Aa(function(){window.getSelection().selectAllChildren(b)})});na(b,"blur",function(){Wb();jd(a);var b=!1;if(a.c.tb instanceof Object)try{var e=a.c.tb[a.name];e&&e(a)&&(b=!0)}catch(g){u.error("Exception on onDidChangeActions (1)",
g.toString())}e=a.object.ua();if(b||c!==e)a.c.tc=a.name,Uc()});na(b,"keydown",function(c){var e=!1;13===c.keyCode?a.Ed||(b.blur(),e=!0):8===c.keyCode&&(document.execCommand("delete"),e=!0);e&&(c.preventDefault(),c.stopPropagation());return!1})}function md(a,b){for(var c=z(a.querySelectorAll("*[style*='x-evernote:']")),d=0;d<c.length;d++){var e=c[d];if(sb(e,"x-evernote")===b)return e}return null}
function nd(a,b){a.ld=md(a.za,"context");a.Rd=md(a.Pc,"context");var c=a.ld,d=sb(c,"-evernote-context-name");C(c,"en-editable-context");var e;Va(c);c.appendChild(e=J("span"));e.textContent=a.c.Za[d+"-label"]||d;for(var g=[],k=0;k<b.length;k++){var f=b[k];g.push(J("option",{value:f,selected:f===d?"selected":void 0},a.c.Za[f+"-label"]||f))}var h=J("select",{"class":"en-editable-select-context",tabindex:"-1"},g);c.insertBefore(h,null);na(h,"change",function(){var b=h.value;U(c,"-evernote-context-name",
b);e.textContent=a.c.Za[b+"-label"]||b;if(a.c.tb instanceof Object)try{var d=a.c.tb[a.name];d&&d(a)}catch(g){u.error("Exception on onDidChangeActions (2)",g.toString())}a.c.tc=a.name;Uc()});c.parentElement.style.textDecoration="none"}function od(a){var b=sb(a.ld,"-evernote-context-name");b&&(U(a.Rd,"-evernote-context-name",b),a.Rd.textContent=a.c.Za[b+"-label"]||b)}function Y(a){if(!(this instanceof Y))return new Y(a);this.n=a;this.e()}Y.prototype.e=function(){};Y.prototype.ua=function(){return this.n.m.innerHTML};
Y.prototype.Bb=function(a){var b=this.ua();this.n.ub.innerHTML=b;a&&this.n.c.tc===this.n.name&&this.n.ub.insertBefore(pd(),null)};function qd(a){Y.call(this,a)}ga(qd,Y);function rd(a){Y.call(this,a)}ga(rd,Y);rd.prototype.ua=function(){return kd(this.n.m)};function sd(a){Y.call(this,a)}ga(sd,Y);sd.prototype.e=function(){ld(this.n)};sd.prototype.ua=function(){return kd(this.n.m)};function td(a){a.Ed=!0;Y.call(this,a)}ga(td,sd);
td.prototype.ua=function(){try{return kd(this.n.m,!0)}catch(a){u.error("getHTML 'en.template.PlainTextArea.prototype.getHTML' failed ",a)}return null};function ud(a){Y.call(this,a)}ga(ud,Y);ud.prototype.e=function(){this.n.m=md(this.n.za,"value");this.n.ub=md(this.n.Pc,"value");w(!!this.n.m,"x-evernote:value element missing in phone field");ld(this.n);nd(this.n,"phone home work mobile main home-fax work-fax other".split(" "))};ud.prototype.ua=function(){return kd(this.n.m)};
ud.prototype.Bb=function(a){ud.zb.Bb.call(this,a);od(this.n)};function vd(a){Y.call(this,a)}ga(vd,Y);vd.prototype.Pa=function(a,b){w(b instanceof Object);b.href=a;return J("a",b,a)};vd.prototype.aa=function(){var a=this.n.m.textContent;return!a||oa(a)?"":a.trim()};
vd.prototype.e=function(){function a(){E(g,"en-editable-hidden");C(e,"en-editable-hidden");Va(k);var a=b.aa();oa(a)?(E(e,"en-editable-hidden"),C(g,"en-editable-hidden")):k.appendChild(b.Pa(a,{tabindex:"-1"}));e.textContent=a}var b=this;this.n.m=md(this.n.za,"value");this.n.ub=md(this.n.Pc,"value");w(!!this.n.m,"x-evernote:value element missing in LinkField");var c=this.n.m,d=this.aa();T(c,"text-decoration");Va(c);var e;c.appendChild(e=J("div"));e.textContent=d;this.n.m=e;ld(this.n);var g,k;c.appendChild(g=
J("div",{"class":"en-editable-preview"},[k=J("span")]));a();na(g,"click",function(){e.focus()});na(e,"focus",function(){E(e,"en-editable-hidden");C(g,"en-editable-hidden")});na(e,"blur",function(){a()});C(this.n.za,"en-editable-container")};vd.prototype.ua=function(){var a=this.n.m.textContent;return oa(a)?"\u00a0":ya(this.Pa(a,{}))};function wd(a){Y.call(this,a)}ga(wd,vd);wd.prototype.e=function(){wd.zb.e.call(this);nd(this.n,["email","home","work","other"])};
wd.prototype.Bb=function(a){wd.zb.Bb.call(this,a);od(this.n)};wd.prototype.Pa=function(a,b){a=a.trim().replace(/^mailto:/,"");w(b instanceof Object);b.href="mailto:"+a;return J("a",b,a)};function xd(a){Y.call(this,a)}ga(xd,vd);xd.prototype.aa=function(){var a=this.n.m.textContent;if(!a)return"";a=a.trim().replace(/^\@/,"");return oa(a)?"":a};xd.prototype.Pa=function(a,b){w(b instanceof Object);b.href="http://twitter.com/"+encodeURIComponent(a);return J("a",b,"@"+a)};
function yd(a){Y.call(this,a)}ga(yd,vd);function zd(a){Y.call(this,a)}ga(zd,vd);function Ad(a){Y.call(this,a)}ga(Ad,vd);Ad.prototype.aa=function(){var a=this.n.m.textContent;if(!a)return"";a=a.trim().replace(/^\@/,"");return oa(a)?"":a};Ad.prototype.Pa=function(a,b){w(b instanceof Object);return document.createTextNode("@"+a)};function Bd(a){Y.call(this,a)}ga(Bd,vd);
Bd.prototype.Pa=function(a,b){a=a.trim();w(b instanceof Object);b.href="http://maps.google.com/?q="+encodeURIComponent(a);return J("a",b,a)};var Cd={title:rd,field:sd,textarea:td,phone:ud,email:wd,twitter:xd,linkedin:yd,facebook:zd,weibo:Ad,address:Bd,"profile-image":qd},Dd=Object.keys(Cd);function Ed(){w(this instanceof Ed,"Use `new` to instantiate this class")}q=Ed.prototype;q.name="template";
function Fd(a,b,c){a.$e=c;c=c.s;w(!!c&&c instanceof Na,"Expected command manager in context");a.s=c;a.c=la(b,{Jb:null,rc:null,Fb:null,ad:!1,bd:null,cd:null,Oc:{},tb:{},Za:{},tc:null,root:null});a.root=b.root||document.getElementById("en-note");w(a.root&&G(a.root),"Root not valid!");Gd(a.root);w(null!==a.c.Jb,"Content Class is required");a.c.rc=a.c.rc||a.c.Jb.replace(/[^\w]+/gi,"-");a.root===document.body?(a.Fa=document.body.parentNode.cloneNode(!0),z(a.Fa.getElementsByTagName("head")).forEach(function(a){F(a)})):
a.Fa=a.root.cloneNode(!0);b=Hd(a,a.root);var d=Hd(a,a.root===document.body?a.Fa.getElementsByTagName("body")[0]:a.Fa);a.R=[];for(var e=0;e<b.length;e++)try{var g=b[e];g.index=e;g.ub=d[e].m;g.c=a.c;g.za=g.m;g.Pc=g.ub;g.object=new Cd[g.type](g);a.R.push(g)}catch(k){u.error("A field failed during setup",k.toString())}null!==a.c.cd&&Id(a,a.c.cd);a.wd=function(b){Id(a,b.data)};na(document,"titlechanged",a.wd);if(a.c.Oc instanceof Object)for(e=0;e<a.R.length;e++)try{var g=a.R[e],f=a.c.Oc[g.name];f&&f(g)}catch(h){u.error("Exception on onDidInitActions (3)",
h.toString())}a.xb(c)}q.r=function(){for(var a=0;a<this.R.length;a++)try{ra(this.R[a].m)}catch(b){u.error("Exception on cleanup",b.toString())}V(".en-editable-select-context,.en-editable-preview",this.root).forEach(function(a){ra(a)});this.R=[];qa(document,"titlechanged",this.wd)};q.hasFocus=function(){var a=X(this.root);return a&&(a=Xb(a))?Q(a,ob):!1};
q.xb=function(){var a=this;this.b.p({name:"focus",action:function(){a.focus();return!0},state:function(){return a.hasFocus()},value:function(){if(a.hasFocus())return a.name},enabled:function(a){return!a||"template"===a||"content"===a}});this.b.p({name:"pasteplain",action:function(a){document.execCommand("inserttext",!1,a.replace(/\s+/gi," "))},enabled:B});this.b.p({name:"copy",enabled:B,value:function(){var b=X(a.root);if(!b||b.collapsed)return"";var c={},b=b.cloneContents(),d=document.createElement("div");
d.appendChild(b);Cb(d,function(a){c.plain=a.innerText});return JSON.stringify(c)}});this.b.p({name:"content",value:function(b){return a.uc(Oa(b))},enabled:B})};q.focus=function(a){for(a=+a||0;a<this.R.length;a++){var b=this.R[a];if(!b.Gd){b.m.focus();break}}};function Id(a,b){if(b&&0<b.length&&255>=b.length){for(var c,d=0;d<a.R.length;d++)if(!0===a.R[d].Gd){c=a.R[d];break}c&&c.m.textContent!==b&&(c.m.textContent=b,c.Oe=c.m.innerHTML)}}
function Hd(a,b){return z(b.querySelectorAll("*[style*='-evernote-editable:']")).map(function(a){var b=sb(a,"-evernote-editable");if(0<=Dd.indexOf(b)){var e=sb(a,"x-evernote"),g=this.c.bd&&this.c.bd===e;g&&(b="title");return g||null===this.c.Fb||this.c.Fb.some(function(a){return e===a})?{m:a,name:e,type:b,Gd:g}:void 0}u.error("Invalid -evernote-editable field mode!",b)},a).filter(function(a){return a&&a.m})}
q.uc=function(a){a=la(a,{html:!1,cleanup:!1,stripNS:!1,trim:!0,withInsertionPoint:!1,titleString:"",hiddenCryptoData:null,wrap:!1});t(a.titleString)&&Id(this,a.titleString);for(var b=0;b<this.R.length;b++){var c=this.R[b];try{c.object.Bb(a.withInsertionPoint)}catch(d){u.error("Unable to extract data from field",d.toString(),c)}}b="html"===I(this.Fa)||a.stripNS?this.Fa.outerHTML:this.Fa.innerHTML;a.stripNS&&(b=xa(b));b=b.trim();return a.html?"<html><head><title></title></head><body>"+b+"</body></html>":
a.wrap?Jd(this.root,b):b};
q.e=function(a,b){var c=a.contentClass,d=a.title,e=a.localization;if("evernote.food.meal.2"===c)Fd(this,{root:a.root||null,Jb:c,Fb:["caption-text","meal-review"],ad:!0,bd:"title",cd:d},b);else if("evernote.contact.1"===c){var g=function(a){return(a=a.m.textContent)?a.replace(/\s+/g," ").trim():null},k=null,f=d;Fd(this,{root:a.root||null,Jb:c,Fb:"contact-title contact-org note-body weibo twitter phone email address display-as".split(" "),ad:!1,Za:e||{"display-as-placeholder-title":"Add Name...","contact-title-placeholder-title":"Add Title...",
"contact-org-placeholder-title":"Add Company...","note-body-placeholder-title":"Add Notes...","linkedin-placeholder-title":"Add LinkedIn URL...","facebook-placeholder-title":"Add Facebook URL...","twitter-placeholder-title":"Add Twitter Name...","weibo-placeholder-title":"Add Weibo Name...","phone-placeholder-title":"Add Phone...","email-placeholder-title":"Add Email...","address-placeholder-title":"Add Address...","email-label":"Email","home-label":"Home","work-label":"Work","other-label":"Other",
"phone-label":"Phone","mobile-label":"Mobile","main-label":"Main","home-fax-label":"Home Fax","work-fax-label":"Work Fax","twitter-label":"Twitter","facebook-label":"Facebook","weibo-label":"Weibo","linkedin-label":"LinkedIn","address-label":"Address"},Oc:{"display-as":function(a){k=g(a)}},tb:{"display-as":function(a){f=Qa.value("title");var b=!1;a=g(a);if(k&&a&&f){var c=new RegExp("\\b"+ja(k)+"\\b","g");if(c=f.replace(c,a))255<c.length&&(c=f),Qa.action("title",c),b=!0,k=a}return b}}},b)}};function Kd(a){var b=this;b.nextNode=function(a){return a.hasChildNodes()?a.firstChild:b.ka(a)};b.previousNode=function(a){if(a.previousSibling){for(a=a.previousSibling;a.hasChildNodes();)a=a.lastChild;return a}return a.parentNode&&1===a.parentNode.nodeType?a.parentNode:null};b.ka=function(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};b.Cc=function(a,b){return!!(a&&b&&a.compareDocumentPosition(b)&16)};b.Ub=function(a,b){return!!(b&&a&&b.compareDocumentPosition(a)&16)};b.na=
function(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b};b.He=function(a){return b.na(a).concat(a)};b.ib=function(a){for(var d=[],e=b.ka(a);(a=b.nextNode(a))&&a!=e;)d.push(a);return d};b.vc=function(a){return"ltr"==a.dir?"ltr":"rtl"==a.dir?"rtl":R(a.parentNode)?b.vc(a.parentNode):"ltr"};b.Ta=function(a,d,e,g){if(a==e){if(d==g)return"equal";if(d<g)return"before";if(d>g)return"after"}if(e.compareDocumentPosition(a)&4){g=b.Ta(e,g,a,d);if("before"==g)return"after";if("after"==
g)return"before"}if(e.compareDocumentPosition(a)&8){for(;e.parentNode!=a;)e=e.parentNode;if(O(e)<d)return"after"}return"before"};b.sd=function(a){for(;null!=a.parentNode;)a=a.parentNode;return a};b.Tb=function(a,d){var e=b.Ta(a,0,d.startContainer,d.startOffset),g=b.Ta(a,P(a),d.endContainer,d.endOffset);return b.sd(a)==b.sd(d.startContainer)&&"after"==e&&"before"==g};b.ha=function(a,d){"undefined"==typeof d&&(d=function(){return!0});for(var e=a.startContainer,e=e.hasChildNodes()&&a.startOffset<e.childNodes.length?
e.childNodes[a.startOffset]:a.startOffset==P(e)?b.ka(e):b.nextNode(e),g=a.endContainer,g=g.hasChildNodes()&&a.endOffset<g.childNodes.length?g.childNodes[a.endOffset]:b.ka(g),k=[];e.compareDocumentPosition(g)&4;)b.Tb(e,a)&&d(e)?(k.push(e),e=b.ka(e)):e=b.nextNode(e);return k};b.Ra=function(a,d){"undefined"==typeof d&&(d=function(){return!0});for(var e=a.startContainer,e=e.hasChildNodes()&&a.startOffset<e.childNodes.length?e.childNodes[a.startOffset]:a.startOffset==P(e)?b.ka(e):b.nextNode(e),g=a.endContainer,
g=g.hasChildNodes()&&a.endOffset<g.childNodes.length?g.childNodes[a.endOffset]:b.ka(g),k=[];e.compareDocumentPosition(g)&4;)b.Tb(e,a)&&d(e)&&k.push(e),e=b.nextNode(e);return k};b.Va=function(a){return N(a,Ka)};b.u=function(b){return!(!b||b!==a&&!jb(b))};b.k=function(a){return!(!a||b.u(a))};b.oa=function(a,d,e){var g=0;null==e&&(e=!1);null==d&&(d=1);var k=b.ib(a);0===k.length&&(k=[a]);for(a=k.length-1;0<=a;a--){var f=k[a];if(gb(f)&&!Ab(f,e)||S(f)&&++g>=d+1||b.ca(f))return!1}return!0};b.d=function(a){return!(!a||
!b.Re(a)||1!==a.nodeType&&1!==a.parentNode.nodeType)};b.xd=function(a){for(var d=0;d<a.childNodes.length;d++)if(b.d(a.childNodes[d])||b.xd(a.childNodes[d]))return!0;return!1};b.Sb=function(c){if(!S(c))return!1;var d=b.J(c),e=!1,g=!1;ub(c,function(a){if(b.u(a)||d!==b.J(a))return!0;if(S(a))return g=!0;e=e||b.Fc(a);return!1},a);return!e&&!g};b.Fc=function(a){return 3===a.nodeType&&!Ab(a)||b.ca(a)};b.Ca=function(c){if(!S(c))return!1;for(var d=c;(d=d.parentNode)&&!(1<d.childNodes.length||d===a);){if(N(d,
"li"))return!1;if(b.u(d))break}var d=c,e=b.J(c),g=!1,k=!1;vb(d,function(a){if(b.u(a)||e!==b.J(a))return!0;if(S(a))return k=!0;g=g||b.Fc(a);return!1},a);var f=!1,h=!1;ub(d,function(a){if(b.u(a)||e!==b.J(a))return!0;if(S(a))return h=!0;f=f||b.Fc(a);return!1},a);return h||f||k||g?h||f?!1:g&&!f?!0:k?!1:!0:N(e,"li")};b.ca=function(a){return N(a,"img,embed,object,input,hr")};b.Ec=function(a){if(!Ab(a))return!1;if(""==a.data)return!0;var d=a.parentNode;if(!d||b.na(a).some(function(a){return 1==a.nodeType&&
"none"==K(a).display}))return!0;for(;!b.u(d)&&d.parentNode;)d=d.parentNode;for(var e=a;e!=d;){e=b.previousNode(e);if(b.u(e)||S(e))return!0;if(3==e.nodeType&&!Ab(e)||b.ca(e))break}e=a;for(a=b.ka(d);e!=a;){e=b.nextNode(e);if(b.u(e)||S(e))return!0;if(e&&3==e.nodeType&&!Ab(e)||b.ca(e))break}return!1};b.Hd=function(a){if(!a)return!1;if(b.u(a)||3===a.nodeType&&!b.Ec(a)||b.ca(a))return!0;for(var d=0;d<a.childNodes.length;d++)if(b.Hd(a.childNodes[d]))return!0;return!1};b.I=function(a){if(!a)return!1;if(b.u(a)||
b.ca(a)||3===a.nodeType&&!b.Ec(a)||S(a)&&!b.Ca(a))return!0;for(var d=0;d<a.childNodes.length;d++)if(b.I(a.childNodes[d]))return!0;return!1};b.nb=function(a){return Ua(a).some(function(a){return b.I(a)})};b.L=function(a){return!!a&&!b.I(a)};b.Dc=function(a){if(b.Sb(a)&&!b.Ca(a))return!0;if(!b.k(a)||1!=a.nodeType)return!1;for(var d=!1,e=0;e<a.childNodes.length;e++){if(!b.L(a.childNodes[e])&&!b.Dc(a.childNodes[e]))return!1;b.Dc(a.childNodes[e])&&(d=!0)}return d};b.Pe=function(a){return N(a,Ja)};b.G=
function(a,d){if((-1!=="colgroup table tbody tfoot thead tr".split(" ").indexOf(d)||N(d,"colgroup,table,tbody,tfoot,thead,tr"))&&"object"===typeof a&&3===a.nodeType&&!/^[ \t\n\f\r]*$/.test(a.data)||(-1!==["script","style","plaintext","xmp"].indexOf(d)||N(d,"script,style,plaintext,xmp"))&&("object"!==typeof a||3!==a.nodeType)||"object"===typeof a&&(9===a.nodeType||11===a.nodeType||10===a.nodeType))return!1;R(a)&&(a=I(a));if(!t(a))return!0;if(R(d)){for(var e=d;e;){if("a"===a&&R(e,"a")||-1!==Fa.indexOf(a)&&
b.Pe(e)||/^h[1-6]$/.test(a)&&R(e)&&/^h[1-6]$/.test(I(e)))return!1;e=e.parentNode}d=I(d)}if("object"===typeof d&&(1===d.nodeType||11===d.nodeType))return!0;if(!t(d))return!1;switch(d){case "colgroup":return"col"===a;case "table":return-1!=="caption col colgroup tbody td tfoot th thead tr".split(" ").indexOf(a);case "tbody":case "thead":case "tfoot":return-1!==["td","th","tr"].indexOf(a);case "tr":return-1!==["td","th"].indexOf(a);case "dl":return-1!==["dt","dd"].indexOf(a);case "dir":case "ol":case "ul":return-1!==
["dir","li","ol","ul"].indexOf(a);case "hgroup":return/^h[1-6]$/.test(a)}if(-1!=="body caption col colgroup frame frameset head html tbody td tfoot th thead tr".split(" ").indexOf(a)||-1!==["dd","dt"].indexOf(a)&&"dl"!==d||"li"===a&&"ol"!==d&&"ul"!==d)return!1;for(var e=[[["a"],["a"]],[["dd","dt"],["dd","dt"]],["h1 h2 h3 h4 h5 h6".split(" "),"h1 h2 h3 h4 h5 h6".split(" ")],[["li"],["li"]],[["nobr"],["nobr"]],[Ga,Fa],[["td","th"],"caption col colgroup tbody td tfoot th thead tr".split(" ")]],g=0;g<
e.length;g++)if(-1!==e[g][0].indexOf(d)&&-1!==e[g][1].indexOf(a))return!1;return!0};b.X=function(a){return b.d(a)&&b.I(a)&&(3===a.nodeType||b.ca(a)||S(a))};b.Da=function(a){if(!R(a))return!1;var b=I(a);return"blockquote"===b?!0:"div"!==b?!1:"0px"!==K(a)["margin-left"]?!0:!1};b.rb=function(a){if(!b.Da(a))return!1;for(var d=0;d<a.attributes.length;d++)if(-1===["style","dir"].indexOf(a.attributes[d].name))return!1;for(d=0;d<a.style.length;d++)if(!/^(-[a-z]+-)?(margin|border|padding)/.test(a.style[d]))return!1;
return!0};b.Te=function(a){return N(a,"address,div,h1,h2,h3,h4,h5,h6,listing,p,pre,xmp")};b.Hc=function(a){return b.Te(a)||N(a,"li,dt,dd")};b.J=function(a){for(;a&&!b.u(a);)a=a.parentNode;return a};b.Cd=function(a,d){var e=!1;a?0===d?e=b.u(a)||!a.parentNode:0<=d-1&&d-1<a.childNodes.length&&(e=b.I(a.childNodes[d-1])&&b.u(a.childNodes[d-1])||S(a.childNodes[d-1])):e=!0;return e};b.Bd=function(a,d){var e=!1;a?d===P(a)?e=!a.parentNode&&d===P(a)||b.u(a):d<a.childNodes.length&&(e=b.I(a.childNodes[d])&&b.u(a.childNodes[d])):
e=!0;return e};b.Rb=function(a,d){return b.Cd(a,d)||b.Bd(a,d)};b.V=function(a){var d=a.startContainer,e=a.startOffset,g=a.endContainer;a=a.endOffset;var k=b.na(d).concat(d).filter(function(a){return R(a,"li")}).slice(-1);k.length&&(e=O(k[0]),d=k[0].parentNode);if(!b.Cd(d,e)){do 0<=e-1&&G(d.childNodes[e-1])&&d.childNodes[e-1].hasChildNodes()?(d=d.childNodes[e-1],e=P(d)):0==e?(e=O(d),d=d.parentNode):e--,gb(d)&&(e=O(d),d=d.parentNode);while(!b.Rb(d,e))}for(;0==e&&d.parentNode&&b.d(g);)e=O(d),d=d.parentNode;
k=b.na(g).concat(g).filter(function(a){return R(a,"li")}).slice(-1);k.length&&(a=1+O(k[0]),g=k[0].parentNode);if(!b.Bd(g,a)){do a<P(g)&&G(g)&&g.hasChildNodes()?(g=g.childNodes[a],a=0):a>=P(g)?(a=1+O(g),g=g.parentNode):a++,gb(g)&&(a=1+O(g),g=g.parentNode);while(!b.Rb(g,a))}for(;a==P(g)&&g.parentNode&&b.d(g);)a=1+O(g),g=g.parentNode;return Sb(d,e,g,a)};b.gb=function(a){for(var d=0;!b.Rb(a,d);){if(0<=d-1&&d-1<a.childNodes.length&&b.I(a.childNodes[d-1]))return!1;0!=d&&a.hasChildNodes()?(a=a.childNodes[d-
1],d=P(a)):(d=O(a),a=a.parentNode)}return!0};b.ab=function(a){for(var d=P(a);!b.Rb(a,d);){if(d<a.childNodes.length&&b.I(a.childNodes[d]))return!1;d!=P(a)&&a.hasChildNodes()?(a=a.childNodes[d],d=0):(d=1+O(a),a=a.parentNode)}return!0};b.kb=function(a){return a&&a.style?rc(a.style.marginLeft):0};b.Yb=function(a,d){if(!a||b.ja(a)||!G(a))return!0;var e=a.style;if(e)for(var g=0;g<e.length;g++){var k=null,f=null,k=e[g],f=e.getPropertyValue(k);if(-1===Ia.indexOf(f)&&f&&-1===Ha.indexOf(k))return!1}return d?
b.Yb(a.parentNode):!0};b.Se=function(a){return!!Q(a,"li,ol,ul,dl,dd,dt",b.jb(a))};b.td=function(a){return N(a,"ul.en-todo-list")?"tl":N(a,"ol,ul")?I(a):null};b.ob=function(a,d){return b.td(a)===d};b.pf=function(a,b){return!(!a.isPointInRange(b.startContainer,b.startOffset)&&!a.isPointInRange(b.endContainer,b.endOffset))};b.Je=function(a,d){return 0===P(a)?null:d===P(a)&&a.parentNode&&b.k(a)?[a.parentNode,1+O(a)]:0<=d&&d<a.childNodes.length&&0!==P(a.childNodes[d])&&b.k(a.childNodes[d])?[a.childNodes[d],
0]:null};b.Le=function(a,d){return 0==P(a)?null:0==d&&a.parentNode&&b.k(a)?[a.parentNode,O(a)]:0<=d-1&&d-1<a.childNodes.length&&0!=P(a.childNodes[d-1])&&b.k(a.childNodes[d-1])?[a.childNodes[d-1],P(a.childNodes[d-1])]:null};b.Mb=function(a,d){for(var e;e=b.Le(a,d);)a=e[0],d=e[1];return[a,d]};b.wc=function(a,d){for(var e;e=b.Je(a,d);)a=e[0],d=e[1];return[a,d]};b.Vb=function(c){var d;!(d=a===c)&&(d=c&&db(c,a))&&(d=!!(c&&G(c)&&(Sa(c,"en-container")||R(c,"td")||b.u(c)&&!b.Yb(c,!1))));return d?!0:!1};b.ja=
function(b){return a===b};b.jb=function(c){return db(c,a)||b.ja(c)?a:null};b.Re=function(b){return db(b,a)};b.A=function(a,d){return!(!b.jb(a)||b.jb(a)!=b.jb(d))};return b};function Ld(a){a=V("*[id],*[class],*[data-en-overlay-id]",a);for(var b=a.length-1;0<=b;b--){var c=a[b];if(!Sa(c,"en-container")&&!Sa(c,"en-todo")){N(c,"embed,object,img")||"en-editor-last-insertion-point"!==c.id&&c.removeAttribute("id");c.removeAttribute("class");c.removeAttribute("data");for(var d in c.dataset)c.removeAttribute("data-"+d)}}}function Md(a){W("span",a).forEach(function(a){a.hasAttributes()||Xa(a)})}
function Nd(a){W("span[style*='-evernote-last-insertion-point']",a).forEach(function(a){Xa(a)})}
function Od(a){W('div[style~="margin-left:"]>ul,div[style~="margin-left:"]>ol',a).forEach(function(b){var c=b.parentElement;if(N(c,"div")){for(var d=sb(c,"margin-left"),d=+d.replace(/(\d+)em/gi,"$1"),e=null;0<d;){var g=ab(a,b.tagName);e?e.appendChild(g):c.insertAdjacentElement("afterEnd",g);e=g;d-=2}e&&(Ya(c,e),F(c))}});W('li[style*="list-style:"]',a).forEach(function(a){"none"===sb(a,"list-style")&&Xa(a)});W("ol,ul",a).forEach(function(b){var c=null;z(b.childNodes).forEach(function(b){N(b,"li,ol,ul")?
c=null:Ab(b)?F(b):jb(b)?$a(b,"li"):(c||(c=ab(a,"li"),b.parentNode.insertBefore(c,b.nextSibling)),c.appendChild(b))})})}function Pd(a){W("ol>ul,ul>ol,ul>ul,ol>ol",a).forEach(function(b){var c=ab(a,"li",{style:"display:inline;list-style:none;"});b.parentNode.insertBefore(c,b);c.appendChild(b)})}
function Qd(a){W("ul.en-todo-list",a).forEach(function(b){Ua(b).forEach(function(b){if(R(b,"li")){var d=ab(a,"object",{"class":"en-todo"});Ta(d,"en-todo-checked",Sa(b,"en-todo-checked"));b.insertBefore(d,b.firstChild)}})})}function Rd(a){W('ul[style*="-evernote-list-type"]',a).forEach(function(a){C(a,"en-todo-list");Ua(a).forEach(function(a){if(R(a,"li")){var b=!1,e=V("object.en-todo",a).shift();e&&(b=Sa(e,"en-todo-checked"),F(e));E(a,"en-todo-over");Ta(a,"en-todo-checked",b)}})})}
function Sd(a){W("object.en-todo",a).forEach(function(b){var c=ab(a,"input",{type:"checkbox"});Sa(b,"en-todo-checked")&&c.setAttribute("checked","checked");Wa(b,c)})}function Td(a){W("input[type=checkbox]",a).forEach(function(b){var c=ab(a,"object",{"class":"en-todo"});Ta(c,"en-todo-checked",b.checked);Wa(b,c)})}
function Ud(a){W("embed",a).forEach(function(b){if("evernote/x-todo"===b.type){var c=ab(a,"object",{"class":"en-todo"});"true"===b.getAttribute("todo-checked")&&C(c,"en-todo-checked");Wa(b,c)}else(c=b.getAttribute("align"))&&c.length&&"absmiddle"!==c.toLowerCase()&&b.removeAttribute("align"),T(b,"float"),b.style.textAlign&&"absmiddle"!==b.style.textAlign.toLowerCase()&&T(b,"text-align"),rb(b)})}function Vd(a){W("center",a).forEach(function(a){U(a,"text-align","center");$a(a,"div")})}
function Wd(a){W('embed[type="evernote/x-crypto"],.en-crypto',a).forEach(function(a){F(a)})}function Xd(a){W("embed[src][id]",a).forEach(function(b){var c=Yd(b.id);c&&(c=ab(a,"object",{type:"application/x-apple-msg-attachment",data:"cid:"+c}),Wa(b,c))});W("img[src]",a).forEach(function(a){var c=Yd(a.id);c&&a.setAttribute("src","cid:"+c)})}var Zd=["javascript"];
function $d(a){var b=a,b=decodeURIComponent(b)||b,b=b.replace(/[\x00-\x20]+/,""),b=b.replace(/<\!\-\-.*?\-\-\>/g,"");return(b=b.match(/^([a-zA-Z]+)\:/))?0<=Zd.indexOf(b[1].toLowerCase())?"#":a.trim()||"#":a||"#"}function ae(a){W("*[href]",a).forEach(function(a){a.setAttribute("href",$d(a.getAttribute("href")))});W("*[src]",a).forEach(function(a){a.setAttribute("src",$d(a.getAttribute("src")))})}function be(a){Ba(function(){Qd(a);Sd(a);Pd(a);Xd(a);Ld(a)})}
function ce(a){Ba(function(){Nd(a);for(var b=a;b=fb(b,a);){if(8==b.nodeType)if(0==b.data.indexOf("[CDATA[")){var c=b.nextSibling,b=Wa(b,document.createTextNode(b.data.substr(7)));b.data.lastIndexOf("]]")!=b.data.length-2&&c&&3==c.nodeType?(c.data=c.data.replace(/^(.*?)\]\]\>(.*?)$/gi,"$1$2"),b.data+=">"):b.data=b.data.replace(/^(.*?)\]\](.*?)$/gi,"$1$2")}else b=Wa(b,document.createTextNode(""));else 4==b.nodeType?b=Wa(b,document.createTextNode(b.data)):-1===[1,3].indexOf(b.nodeType)&&u.warn("Usage of unsupported DOM node:",
b.nodeType,b.toString());G(b)&&b.style&&0<b.style.length&&T(b,"line-height")}Ld(a);Md(a);Ud(a);ae(a);Od(a);Td(a);Rd(a);Vd(a)})}function de(a){Ba(function(){Qd(a);Pd(a);Ld(a)})}function ee(a){a=(new DOMParser).parseFromString(a.toString(),"text/html");return(new XMLSerializer).serializeToString(a).replace(/^[\s\S]*<body[^>]*>/i,"").replace(/<\/body>[\s\S]*?$/i,"").replace(/\x00+/gi,"").replace(/&nbsp;/gi,"\u00a0")}
function Yd(a){a=(a||"").split(":");return 3<=a.length&&"en-media"===a[0]?a[2]:null}function fe(a){if(!a)return null;try{var b=[],c=a.querySelectorAll("embed[id],img[id]");for(a=0;a<c.length;a++){var d=c[a],e=(d.getAttribute("id")||"").split(":");if(3<=e.length&&"en-media"===e[0]){var g=e[2];g&&(d.setAttribute("src","?hash="+g),-1===b.indexOf(g)&&b.push(g))}}return b}catch(k){u.error("Exception in collectResourcesAction <$>",k.toString())}return null}
function Ic(a,b,c){c=la(c,{plain:!0,html:!1,raw:!1,xhtml:!1,resources:!1});if(!b||b.collapsed)return"";var d=new Kd(a),e=d.Mb(b.startContainer,b.startOffset);b.setStart(e[0],e[1]);var g={},k=b.cloneContents(),e=document.createElement("body");e.appendChild(k);for(k=b.commonAncestorContainer;k&&d.d(k)&&d.k(k);)G(k)&&Za(e,k.cloneNode(!1)),k=k.parentNode;if(Ua(e).some(function(a){return N(a,"li")})&&(a=Q(b.startContainer,"ul,ol",a)))for(a=a.cloneNode(!1),e.insertBefore(a,e.firstChild);;)if((b=e.children[1])&&
N(b,"li,ol,ul"))a.appendChild(b);else break;Wd(e);c.plain&&Cb(e.cloneNode(!0),function(a){a=(a=a.innerText||a.textContent)?a.replace(/\u00A0/g," "):"";g.plain=a});c.resources&&(g.resources=fe(e)||[]);c.raw&&(a=e.cloneNode(!0),Ld(a),g.raw=xa(a.outerHTML));c.html&&(be(e),g.html=xa(e.outerHTML));return JSON.stringify(g)}function pd(){return J("span",{style:"-evernote-last-insertion-point:true;",id:"en-editor-last-insertion-point"})}
function Gd(a){for(var b=Ea.concat("id","contenteditable"),c=z(a.attributes||[]).map(function(a){return a.name.toLowerCase()}),d=0;d<c.length;d++){var e=c[d];-1===b.indexOf(e)&&a.removeAttribute(e)}T(a,"height");T(a,"width");T(a,"max-height");T(a,"max-width");T(a,"min-height");T(a,"min-width")}
function Jd(a,b){for(var c='<div id="en-note"',d=0;d<Ea.length;d++){var e=Ea[d].toLowerCase();if(a.hasAttribute(e))var g=" "+e+'="',e=(e=a.getAttribute(e))?e.toString().replace(/&/gi,"&amp;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;"):"",c=c+(g+e+'"')}return c+">"+b+"</div>"}function ge(){return J("div",{},[J("br")])};function he(a){var b=this;b.root=a;b.ga={};b.j=function(a){return b.ga[a]||{}};b.S=function(){throw"Override context.plugin!";};(function(){function a(){var g=b.a();e&&g&&e.startContainer===g.startContainer&&e.endContainer===g.endContainer&&e.startOffset===g.startOffset&&e.endOffset===g.endOffset||(c={},d={},e=g?g.cloneRange():null)}var c={},d={},e=null;b.Ob=function(b){a();return c[b]};b.ae=function(b,d){a();c[b]=d};b.me=function(b){a();delete c[b]};b.Pb=function(b){a();return d[b]};b.ce=function(b,
c){a();d[b]=c;"backcolor"===b?d.ve=c:"highlight"===b&&(d.Ne=c)};b.lf=function(b){a();delete d[b];"backcolor"===b?delete d.ve:"highlight"===b&&delete d.Ne}})();w(G(a),"We expect a valid root element");var c=X(a)||null,d=!1,e=null;b.a=function(){return c};b.Ka=function(a){c=a||null;d=!0};b.uf=function(){u.log("getOtherRange",ia(e));return e};b.Bf=function(a){e=a||null;u.log("setOtherRange",ia(e))};b.i=function(b,e,f,h){c||(c=a.ownerDocument.createRange());c.setStart(b,e);f?c.setEnd(f,h||0):c.setEnd(b,
e);d=!0};b.$d=function(a,b){c.setStart(a,b);d=!0};b.Zd=function(a,b){c.setEnd(a,b);d=!0};b.La=function(){c=X(a)||null;d=!1};b.yf=function(){b.Z()};b.Z=function(){d&&(Tb(c,a),b.La())};b.t=function(a,d,f){d&&-1===f&&(f=d.childNodes.length);var h=a.parentNode,n=O(a);w(!!c,"Global range expected");var l=[[c.startContainer,c.startOffset],[c.endContainer,c.endOffset]];e&&l.push([[e.startContainer,e.startOffset],[e.endContainer,e.endOffset]]);for(var m=l.length,r=0;r<m;r++){var p=l[r];p[0]===d&&p[1]>f&&
p[1]++;p[0]!==h||p[1]!==n&&p[1]!==n+1||(d?(p[0]=d,p[1]+=f-n):p[1]>n&&0<p[1]&&--p[1]);p[0]===h&&p[1]>n+1&&p[1]--;!d&&db(p[0],a)&&(p[0]=a.parentNode,p[1]=O(a))}d?d.childNodes.length===f?d.appendChild(a):d.insertBefore(a,d.childNodes[f]):F(a);b.i(l[0][0],l[0][1],l[1][0],l[1][1]);e&&(r=2,e=Sb(l[r][0],l[r][1],l[r+1][0],l[r+1][1]))};b.Md=function(a,c,d){w(a!==c,"Do not move into itself");for(var e;e=a.firstChild;)b.t(e,c,0>d?-1:d++)};b.insertBefore=function(a,c,d){b.t(a,c,d?O(d):-1)};b.Gb=function(a,c){b.t(a,
c,-1)};b.removeNode=function(a){b.t(a)};b.Xd=function(a){for(;a.firstChild;)b.removeNode(a.firstChild)};b.la=function(a,c){if(a&&a.tagName.toLowerCase()===c.toLocaleLowerCase())return a;var d=a.parentNode;if(!d)return a;for(var e=J(c),n=0;n<a.attributes.length;n++)e.setAttributeNS(a.attributes[n].namespaceURI,a.attributes[n].name,a.attributes[n].value);b.t(e,d,O(a));b.Md(a,e,0);b.removeNode(a);return e};b.dump=function(){var c;if(c=b.a()){var d=vc(a,c);c=a.cloneNode(!0);if(d=xc(c,d)){if(d.startContainer.nodeType==
Node.TEXT_NODE||d.startContainer.nodeType==Node.COMMENT_NODE)d.collapsed?d.startContainer.insertData(d.startOffset,"[]"):d.startContainer.insertData(d.startOffset,"[");else{var f=d.collapsed?"{}":"{";d.startOffset!=d.startContainer.childNodes.length&&d.startContainer.childNodes[d.startOffset].nodeType==Node.TEXT_NODE?d.startContainer.childNodes[d.startOffset].insertData(0,f):0!=d.startOffset&&d.startContainer.childNodes[d.startOffset-1].nodeType==Node.TEXT_NODE?d.startContainer.childNodes[d.startOffset-
1].appendData(f):d.startContainer.insertBefore(document.createTextNode(f),d.startContainer.childNodes.length==d.startOffset?null:d.startContainer.childNodes[d.startOffset])}d.collapsed||(d.endContainer.nodeType==Node.TEXT_NODE||d.endContainer.nodeType==Node.COMMENT_NODE?d.endContainer.insertData(d.endOffset,"]"):d.endOffset!=d.endContainer.childNodes.length&&d.endContainer.childNodes[d.endOffset].nodeType==Node.TEXT_NODE?d.endContainer.childNodes[d.endOffset].insertData(0,"}"):0!=d.endOffset&&d.endContainer.childNodes[d.endOffset-
1].nodeType==Node.TEXT_NODE?d.endContainer.childNodes[d.endOffset-1].appendData("}"):d.endContainer.insertBefore(document.createTextNode("}"),d.endContainer.childNodes.length==d.endOffset?null:d.endContainer.childNodes[d.endOffset]))}c=c.innerHTML}else c=a.innerHTML;return c};b.hasFocus=function(){return ob(a)&&!!X(a)};return b};function ie(a,b){var c=this;c.Sc=function(a){var c=a.previousSibling;if(c){for(;c.hasChildNodes();)c=c.lastChild;for(;b.L(c)&&!b.Ca(c)&&c!=a.parentNode;)c=b.previousNode(c);b.d(c)&&b.Ca(c)&&c.parentNode.removeChild(c)}};c.Rc=function(a){for(var c=a;c.hasChildNodes();)c=c.lastChild;for(;b.L(c)&&!b.Ca(c)&&c!=a;)c=b.previousNode(c);if(b.d(c)&&b.Ca(c)){for(;b.d(c.parentNode)&&b.L(c.parentNode);)c=c.parentNode;c.parentNode.removeChild(c)}};c.df=function(a){c.Sc(a);c.Rc(a)};c.ma=function(d,e,f){"undefined"==
typeof e&&(e=function(){return!1});"undefined"==typeof f&&(f=function(){return null});if(d.every(b.L)&&!d.some(function(a){return S(a)})||!d[0].parentNode)return null;for(b.k(d[d.length-1])&&!S(d[d.length-1])&&S(d[d.length-1].nextSibling)&&d.push(d[d.length-1].nextSibling);b.L(d[0].previousSibling);)d.unshift(d[0].previousSibling);for(;b.L(d[d.length-1].nextSibling);)d.push(d[d.length-1].nextSibling);f=b.d(d[0].previousSibling)&&e(d[0].previousSibling)?d[0].previousSibling:b.d(d[d.length-1].nextSibling)&&
e(d[d.length-1].nextSibling)?d[d.length-1].nextSibling:f();if(!f)return null;if(!f.parentNode){d[0].parentNode.insertBefore(f,d[0]);var h=a.a();h.startContainer==f.parentNode&&h.startOffset==O(f)&&a.$d(h.startContainer,h.startOffset+1);h.endContainer==f.parentNode&&h.endOffset==O(f)&&a.Zd(h.endContainer,h.endOffset+1)}h=d[0].parentNode;if(f.compareDocumentPosition(d[0])&4){!b.k(f)&&b.k([].filter.call(f.childNodes,b.I).slice(-1)[0])&&b.k(d.filter(b.I)[0])&&!S(f.lastChild)&&f.appendChild(J("br"));for(var n=
0;n<d.length;n++)a.t(d[n],f,-1)}else for(!b.k(f)&&b.k([].filter.call(f.childNodes,b.I)[0])&&b.k(d.filter(b.I).slice(-1)[0])&&!S(d[d.length-1])&&f.insertBefore(J("br"),f.firstChild),n=d.length-1;0<=n;n--)a.t(d[n],f,0);b.d(h)&&!h.hasChildNodes()&&h.parentNode.removeChild(h);if(b.d(f.nextSibling)&&e(f.nextSibling)){for(!b.k(f)&&b.k(f.lastChild)&&b.k(f.nextSibling.firstChild)&&!S(f.lastChild)&&f.appendChild(J("br"));f.nextSibling.hasChildNodes();)a.t(f.nextSibling.firstChild,f,-1);a.removeNode(f.nextSibling)}c.df(f);
return f};c.Gc=function(a,d){return d.collapsed?!1:b.Tb(a,d)||a==d.startContainer&&3===a.nodeType&&P(a)!=d.startOffset||a==d.endContainer&&3===a.nodeType&&0!=d.endOffset||!(!a.hasChildNodes()||![].every.call(a.childNodes,function(a){return c.Gc(a,d)})||b.Ub(d.startContainer,a)&&3==d.startContainer.nodeType&&0!=d.startOffset||b.Ub(d.endContainer,a)&&3==d.endContainer.nodeType&&d.endOffset!=P(d.endContainer))?!0:!1};c.C=function(a,d){"undefined"==typeof d&&(d=function(){return!0});for(var f=a.startContainer;c.Gc(f.parentNode,
a);)f=f.parentNode;for(var e=b.ka(a.endContainer),n=[];!e&&f||e&&f.compareDocumentPosition(e)&4;)c.Gc(f,a)&&d(f)&&n.push(f),f=b.nextNode(f);return n};c.Dd=function(a){if(!R(a))return!1;var b=a.tagName.toUpperCase();if(-1!="B EM I S SPAN STRIKE STRONG SUB SUP U".split(" ").indexOf(b)&&(0==a.attributes.length||1==a.attributes.length&&a.hasAttribute("style")))return!0;if("FONT"==b||"A"==b){var c=a.attributes.length;a.hasAttribute("style")&&c--;"FONT"==b&&(a.hasAttribute("color")&&c--,a.hasAttribute("face")&&
c--,a.hasAttribute("size")&&c--);"A"==b&&a.hasAttribute("href")&&c--;if(0==c)return!0}return!1};c.Xb=function(a){if(!R(a))return!1;var b=a.tagName.toUpperCase();return-1=="A B EM FONT I S SPAN STRIKE STRONG SUB SUP U".split(" ").indexOf(b)?!1:0==a.attributes.length?!0:1<a.attributes.length?!1:a.hasAttribute("style")&&0==a.style.length||"A"==b&&a.hasAttribute("href")||"FONT"==b&&(a.hasAttribute("color")||a.hasAttribute("face")||a.hasAttribute("size"))||("B"==b||"STRONG"==b)&&a.hasAttribute("style")&&
1==a.style.length&&""!=a.style.fontWeight||("I"==b||"EM"==b)&&a.hasAttribute("style")&&1==a.style.length&&""!=a.style.fontStyle||("A"==b||"FONT"==b||"SPAN"==b)&&a.hasAttribute("style")&&1==a.style.length&&""==a.style.textDecoration||-1!="A FONT S SPAN STRIKE U".split(" ").indexOf(b)&&a.hasAttribute("style")&&(1==a.style.length||4==a.style.length&&"MozTextBlink"in a.style&&"MozTextDecorationColor"in a.style&&"MozTextDecorationLine"in a.style&&"MozTextDecorationStyle"in a.style)&&("line-through"==a.style.textDecoration||
"underline"==a.style.textDecoration||"overline"==a.style.textDecoration||"none"==a.style.textDecoration)?!0:!1};c.ea=function(b,c,d){return null===c&&null===d||t(c)&&t(d)&&c==d&&!a.j(b).Aa||t(c)&&t(d)&&a.j(b).Aa&&a.j(b).Aa(c,d)?!0:!1};c.sa=function(a,b,d){return c.ea(a,b,d)?!0:!1};c.v=function(d,e){if(1!==d.nodeType&&(!d.parentNode||1!=d.parentNode.nodeType))return null;if(1!==d.nodeType)return c.v(d.parentNode,e);if("createlink"===e||"unlink"===e){for(;d&&(!R(d)||"a"!==I(d)||!d.hasAttribute("href"));)d=
d.parentNode;return d?d.getAttribute("href"):null}if("backcolor"===e){for(;("rgba(0, 0, 0, 0)"===K(d).backgroundColor||""===K(d).backgroundColor||"transparent"===K(d).backgroundColor)&&d.parentNode&&1===d.parentNode.nodeType;)d=d.parentNode;return K(d).backgroundColor}if("highlight"===e){for(;("rgba(0, 0, 0, 0)"===K(d).backgroundColor||""===K(d).backgroundColor||"transparent"===K(d).backgroundColor)&&d.parentNode&&1===d.parentNode.nodeType;)d=d.parentNode;return K(d).backgroundColor}if("subscript"===
e||"superscript"===e){for(var f=!1,h=!1;b.k(d);)R(d,"sub")?f=!0:R(d,"sup")&&(h=!0),d=d.parentNode;return f&&h?"mixed":f?"subscript":h?"superscript":null}if("strikethrough"===e)return Q(d,function(a){return-1!=K(a).textDecoration.indexOf("line-through")},a.root)?"line-through":null;if("underline"===e)return Q(d,function(a){return-1!=K(a).textDecoration.indexOf("underline")},a.root)?"underline":null;if("tt"===e)return Q(d,"tt",a.root)?"tt":null;w(!!a.j(e).P,"Bug: no relevantCssProperty for "+e+" in f.getEffectiveCommandValue");
return K(d)[a.j(e).P]};c.F=function(b,c){if(("backcolor"===c||"highlight"===c)&&"inline"!=K(b).display)return null;var d=I(b);if("createlink"===c||"unlink"===c)return"a"===d&&b.hasAttribute("href")?b.getAttribute("href"):null;if("subscript"===c||"superscript"===c)return"sup"===d?"superscript":"sub"===d?"subscript":null;if("strikethrough"===c&&""!=b.style.textDecoration)return-1!=b.style.textDecoration.indexOf("line-through")?"line-through":null;if("strikethrough"===c&&("s"===d||"strike"===d||"del"===
d))return"line-through";if("underline"===c&&""!=b.style.textDecoration)return-1!=b.style.textDecoration.indexOf("underline")?"underline":null;if("underline"===c&&"u"===d)return"underline";if("highlight"===c&&"mark"===d)return"rgb(255, 250, 165)";if("tt"==d)return"tt";var e=a.j(c),n=e.P;if(null===n)return null;var l=b.style[n];if(""!=l)return(d=e.N)&&d.length?("highlight"===c&&(l=je(l)),-1!==d.indexOf(l)?l:null):l;if("font"===d){if("color"==n&&b.hasAttribute("color"))return b.color;if("fontFamily"==
n&&b.hasAttribute("face"))return b.face;if("fontSize"==n&&b.hasAttribute("size"))return K(b).fontSize.toString()}return"fontWeight"!=n||"b"!=d&&"strong"!=d?"fontStyle"!=n||"i"!=d&&"em"!=d?null:"italic":"bold"};c.Yd=function(b,d,e){for(var h=b;c.Dd(h)&&1==h.childNodes.length&&c.Dd(h.firstChild)&&(!c.Xb(h)||!c.ea(d,c.F(h,d),e));)h=h.firstChild;if(h!=b&&c.Xb(h)&&c.ea(d,c.F(h,d),e)&&c.sa(d,c.v(h,d),e)){for(;h.hasChildNodes();)a.t(h.firstChild,h.parentNode,O(h));b.parentNode.insertBefore(h,b.nextSibling);
a.t(b,h,-1)}};c.O=function(a){var b=[];a.forEach(function(a){"subscript forecolor highlight backcolor fontname fontsize bold italic strikethrough underline tt".split(" ").forEach(function(d){var e=a;1!=e.nodeType&&(e=e.parentNode);for(;e&&1==e.nodeType&&null===c.F(e,d);)e=e.parentNode;e&&1==e.nodeType?b.push([a,d,c.F(e,d)]):b.push([a,d,null])})});return b};c.Q=function(a){a.forEach(function(a){var b=a[0],d=a[1];a=a[2];var e=b;e&&1==e.nodeType||(e=e.parentNode);for(;e&&1==e.nodeType&&null===c.F(e,
d);)e=e.parentNode;null===a&&e&&1==e.nodeType?c.Td(b,d,null):(e&&1==e.nodeType&&!c.ea(d,c.F(e,d),a)||(!e||1!=e.nodeType)&&null!==a)&&c.hb(b,d,a)})};c.pc=function(d,e){if(b.d(d)&&null!==c.F(d,e))if(c.Xb(d)){for(var f=Array.prototype.slice.call(d.childNodes),h=0;h<f.length;h++)a.t(f[h],d.parentNode,O(d));d.parentNode.removeChild(d)}else"strikethrough"===e&&-1!=d.style.textDecoration.indexOf("line-through")&&(d.style.textDecoration="line-through"==d.style.textDecoration?"":d.style.textDecoration.replace("line-through",
"")),"underline"===e&&-1!=d.style.textDecoration.indexOf("underline")&&(d.style.textDecoration="underline"==d.style.textDecoration?"":d.style.textDecoration.replace("underline","")),null!==a.j(e).P&&(d.style[a.j(e).P]=""),R(d,"font")&&("forecolor"===e&&d.removeAttribute("color"),"fontname"===e&&d.removeAttribute("face"),"fontsize"===e&&d.removeAttribute("size")),!R(d,"a")||"createlink"!==e&&"unlink"!==e||d.removeAttribute("href"),""==d.getAttribute("style")&&d.removeAttribute("style"),null===c.F(d,
e)||a.la(d,"span")};c.Td=function(a,d,e){if(a.parentNode&&1==a.parentNode.nodeType&&!c.sa(d,c.v(a,d),e)){for(var h=a.parentNode,n=[];b.d(h)&&1==h.nodeType&&!c.sa(d,c.v(h,d),e);)n.push(h),h=h.parentNode;if(n.length){var l=c.F(n[n.length-1],d);if(null!==l||l==e)if(null===e||c.sa(d,c.v(n[n.length-1].parentNode,d),e))for(;n.length;)for(h=n.pop(),null!==c.F(h,d)&&(l=c.F(h,d)),e=Array.prototype.slice.call(h.childNodes),null!==c.F(h,d)&&c.pc(h,d),h=0;h<e.length;h++){var m=e[h];m!=a&&(1!=m.nodeType||null===
c.F(m,d)||c.ea(d,l,c.F(m,d)))&&m!=n[n.length-1]&&c.hb(m,d,l)}}}};c.hb=function(d,e,f){if(d.parentNode&&null!==f&&(b.G(d,"span")&&(c.Yd(d.previousSibling,e,f),c.Yd(d.nextSibling,e,f),c.ma([d],function(a){return c.Xb(a)&&c.ea(e,c.F(a,e),f)&&c.sa(e,c.v(a,e),f)},function(){return null})),!b.L(d)&&!c.sa(e,c.v(d,e),f)&&d.parentNode))if(!b.G(d,"span")){for(var h=[],n=0;n<d.childNodes.length;n++){if(1==d.childNodes[n].nodeType){var l=c.F(d.childNodes[n],e);if(null!==l&&!c.ea(e,f,l))continue}h.push(d.childNodes[n])}for(n=
0;n<h.length;n++)c.hb(h[n],e,f)}else if(!c.sa(e,c.v(d,e),f)){h=null;if("bold"!==e||"bold"!==f&&"700"!==f)if("italic"===e&&"italic"===f)h=J("i");else if("strikethrough"===e&&"line-through"==f)h=J("s");else if("underline"===e&&"underline"===f)h=J("u");else if("tt"===e&&"tt"===f)h=J("tt");else if("createlink"===e||"unlink"===e)for(h=J("a"),h.setAttribute("href",f),n=d.parentNode;n;)R(n,"a")&&(n=a.la(n,"span")),n=n.parentNode;else"subscript"!==e&&"superscript"!==e||"subscript"!==f?"subscript"!==e&&"superscript"!==
e||"superscript"!==f||(h=J("sup")):h=J("sub");else h=J("b");h||(h=J("span"));d.parentNode.insertBefore(h,d);n=a.j(e).P;null===n||c.sa(e,c.v(h,e),f)||(h.style[n]=f,"highlight"===e&&U(h,"-evernote-highlight","true"));"forecolor"===e&&ke(f)&&(h.style.color=f);"fontname"===e&&null!=f&&(h.style.fontFamily=f);"fontsize"===e&&null!=f&&(h.style.fontSize=f);"strikethrough"===e&&"line-through"==f&&"line-through"!=c.v(h,"strikethrough")&&(h.style.textDecoration="line-through");"underline"===e&&"underline"==
f&&"underline"!=c.v(h,"underline")&&(h.style.textDecoration="underline");a.t(d,h,h.childNodes.length);if(1===d.nodeType&&!c.ea(e,c.v(d,e),f)){a.t(d,h.parentNode,O(h));h.parentNode.removeChild(h);h=[];for(n=0;n<d.childNodes.length;n++){if(1==d.childNodes[n].nodeType&&(l=c.F(d.childNodes[n],e),null!==l&&!c.ea(e,f,l)))continue;h.push(d.childNodes[n])}for(n=0;n<h.length;n++)c.hb(h[n],e,f)}}};c.M=function(d,e,f){var h=!1;void 0===f&&(f=a.a(),h=!0);if(c.C(f).some(b.X)){if(b.d(f.startContainer)&&3==f.startContainer.nodeType&&
0!=f.startOffset&&f.startOffset!=P(f.startContainer)){var n;if(f.startContainer==f.endContainer){var l=f.endOffset-f.startOffset;n=f.startContainer.splitText(f.startOffset);f.setEnd(n,l)}else n=f.startContainer.splitText(f.startOffset);f.setStart(n,0)}b.d(f.endContainer)&&3==f.endContainer.nodeType&&0!=f.endOffset&&f.endOffset!=P(f.endContainer)&&(n=[f.startContainer,f.startOffset],l=[f.endContainer,f.endOffset],f.endContainer.splitText(f.endOffset),f.setStart(n[0],n[1]),f.setEnd(l[0],l[1]));h&&a.Ka(f);
c.C(f,function(a){return b.d(a)&&1===a.nodeType}).forEach(function(a){c.pc(a,d)});c.C(f,b.d).forEach(function(a){c.Td(a,d,e);b.G(a,"span")&&c.hb(a,d,e)})}else a.j(d).N&&a.ae(d,-1!=a.j(d).N.indexOf(e)),"subscript"===d&&a.me("superscript"),"superscript"===d&&a.me("subscript"),null===e?a.lf(d):("createlink"===d||a.j(d).value)&&a.ce(d,e)};var d="bold italic strikethrough subscript superscript underline highlight tt".split(" "),e=["fontname","fontsize","forecolor"];c.Qc=function(){var b=[];void 0!==a.Pb("createlink")&&
b.push(["createlink",a.Pb("createlink")]);d.forEach(function(c){void 0!==a.Ob(c)&&b.push([c,a.Ob(c)])});e.forEach(function(c){void 0!==a.Pb(c)&&b.push([c,a.Pb(c)])});return b};c.Ud=function(g){var k=[],f=c.C(a.a()).filter(b.X)[0];!f&&g&&(g=a.a())&&(f=Xb(g));if(!f)return k;k.push(["createlink",c.v(f,"createlink")]);d.forEach(function(b){var d=c.v(f,b);-1!=a.j(b).N.indexOf(d)?k.push([b,!0]):k.push([b,!1])});e.forEach(function(b){k.push([b,a.j(b).value()])});return k};c.Ha=function(d){var e=c.C(a.a()).filter(b.X)[0];
if(e)for(var f=0;f<d.length;f++){var h=d[f][0],n=d[f][1];"boolean"===typeof n&&a.j(h).state()!==n?a.j(h).action(n):t(n)&&!c.ea(h,c.v(e,h),n)&&a.j(h).action(n);e=c.C(a.a()).filter(b.X)[0]||e}else for(f=0;f<d.length;f++)h=d[f][0],n=d[f][1],"boolean"==typeof n&&a.ae(h,n),t(n)&&a.ce(h,n)};c.Ue=function(b){var d=c.Ud(!0);b();a.Z();c.Ha(d)};c.Sa=function(){return a.root};return c};function le(a,b,c,d){function e(){if(!m(x,!0)&&b.oa(x)){Va(x);var c=ge();x.appendChild(c);a.i(c,0)}}function g(){var b=r(x,k);b.reverse();b.forEach(function(b){do{var c=b.parentNode;a.removeNode(b);b=c}while(k(b))})}function k(a){return!(!a||!db(a,x)||(!gb(a)||""!==a.data)&&(!G(a)||a.hasChildNodes()||jb(a)||b.ca(a)||S(a)))}function f(a){(a=Bb(a))&&p(a,"div>div,div>table,div>ol,div>ul").forEach(function(a){var e=a.parentNode;if(e&&!b.Vb(e)){if(R(a,"div")){["text-align"].forEach(function(b){if(!a.style[b]){var c=
e.style[b];c&&(a.style[b]=c)}});var f=b.kb(e)+b.kb(a);0<f?U(a,"margin-left",f+"px"):T(a,"margin-left")}var f=[a],g=c.O(f);d.U(f);c.Q(g);h(b.J(a))}})}function h(b){var c=b&&b.nextSibling;c&&!m(c)&&a.removeNode(c);(b=b&&b.previousSibling)&&!m(b)&&a.removeNode(b)}function n(c){if(N(c,"ul,ol")&&b.d(c)&&b.Yb(c,!0))for(var d=null,e=c.childNodes.length-1;0<=e;e--){var f=c.childNodes[e];N(f,"li,ol,ul")?d=null:jb(f)?a.la(f,"li"):Ab(f)?a.removeNode(f):(d||(d=J("li"),a.insertBefore(d,f.parentNode,f.nextSibling)),
a.t(f,d,0))}}function l(e){w(!!e,"expected node");if("hr"===I(e)){var f=J("div");f.appendChild(e);return f}do{var g=Sb(e,0),g=b.V(g);if(g.collapsed)return null;for(;b.u(f=g.startContainer.childNodes[g.startOffset]);)g.setStart(f,0);f=b.ha(g);if(0>=f.length)return Yb(g);for(var g=f[0].parentNode,l=b.u(g)&&f[0]===g.firstChild&&f[f.length-1]===g.lastChild;f.length&&Ab(f[0]);)a.removeNode(f.shift());var h=b.Vb(g);if(l){if(!h)break;if(0>=f.length||!Ua(g).some(function(a){return m(a)})){d.Qa(g);break}}f.length&&
(l=c.O(f),g=c.ma(f,function(){return!1},function(){return J("div")}),c.Q(l),d.$(g))}while(0);return g}function m(a,c){if(!a)return!1;if(3===a.nodeType&&!b.Ec(a)||b.ca(a)||N(a,"table,tr,td,th,li")||S(a)&&(c?!b.Sb(a):!b.Ca(a)))return!0;for(var d=0;d<a.childNodes.length;d++)if(m(a.childNodes[d],c))return!0;return!1}function r(a,b){var c;if(t(b))c=V(b,a);else{c=[];if(a)for(var d=a;null!==d;d=fb(d,a))c.push(d);c=c.filter(b)}if(!c)return[];c.reverse();return c}function p(a,b){for(var c=[];a&&a!==x;)N(a,
b)&&c.unshift(a),a=a.parentNode;return c}var v=this,x=a.root;w(x&&G(x),"Invalid root element");v.ac=function(e){function m(c){var d=K(c)||{},d={fontWeight:d.fontWeight,Fe:d.fontFamily,fontSize:d.fontSize,marginTop:rc(d.marginTop),marginBottom:rc(d.marginBottom)},e=K(c.parentNode)||{};c=k(c);d.fontWeight&&"normal"!==d.fontWeight&&400!=d.fontWeight&&(c.style.fontWeight=d.fontWeight);d.fontFamily&&d.Fe!==e.fontName&&(c.style.fontFamily=d.fontFamily);d.fontSize&&d.fontSize!==e.fontSize&&(c.style.fontSize=
d.fontSize);0<=1*d.marginTop-rc(e.fontSize)&&(b.Se(c)?(c.appendChild(J("br")),c.appendChild(J("br"))):(d=ge(),a.t(d,c.parentNode,O(c)),f(d)));return c}function k(b,c){var d=e===b,f=a.la(b,c||"div");d&&(e=f);return f}if(!e)return null;e=Bb(e);p(e,"dl").forEach(function(a){a&&(V("dt",a).forEach(m),V("dd",a).forEach(function(a){d.zc(m(a))}),m(a))});p(e,"h1,h2,h3,h4,h5,h6,p").forEach(m);p(e,"blockquote").forEach(function(a){a=m(a);a.style.marginLeft="";d.zc(a);Ua(a).forEach(f)});p(e,"th").forEach(function(a){a=
k(a,"td");var b=document.createRange();b.selectNodeContents(a);c.M("bold","bold",b)});var La=!1;p(e,"ol,ul").forEach(function(c){La||(r(c,"li div").forEach(function(a){b.Vb(a)||d.wb(a)}),r(c,"li").forEach(d.xa),r(c,'li[style*="list-style:"]').forEach(function(b){if("none"===sb(b,"list-style")){for(;Ab(b.previousSibling);)a.removeNode(b.previousSibling);N(b.previousSibling,"li")?(a.Md(b,b.previousSibling,-1),a.removeNode(b)):b.removeAttribute("style")}}));La=!0;n(c)});La||(e=Bb(e),e=l(e));e=Bb(e);
f(e);p(e,"*[style]").forEach(function(a){T(a,"line-height")});e=b.J(e);g();h(e);return e};v.Ea=function(){v.ac(Xb(a.a()));e()};v.Qd=function(){v.ac(Yb(a.a()));e()};v.Pd=function(){a.a().collapsed||v.Qd();v.Ea()};v.Ye=function(){for(var c=Xb(a.a()),d,f=2;c&&0<f;)Ab(c)?d=cb(c,x):b.k(c)?(--f,d=v.ac(c),d=vb(d,function(a){return b.k(a)&&b.J(d)!==b.J(a)},x)):d=cb(c,x),w(d!==c,"iterate!",d,c),c=d;e()};v.Mc=function(f,g){a.a()||a.i(x,0);var l=0;g||(g=B);var h=c.Sa();r(h,"td:empty,th:empty").forEach(function(b){a.Gb(ge(),
b)});r(h,"li:empty").forEach(function(b){a.Gb(J("br"),b)});r(h,"hr").forEach(function(a){a.parentNode!==h&&d.U([a])});for(var m=f||h.firstChild,k;m&&g(m)&&1111>l++;){m=Bb(m);if(Ab(m)&&1<P(m.parentNode))k=fb(m,h),a.removeNode(m);else if(b.k(m)||N(m,"td,li,div")){var n=m.nextSibling;(k=v.ac(m))||(k=n);k=ub(k,function(a){return b.k(a)&&b.J(k)!==b.J(a)},h)}else k=fb(m,h);m=k}e();0>=l&&u.error("Normalization reached safety limit, this probably indicates that the current document failed to get normalized and may behave unexpectedly.")};
v.wa=function(){a.a().collapsed?v.Ea():v.Mc(Xb(a.a()),function(b){var c=a.a();return c&&!(b.compareDocumentPosition(Yb(c))&2)})};return v};function me(){return J("div",{},[J("br")])}function ne(a){return(a=/^[\'\"]?(.*?)[\'\"]?(,|$)/.exec(a))&&a[1]?a[1]:null}
function je(a){if("currentcolor"===a.toLowerCase())return null;void 0===oe&&(oe={});if(void 0!==oe[a])return oe[a];var b=a,c=J("span");document.body.appendChild(c);c.style.color="black";var d=J("span");c.appendChild(d);d.style.color=a;a=K(d).color;if("rgb(0, 0, 0)"===a&&(c.color="white",a=K(d).color,"rgb(0, 0, 0)"!==a))return oe[b]=null;document.body.removeChild(c);if(/^rgba\([0-9]+, [0-9]+, [0-9]+, 1\)$/.test(a))return oe[b]=a.replace("rgba","rgb").replace(", 1)",")");if("transparent"===a)return oe[b]=
"rgba(0, 0, 0, 0)";a=a.replace(/, 0.496094\)$/,", 0.5)");return oe[b]=a}var oe;function ke(a){a=je(a);return(a=/^rgb\(([0-9]+), ([0-9]+), ([0-9]+)\)$/.exec(a))?"#"+(parseInt(a[1],10)||0).toString(16).replace(/^.$/,"0$&")+(parseInt(a[2],10)||0).toString(16).replace(/^.$/,"0$&")+(parseInt(a[3],10)||0).toString(16).replace(/^.$/,"0$&"):null};function pe(a,b,c){var d=this;d.Qa=function(c){(c=b.J(c))&&(b.d(c)||b.ja(c))&&!b.nb(c)&&(a.Xd(c),b.Vb(c)?a.Gb(me(),c):a.Gb(J("br"),c))};d.$=function(e){if(b.d(e))if(b.na(e).every(function(a){return!b.A(e,a)||!b.G(e,a)}))N(e,"dd,dt")?c.ma([e],function(a){return R(a,"dl")&&!a.attributes.length},function(){return J("dl")}):b.G("p",b.jb(e))&&b.Va(e)&&(e=a.la(e,"div"),d.$(e),z(e.childNodes).filter(b.Va).forEach(function(a){var b=c.O([a]);d.U([a]);c.Q(b)}));else{for(var g=c.O([e]);!b.G(e,e.parentNode);)d.U([e]);
c.Q(g)}};d.xa=function(c){if(R(c,"li")&&b.d(c)&&b.d(c.parentNode)){for(var d=function(a){return N(a,"ol,ul")},k=!1,f=null;z(c.childNodes).some(d);){var h=c.lastChild;d(h)||!f&&Ab(h)?(f=null,a.t(h,c.parentNode,1+O(c)),k=!0):b.L(h)?a.removeNode(h):(f||(f=J("li"),c.parentNode.insertBefore(f,c.nextSibling)),a.t(h,f,0),k=!0)}k&&b.oa(c,0)&&a.removeNode(c)}};d.Ie=function(){if(!a.a())return null;var c=b.V(a.a()),c=b.ha(c,function(a){return b.d(a)&&!b.Da(a)&&(N(a,"ol,ul")||N(a.parentNode,"ol,ul")||b.G(a,
"li"))});return c.length?c:null};d.ia=function(){function a(c,d){var e=["ol","ul","tl"];e.splice(e.indexOf(c),1);e=e.join(",");return b.ob(d,c)&&null==d.querySelector(e)||!N(d,"ol,ul")&&b.ob(d.parentNode,c)||R(d.parentNode,"li")&&b.ob(d.parentNode.parentNode,c)}var c=d.Ie();if(!c)return"none";for(var k=["ol","ul","tl"],f=0;f<k.length;f++){var h=k[f];if(c.every(a.bind(c,h)))return h}return c.some(function(a){return N(a,"ol,ul")||N(a.parentNode,"ol,ul")||"querySelector"in a&&a.querySelector("ol,ul")||
N(a.parentNode,"li")&&N(a.parentNode.parentNode,"ol,ul")})?"mixed":"none"};d.Lb=function(a){for(;a&&1!==a.nodeType||1===a.nodeType&&-1!==["inline","none"].indexOf(K(a).display);)a=a.parentNode;if(!a||1!==a.nodeType)return"left";var c=K(a).textAlign.replace(/^-(moz|webkit)-/,"").replace(/^auto$/,"start");return"start"===c?"ltr"===b.vc(a)?"left":"right":"end"===c?"ltr"===b.vc(a)?"right":"left":-1!==["center","justify","left","right"].indexOf(c)?c:"left"};d.nd=function(e){void 0===e&&(e={});var g="blockMerging"in
e?Boolean(e.rf):!0,k="stripWrappers"in e?Boolean(e.ic):!0,f="direction"in e?e.direction:"forward";if(a.a()){d.Na(a.a().startContainer,a.a().startOffset);d.Na(a.a().endContainer,a.a().endOffset);e=b.wc(a.a().startContainer,a.a().startOffset);var h=e[0],n=e[1];e=b.Mb(a.a().endContainer,a.a().endOffset);var l=e[0],m=e[1];if("after"!==b.Ta(l,m,h,n))a.a().collapse("forward"===f);else{3===h.nodeType&&0==n&&(n=O(h),h=h.parentNode);3===l.nodeType&&m==P(l)&&(m=1+O(l),l=l.parentNode);a.i(h,n,l,m);for(var r=
a.a().startContainer;b.A(r,r.parentNode)&&b.k(r);)r=r.parentNode;if(!b.u(r)&&!b.ja(r)||!b.G("span",r)||N(r,"td,th"))r=null;for(var p=a.a().endContainer;b.A(p,p.parentNode)&&b.k(p);)p=p.parentNode;if(!b.u(p)&&!b.ja(p)||!b.G("span",p)||N(p,"td,th"))p=null;e=c.Ud();if(h==l&&b.d(h)&&3===h.nodeType)h.deleteData(n,m-n),d.Na(h,n,!1),a.a().collapse("forward"===f);else{b.d(h)&&3===h.nodeType&&h.deleteData(n,P(h)-n);for(var v=b.ha(a.a(),function(a){return b.d(a)&&!N(a,"thead,tbody,tfoot,tr,th,td")}),x=0;x<
v.length;x++){var D=v[x];if(n=D.parentNode)if(n.removeChild(D),d.Qa(n),k||!b.Cc(n,h)&&n!=h)for(;b.d(n)&&b.k(n)&&0==P(n);)D=n.parentNode,D.removeChild(n),n=D}b.d(l)&&3===l.nodeType&&l.deleteData(0,m);d.Na(a.a().startContainer,a.a().startOffset,!1);d.Na(a.a().endContainer,a.a().endOffset,!1);if(g&&r&&p&&b.A(r,p)&&r!=p){1===r.children.length&&b.Dc(r.firstChild)&&r.removeChild(r.firstChild);if(b.Cc(r,p)){for(g=p;g.parentNode!=r;)g=g.parentNode;a.i(r,O(g));if(!p.hasChildNodes()){for(;b.d(p)&&1==p.parentNode.childNodes.length&&
p.parentNode!=r;)n=p,n.removeChild(p),p=n;b.d(p)&&!b.k(p)&&b.k(p.previousSibling)&&b.k(p.nextSibling)&&p.parentNode.insertBefore(J("br"),p.nextSibling);b.d(p)&&p.parentNode.removeChild(p);c.Ha(e);return}if(!b.k(p.firstChild)){c.Ha(e);return}k=[];for(k.push(p.firstChild);!S(k[k.length-1])&&b.k(k[k.length-1].nextSibling);)k.push(k[k.length-1].nextSibling);for(g=c.O(k);db(r,k[0])&&k[0].parentNode!=r;)d.U(k);b.d(k[0].previousSibling)&&S(k[0].previousSibling)&&k[0].parentNode.removeChild(k[0].previousSibling)}else if(b.Ub(r,
p)){a.i(r,P(r));for(g=r;g.parentNode!=p;)g=g.parentNode;b.k(g.nextSibling)&&S(r.lastChild)&&r.removeChild(r.lastChild);k=[];g.nextSibling&&!b.u(g.nextSibling)&&k.push(g.nextSibling);k.length&&!S(k[k.length-1])&&k[k.length-1].nextSibling&&!b.u(k[k.length-1].nextSibling)&&k.push(k[k.length-1].nextSibling);g=c.O(k);k.forEach(function(b){a.t(b,r,-1)})}else{a.i(r,P(r));b.k(p.firstChild)&&S(r.lastChild)&&r.removeChild(r.lastChild);for(g=c.O(z(p.childNodes));p.hasChildNodes();)a.t(p.firstChild,r,-1);for(;!(p.hasChildNodes()||
0<=["td"].indexOf(p.tagName.toLowerCase()));)n=p.parentNode,n.removeChild(p),p=n}for(var M=r;b.He(M).some(function(a){return b.A(M,a)&&(R(a,"ol")&&R(a.nextSibling,"ol")||R(a,"ul")&&R(a.nextSibling,"ul"))&&b.A(M,a.nextSibling)});){for(;!(R(M,"ol")&&R(M.nextSibling,"ol")&&b.A(M,M.nextSibling)||R(M,"ul")&&R(M.nextSibling,"ul")&&b.A(M,M.nextSibling));)M=M.parentNode;for(;M.nextSibling.hasChildNodes();)a.t(M.nextSibling.firstChild,M,-1);M.parentNode.removeChild(M.nextSibling)}c.Q(g);d.Qa(r);c.Rc(r)}else a.a().collapse("forward"===
f)}c.Ha(e)}}};d.U=function(d){var g=d[0].parentNode;if(b.d(g)&&g.parentNode){-1!==d.indexOf(g.firstChild)&&c.Sc(g);var k=-1!==d.indexOf(g.firstChild)&&b.gb(g),f=-1!==d.indexOf(g.lastChild)&&b.ab(g);if(-1===d.indexOf(g.firstChild)&&-1!==d.indexOf(g.lastChild)){for(var h=d.length-1;0<=h;h--)a.t(d[h],g.parentNode,1+O(g));f&&!b.ab(d[d.length-1])&&d[d.length-1].parentNode.insertBefore(J("br"),d[d.length-1].nextSibling);c.Rc(g)}else{if(-1===d.indexOf(g.firstChild))for(h=g.cloneNode(!1),g.removeAttribute("id"),
g.parentNode.insertBefore(h,g);d[0].previousSibling;)a.t(g.firstChild,h,h.childNodes.length);for(h=0;h<d.length;h++)a.t(d[h],g.parentNode,O(g));k&&!b.gb(d[0])&&d[0].parentNode.insertBefore(J("br"),d[0]);b.k(d[d.length-1])&&!S(d[d.length-1])&&S(g.firstChild)&&!b.k(g)&&g.removeChild(g.firstChild);b.oa(g,0)?(d=d[d.length-1],F(g),f&&!b.ab(d)&&d.parentNode.insertBefore(J("br"),d.nextSibling)):c.Sc(g)}}};d.wb=function(c){b.nb(c)?d.U(z(c.childNodes)):a.removeNode(c)};d.we=function(a,b,c){if(0==a)return"";
if(1==a&&!b&&!c)return" ";if(1==a)return"\u00a0";var d="",h;for(h=b?"\u00a0 ":" \u00a0";3<a;)d+=h,a-=2;return 3==a?d+(b||c?b&&!c?"\u00a0\u00a0 ":!b&&c?" \u00a0\u00a0":b&&c?"\u00a0 \u00a0":"impossible":" \u00a0 "):d+(b||c?b&&!c?"\u00a0 ":!b&&c?" \u00a0":b&&c?"\u00a0\u00a0":"impossible":"\u00a0 ")};d.Na=function(a,c,k){void 0===k&&(k=!0);if(b.d(a)||b.ja(a)){for(;;)if(0<=c-1&&b.A(a,a.childNodes[c-1]))a=a.childNodes[c-1],c=P(a);else if(0==c&&!b.gb(a)&&b.A(a,a.parentNode))c=O(a),a=a.parentNode;else if(3===
a.nodeType&&-1==["pre","pre-f.wrap"].indexOf(K(a.parentNode).whiteSpace)&&0!=c&&/[ \xa0]/.test(a.data[c-1]))c--;else break;for(var f=a,h=c,n=0,l=0==c&&b.gb(a);;)if(h<f.childNodes.length&&b.A(f,f.childNodes[h]))f=f.childNodes[h],h=0;else if(h==P(f)&&!b.ab(f)&&b.A(f,f.parentNode))h=1+O(f),f=f.parentNode;else if(3===f.nodeType&&-1==["pre","pre-f.wrap"].indexOf(K(f.parentNode).whiteSpace)&&h!=P(f)&&/[ \xa0]/.test(f.data[h]))k&&l&&" "==f.data[h]?f.deleteData(h,1):(l=" "==f.data[h],h++,n++);else break;
k&&a===f&&gb(a)&&c===h&&(l=(l=a.textContent.match(/^\s+/))?l[0]:"",l=l.length,l>=c&&(a.deleteData(0,l),c=h=0));if(k)for(;"before"==b.Ta(a,c,f,h);)if(0<=h-1&&h-1<f.childNodes.length&&b.A(f,f.childNodes[h-1]))f=f.childNodes[h-1],h=P(f);else if(0==h&&b.A(f,f.parentNode))h=O(f),f=f.parentNode;else if(3===f.nodeType&&-1==["pre","pre-f.wrap"].indexOf(K(f.parentNode).whiteSpace)&&h==P(f)&&" "==f.data[f.data.length-1]&&b.ab(f))h--,n--,f.deleteData(h,1);else break;for(k=d.we(n,0==c&&b.gb(a),h==P(f)&&b.ab(f));"before"==
b.Ta(a,c,f,h);)c<a.childNodes.length?(a=a.childNodes[c],c=0):3!=a.nodeType||c==P(a)?(c=1+O(a),a=a.parentNode):(n=k[0],k=k.slice(1),n!=a.data[c]&&(a.insertData(c,n),a.deleteData(c+1,1)),c++)}};d.zc=function(a){U(a,"margin-left",b.kb(a)+40+"px")};d.pb=function(){return!(!a.a()||!Q(a.a().startContainer,"ul,ol",c.Sa()))};d.Fd=function(){return!(!a.a()||!Q(a.a().startContainer,"table",c.Sa()))};d.Wb=function(){return d.Fd()||d.pb()};return d};function qe(a){function b(a,b){var c=!1;0==h&&null!=a?d.Ka(a):0==h&&(d.La(),c=!0);h++;var e=Ba(function(){return b()});h--;c&&d.Z();return e}w(a!==document.body,"We don't allow BODY to be editor's root");var c=this;c.c=void 0;var d=new he(a);c.B=d;var e=new Kd(a);c.vb=e;var g=new ie(d,e);c.format=g;var k=new pe(d,e,g);c.l=k;var f=d.ga,k=new le(d,e,g,k);c.normalize=k;pc(a);var h=0;c.execCommand=function(a,e,g,h){if(1==arguments.length||4<=arguments.length&&null==e)e=!1;if(2>=arguments.length||4<=arguments.length&&
null==g)g="";return b(h,function(a,b,e){return function(){if(!(a in f&&c.queryCommandEnabled(a)))return!1;var b=f[a],g=b.action(""===e?null:e);b.Ba&&(b=d.S("spellcheck"))&&b.Ba(a);if(!0!==g&&!1!==g)throw"execCommand() didn't return true or false: "+g;return!1!==g}}(a,e,g))};c.queryCommandEnabled=function(a,c){return b(c,function(a){return function(){return a in f?d.j(a).enabled?d.j(a).enabled():d.hasFocus():!1}}(a))};c.queryCommandIndeterm=function(a,c){return b(c,function(a){return function(){return d.j(a).ba?
f[a].ba():!1}}(a))};c.queryCommandState=function(a,c){return b(c,function(a){return function(){var b=d.j(a);return b.state?null!=d.Ob(a)?d.Ob(a):b.state():!1}}(a))};c.queryCommandSupported=function(a){return a in f};c.queryCommandValue=function(a,c,e){return b(e,function(){return d.j(a).value?f[a].value(c):""})};d.xb=function(){Object.keys(f).forEach(function(a){d.j(a).P||(f[a].P=null);d.j(a).N&&!d.j(a).ba&&(f[a].ba=function(){if(!d.a())return!1;var b=g.C(d.a(),e.X).map(function(b){return g.v(b,a)}),
c=b.filter(function(b){return-1!=f[a].N.indexOf(b)});return 1<=c.length&&1<=b.length-c.length});d.j(a).N&&(f[a].state=function(){if(!d.a())return!1;g.C(d.a(),e.X);return-1!==f[a].N.indexOf(g.v(d.a().startContainer,a))});d.j(a).de&&(f[a].ba=function(){if(!d.a())return!1;for(var b=g.C(d.a()).filter(e.X).map(function(b){return g.v(b,a)}),c=1;c<b.length;c++)if(b[c]!==b[c-1])return!0;return!1},f[a].value=function(){if(!d.a())return"";var b=g.C(d.a(),e.X)[0];null==b&&(b=d.a().startContainer);b=g.v(b,a);
return null===b?"":b});if(d.j(a).D){var b=f[a].action;f[a].action=function(a){var c=g.Qc();a=b(a);d.Z();d.a().collapsed&&g.Ha(c);return a}}})};c.wa=k.Mc;c.Ge=function(){return f}};function re(){function a(){M=D.b.timeout(function(){var a=-Z;Z=L(mb()).width;a+=Z;0!==a&&y(mb().querySelectorAll("table"),function(a){r(a)})},100,M)}function b(a){D.b.g(a.target,"mouseenter",function(){k(a.target)});D.b.g(a.target,"TABLE_ALIGN",e);D.b.g(a.target,"TABLE_INSERT_ROW",d);D.b.g(a.target,"TABLE_DELETE_ROW",e);D.b.g(a.target,"TABLE_INSERT_COLUMN",d);D.b.g(a.target,"TABLE_DELETE_COLUMN",c)}function c(a){p(a.target);r(a.target);e(a)}function d(a){if(a.data&&a.data.length)for(var b=0;b<a.data.length;b++){var c=
a.data[b];c.attributes&&Jb(c)}e(a)}function e(a){v(a.target);k(a.target)}function g(a,b){var c=[],d=-1,e=Q(a,"table"),f=Q(a,"tr");null==b&&(b=0);if(null==e||null==f)return u.warn("Couldnt find tr or table for a td! <$>"),[];for(var f=f.querySelectorAll("td"),g=0;g<f.length;g++)f[g]===a&&(d=g);if(-1===d)return u.warn("Couldnt find td within its tr! <%>"),[];d+=b;if(0>d||d>f.length-1)return[];y(e.querySelectorAll("tr"),function(a){a=a.querySelectorAll("td");null!=a[d]&&c.push(a[d])});return c}function k(a){if(!1!==
h(a)&&!1!==f(a)){var b=x().Ib(a);"right"===b?m(a):("center"===b&&m(a),l(a));n(a)}}function f(a){var b=z(a.querySelectorAll("colgroup")),c=b[0]||null,d;if(0===b.length)return!0;d=W("col",c);for(var e=0;e<b.length;e++)if(null!=d[e].getAttribute("style"))return!1;for(e=0;e<d.length;e++)if(null!=d[e].getAttribute("style"))return!1;r(a);F(c);return!0}function h(a){if(Q(a.parentElement,"table")||null!=a.querySelector("table"))return!1;var b=!1;y(Mb(a),function(a){Sa(a,"table-edge")&&(b=!0)});return b?!1:
!0}function n(a){var b=a.querySelector("tr").querySelectorAll("td");y(b,function(c){if(c!==b[b.length-1]){var d=Pb(c,"tableColumnEdge");C(d,"table-edge");var e=J("div",{"class":"line"});d.appendChild(e);var f,l,h,k,m,n,M=g(c),Z=g(c,1),v=L(d).width;D.Ab.bc(d,function(){p(a);var b=L(M[0]),c=L(Z[0]);f=b.width;l=c.width;h=window.innerWidth-b.left-35;k=window.innerWidth-c.right+35;m=L(a).width;n=parseInt(sb(d,"right"),10);C(d,"no-hide-element")},function(a){a=n-a;a>h-v&&(a=h-v);a<k&&(a=k);d.style.right=
a+"px"},function(b){b<-f+35&&(b=-f+35);b>l-35&&(b=l-35);var c=(l-b)/m*100;M[0].style.width=(f+b)/m*100+"%";Z[0].style.width=c+"%";E(d,"no-hide-element");Ob(d);r(a);Uc()},"cursor: col-resize;")}})}function l(a){var b,c,d,e=35*a.querySelector("tr").querySelectorAll("td").length,f=x().Ib(a),g=Pb(a,"rightEdge");C(g,"table-edge");g.appendChild(J("div",{"class":"line"}));var l=L(g).width,h;D.Ab.bc(g,function(){p(a);var e=L(a);b=e.width;c=window.innerWidth-e.left;h=parseInt(sb(g,"right"),10);d=L(a.parentNode).width;
C(g,"no-hide-element")},function(a){if("center"===f){a=h-a;var d=c-(l+e+b)/2;a>d&&(a=d)}else a=h-a,a>c-l-e&&(a=c-l-e);0>a&&(a=0);g.style.right=a+"px"},function(c){b="center"===f?b+2*c:b+c;b<e&&(b=e);c=b/d*100;100<c&&(c=100);E(g,"no-hide-element");a.style.width=c+"%";r(a);Uc()},"cursor: col-resize;")}function m(a){var b,c,d,e=35*a.querySelector("tr").querySelectorAll("td").length,f=x().Ib(a),g=Pb(a,"leftEdge");C(g,"table-edge");g.appendChild(J("div",{"class":"line"}));var l=L(g).width,h;D.Ab.bc(g,
function(){p(a);var e=L(a);b=e.width;c=e.right;h=parseInt(sb(g,"left"),10);d=L(a.parentNode).width;C(g,"no-hide-element")},function(a){if("center"===f){a=h+a;var d=c-(b+e+l)/2;a>d&&(a=d)}else a=h+a,a>c-l-e&&(a=c-l-e);0>a&&(a=0);g.style.left=a+"px"},function(c){b="center"===f?b-2*c:b-c;b<e&&(b=e);c=b/d*100;100<c&&(c=100);E(g,"no-hide-element");a.style.width=c+"%";r(a);Uc()},"cursor: col-resize;")}function r(a){var b=L(a).width,c=35/b*100,d=[],e=0,f=0,g=a.querySelector("tr");if(null!=g&&(g=g.querySelectorAll("td"),
0!==g.length)){b<35*g.length&&(b=35*g.length);var l=L(a.parentNode).width,l=Math.max(0,Math.min(100,b/l*100)),h=sb(a,"width"),k=null;null!=h&&(k=oc(h||""));k&&k.Ma&&"%"===k.Ma?U(a,"width",l+"%"):U(a,"width",b+"px");var m=[];y(g,function(a){a=L(a).width;m.push(a/b*100+"%")});y(g,function(a){var b=L(a).width,g=m.shift();null==g&&(u.error("Length of first row magically changed <$>"),g="0%");U(a,"width",g);35>=b?(U(a,"width",c+"%"),f++):d.push(a);e+=parseInt(sb(a,"width"),10)});if(0!==d.length&&0!==f){a=
f*c;var n=e-a,M=100-a;y(d,function(a){var b=parseInt(sb(a,"width"),10),b=b/n*M;U(a,"width",b+"%")})}}}function p(a){U(a,"table-layout","fixed")}function v(a){y(Mb(a),function(a){Sa(a,"table-edge")&&F(a)});y(a.querySelectorAll("td"),function(a){y(Mb(a),function(a){Sa(a,"table-edge")&&F(a)})})}function x(){return Qc.q.B.S("table")}var D=this;this.name="ui-table";var M=0,Z=null;this.e=function(){D.b.g(document,"tableAdded",b);Z=L(mb()).width;D.b.timeout(function(){D.b.g(window,"resize",a)},3E3);D.b.timeout(function(){Kb()},
250);D.mb().e(D.Ab=new Rb);y(mb().querySelectorAll("table"),function(a){A(a,"tableAdded",void 0)})};this.r=function(){y(document.querySelectorAll("table"),function(a){v(a)})}};function se(){this.name="inline";this.e=function(a){function b(a){if(!a)return!1;var b=d.S("edit");b&&b.H({ic:!1});b=d.a();if(!e.d(d.a().startContainer)&&!e.ja(d.a().startContainer))return!0;e.u(b.startContainer)&&1==b.startContainer.childNodes.length&&S(b.startContainer.firstChild)&&0==b.startOffset&&b.startContainer.removeChild(b.startContainer.firstChild);b.insertNode(a);d.i(a.parentNode,1+O(a));return!0}function c(){if(!d.a()||!d.a().startContainer)return null;var a=Q(d.a().startContainer,"a[href]",
d.root);return a?a.href:null}var d=a.B,e=a.vb,g=a.format,k=a.l,f=d.ga;f.bold={f:!0,T:!0,action:function(b){b=null==b?!a.queryCommandState("bold"):+b;g.M("bold",b?"bold":"normal");return!0},N:["bold","600","700","800","900"],P:"fontWeight",Aa:function(a,b){return a==b||"bold"==a&&"700"==b||"700"==a&&"bold"==b||"normal"==a&&"400"==b||"400"==a&&"normal"==b}};f.italic={f:!0,T:!0,action:function(b){b=null==b?!a.queryCommandState("italic"):+b;g.M("italic",b?"italic":"normal");return!0},N:["italic","oblique"],
P:"fontStyle"};f.underline={f:!0,T:!0,action:function(b){b=null==b?!a.queryCommandState("underline"):+b;g.M("underline",b?"underline":null);return!0},N:["underline"]};f.strikethrough={f:!0,T:!0,action:function(b){b=null==b?!a.queryCommandState("strikethrough"):+b;g.M("strikethrough",b?"line-through":null);return!0},N:["line-through"]};f.tt={f:!0,T:!0,action:function(b){b=null==b?!a.queryCommandState("tt"):+b;g.M("tt",b?"tt":null);return!0},N:["tt"]};f.createlink={f:!0,action:function(a){if(!a)return!1;
if(d.a().collapsed){var c=J("a",{href:$d(a.toString())});c.textContent=a.toString();return b(c)}g.C(d.a()).forEach(function(b){e.na(b).forEach(function(b){e.d(b)&&R(b,"a")&&b.hasAttribute("href")&&b.setAttribute("href",a)})});g.M("createlink",a);return!0},value:function(){return c()||""},state:function(){return!!c()}};f.unlink={f:!0,action:function(){for(var a=d.a(),b=[],c=a.startContainer;c;c=c.parentNode)R(c,"a")&&c.hasAttribute("href")&&b.unshift(c);for(c=a.startContainer;c!=e.ka(a.endContainer);c=
e.nextNode(c))R(c,"a")&&c.hasAttribute("href")&&(e.Tb(c,a)||e.Cc(c,a.endContainer)||c==a.endContainer)&&b.push(c);for(a=0;a<b.length;a++)g.pc(b[a],"unlink");return!0},value:function(){return c()||""},state:function(){return!!c()}};f.fontname={f:!0,T:!0,action:function(a){g.M("fontname",a);return!0},value:function(){if(!d.a())return"";var a=g.C(d.a(),e.X)[0];void 0===a&&(a=d.a().startContainer);a=g.v(a,"fontname");return ne(a)||""},P:"fontFamily",Aa:function(a,b){return ne(a)===ne(b)}};f.fontsize=
{f:!0,T:!0,action:function(a){a=qc(a,"px","px");g.M("fontsize",a?a.src:null);return!0},ba:function(){return 2<=g.C(d.a(),e.X).map(function(a){return g.v(a,"fontsize")}).filter(function(a,b,c){return-1==c.slice(0,b).indexOf(a)}).length},value:function(a,b){a||(a="px");if(!b){if(!d.a())return"";var c=g.C(d.a(),e.X)[0];void 0===c&&(c=d.a().startContainer);b=g.v(c,"fontsize")}return(c=qc(b,a))&&c.value?c.value.toString():"0"},P:"fontSize"};f.forecolor={f:!0,T:!0,action:function(a){/^([0-9a-fA-F]{3}){1,2}$/.test(a)&&
(a="#"+a);if(!/^(rgba?|hsla?)\(.*\)$/.test(a)&&!ke(a)&&"transparent"!=a.toLowerCase())return!1;g.M("forecolor",a);return!0},de:!0,P:"color",Aa:function(a,b){return je(a)===je(b)}};f.backcolor={f:!0,T:!0,action:function(a){/^([0-9a-fA-F]{3}){1,2}$/.test(a)&&(a="#"+a);if(!/^(rgba?|hsla?)\(.*\)$/.test(a)&&!ke(a)&&"transparent"!=a.toLowerCase())return!1;g.M("backcolor",a);return!0},ba:function(){return 2<=g.C(d.a(),function(a){return e.d(a)&&3===a.nodeType}).map(function(a){return g.v(a,"backcolor")}).filter(function(a,
b,c){return-1==c.slice(0,b).indexOf(a)}).length},de:!0,P:"backgroundColor",Aa:function(a,b){return je(a)===je(b)}};f.highlight={f:!0,T:!0,action:function(b){b=null==b?!a.queryCommandState("highlight"):+b;g.M("highlight",b?"rgb(255, 250, 165)":null);return!0},N:["rgb(255, 250, 165)","rgb(255, 204, 102)"],P:"backgroundColor",Aa:function(a,b){return je(a)===je(b)}};f.removeformat={f:!0,T:!0,action:function(){function a(b){return e.d(b)&&N(b,"abbr,acronym,b,bdi,bdo,big,blink,cite,code,dfn,em,font,i,ins,kbd,mark,nobr,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var")}
g.C(d.a(),a).forEach(function(a){for(;a.hasChildNodes();)d.t(a.firstChild,a.parentNode,O(a));a.parentNode.removeChild(a)});if(e.d(d.a().startContainer)&&3==d.a().startContainer.nodeType&&0!=d.a().startOffset&&d.a().startOffset!=P(d.a().startContainer))if(d.a().startContainer==d.a().endContainer){var b=d.a().endOffset-d.a().startOffset,c=d.a().startContainer.splitText(d.a().startOffset);d.i(c,0,c,b)}else d.$d(d.a().startContainer.splitText(d.a().startOffset),0);e.d(d.a().endContainer)&&3==d.a().endContainer.nodeType&&
0!=d.a().endOffset&&d.a().endOffset!=P(d.a().endContainer)&&(c=[d.a().startContainer,d.a().startOffset],b=[d.a().endContainer,d.a().endOffset],d.Zd(document.documentElement,0),b[0].splitText(b[1]),d.i(c[0],c[1],b[0],b[1]));g.C(d.a(),e.d).forEach(function(b){for(;a(b.parentNode)&&e.A(b.parentNode,b);)k.U([b])});"subscript superscript bold tt fontname fontsize forecolor highlight backcolor italic strikethrough underline".split(" ").forEach(function(a){g.M(a,null)});return!0}};["superscript","subscript"].forEach(function(b){f[b]=
{f:!0,T:!0,action:function(c){c=null==c?!a.queryCommandState(b):+c;g.M(b,null);c&&g.M(b,b);return!0},ba:function(){var a=g.C(d.a(),e.X);return a.some(function(a){return g.v(a,b)==b})&&a.some(function(a){return g.v(a,b)!=b})||a.some(function(a){return"mixed"==g.v(a,b)})},N:[b]}});try{if(!0===Pc.rte.highlightMagic){var h=null;this.b.g(d.root,"mousedown",function(){h=yc(d.root)});this.b.g(document,"mouseup",function(b){var c=X(d.root);c&&!c.collapsed&&h!==yc(d.root)&&(!b.metaKey||b.altKey||b.shiftKey||
b.ctrlKey?b.metaKey&&b.altKey&&!b.shiftKey&&!b.ctrlKey&&a.hc.s.action("strikethrough"):a.hc.s.action("highlight"));h=null})}}catch(n){u.error("Exception in <$>:",n.toString)}}};function te(){this.name="edit";this.e=function(a){function b(a){window.getSelection().isCollapsed&&(window.getSelection().modify("extend",a?"backward":"forward","lineboundary"),l.La());return l.j(a?"delete":"forwarddelete").action()}function c(a){if(!window.getSelection().isCollapsed)return l.j("delete").action();var b=Q(l.a().startContainer,"li");p.pb()&&null!=b&&m.oa(b)||(window.getSelection().modify("extend",a?"backward":"forward","word"),l.La());return l.j(a?"delete":"forwarddelete").action()}
function d(){if(l.a().collapsed){v.Ye();var a=r.Sa();if(1!==P(a)||!R(a.firstChild,"div")||1!==P(a.firstChild)||!R(a.firstChild.firstChild,"br")){p.Na(l.a().startContainer,l.a().startOffset);for(var b=l.a().startContainer,a=l.a().startOffset;;)if(0===a&&m.d(b.previousSibling)&&m.L(b.previousSibling))b.parentNode.removeChild(b.previousSibling);else if(0<=a-1&&a-1<b.childNodes.length&&m.d(b.childNodes[a-1])&&m.L(b.childNodes[a-1]))b.removeChild(b.childNodes[a-1]),a--;else if(0==a&&m.k(b)||m.L(b))a=O(b),
b=b.parentNode;else{if(0<=a-1&&a-1<b.childNodes.length&&m.d(b.childNodes[a-1])&&R(b.childNodes[a-1],"a")){p.wb(b.childNodes[a-1]);return}if(0<=a-1&&a-1<b.childNodes.length&&!m.u(b.childNodes[a-1])&&!S(b.childNodes[a-1])&&!m.ca(b.childNodes[a-1]))b=b.childNodes[a-1],a=P(b);else break}if(3===b.nodeType&&0!=a||m.d(b)&&0<=a-1&&a-1<b.childNodes.length&&(N(b.childNodes[a-1],"br,hr")||m.ca(b.childNodes[a-1])))l.i(b,a-1,b,a),n.H();else if(!m.k(b))if(N(b,"li,dt,dd")&&b==b.parentNode.firstChild&&0==a){for(var a=
[],c=b.parentNode;c;c=c.parentNode)R(c,"li")&&a.unshift(c);for(c=0;c<a.length;c++)p.xa(a[c]);a=r.O([b]);p.U([b]);r.Q(a);N(b,"dd,dt")&&m.na(b).every(function(a){return!m.A(b,a)||!m.G(b,a)})&&(b=l.la(b,"div"));p.$(b)}else{for(var c=b,d=a;;)if(0==d)d=O(c),c=c.parentNode;else if(0<=d-1&&d-1<c.childNodes.length&&m.d(c.childNodes[d-1])&&m.L(c.childNodes[d-1]))c.removeChild(c.childNodes[d-1]),d--;else break;if(0===a&&m.Yb(b,!0)&&m.na(b).concat(b).filter(function(a){return m.d(a)&&m.A(a,b)&&m.Da(a)}).length)for(a=
Sb(b,0),a=m.V(a),a=m.ha(a,function(a){return m.d(a)&&!m.xd(a)}),c=0;c<a.length;c++)f(a[c]);else if(!R(c.childNodes[d],"table"))if(0<=d-1&&d-1<c.childNodes.length&&R(c.childNodes[d-1],"table"))l.i(c,d-1,c,d);else if(0==a&&(R(c.childNodes[d-1],"hr")||S(c.childNodes[d-1])&&(S(c.childNodes[d-1].previousSibling)||!m.k(c.childNodes[d-1].previousSibling))))l.i(c,d-1,c,d),n.H(),l.i(b,a);else if(N(c.childNodes[d],"li,dt,dd")&&N(c.childNodes[d].previousSibling,"li,dt,dd"))c=c.childNodes[d-1],d=P(c),b=c.nextSibling,
l.i(c,d,b,0),n.H();else{for(;0<=d-1&&d-1<c.childNodes.length;){var e=c.childNodes[d-1];m.d(e)&&m.L(e)?(c.removeChild(e),d--):N(e,"hr")?d--:(c=e,d=P(c))}l.i(c,d,b,a);n.H({direction:"backward"})}}}}else n.H()}function e(a){v.wa();for(var b=m.V(l.a()),b=m.Ra(b,function(a){return 1===a.nodeType&&m.d(a)&&(a.hasAttribute("align")||""!=a.style.textAlign)}),c=0;c<b.length;c++){var d=b[c];d.removeAttribute("align");T(d,"text-align")}if("left"!=a)for(b=m.V(l.a()),b=m.ha(b,function(a){return m.d(a)&&R(a,"div")});b.length;)b.shift().setAttribute("style",
"text-align: "+a)}function g(a){var b=a.toLowerCase(),c="tl"===b,d=c?"ul":b,e=l.a();if(e){v.wa();var g=p.ia()===b?"disable":"enable",h=function(a){return m.ob(a,b)},n=function(a){return!h(a)&&N(a,"ol,ul")},x=[];(function(){for(var a=e.endContainer;a!==e.commonAncestorContainer;a=a.parentNode)R(a,"li")&&x.unshift(a);for(a=e.startContainer;a;a=a.parentNode)R(a,"li")&&x.unshift(a)})();x.forEach(p.xa);a=m.V(e);"enable"===g&&m.Ra(a,function(a){return m.d(a)&&n(a)}).forEach(function(a){if(m.d(a.previousSibling)&&
h(a.previousSibling)||m.d(a.nextSibling)&&h(a.nextSibling)){a=[].slice.call(a.childNodes);var b=r.O(a);p.U(a);r.ma(a,function(a){return h(a)});r.Q(b)}else l.la(a,d),Ta(a,"en-todo-list",c),U(a,"-evernote-list-type",c?"todo":null)});a=m.ha(a,function(a){return m.d(a)&&(N(a,"ol,ul")||N(a.parentNode,"ol,ul")||m.G(a,"li"))});"enable"==g&&(a=a.filter(function(a){return!N(a,"ol,ul")||N(a.parentNode,"ol,ul")}));if("disable"==g)for(;a.length;){var H=[];H.push(a.shift());if(h(H[0]))f(H[0]);else{for(;a.length&&
a[0]==H[H.length-1].nextSibling&&!h(a[0]);)H.push(a.shift());g=r.O(H);p.U(H);for(var ba=0;ba<H.length;ba++)p.$(H[ba]);r.Q(g)}}else for(;a.length;){for(H=[];!H.length||a.length&&a[0]==H[H.length-1].nextSibling;)if(N(a[0],"p,div"))a[0].style.margin="",a[0].style.textAlign="",a[0].removeAttribute("align"),rb(a[0]),H.push(l.la(a[0],"li")),a.shift();else if(N(a[0],"li,ol,ul"))H.push(a.shift());else{for(g=[];!g.length||a.length&&a[0]==g[g.length-1].nextSibling&&m.k(a[0])&&m.k(g[g.length-1])&&!S(g[g.length-
1]);)g.push(a.shift());for(;g.length&&Ab(g[g.length-1]);)g.pop();g.length&&H.push(r.ma(g,void 0,function(){return J("li")}))}h(H[0].parentNode)||H.every(function(a){return N(a,"ol,ul")})||(n(H[0].parentNode)?(H=z(H[0].parentNode.childNodes),g=r.O(H),p.U(H),r.ma(H,function(a){return h(a)},function(){return k(b)}),r.Q(g)):(g=r.ma(H,function(a){return h(a)},function(){if(!(m.d(H[0].parentNode)&&m.rb(H[0].parentNode)&&m.d(H[0].parentNode.previousSibling)&&h(H[0].parentNode.previousSibling)))return k(b);
var a=H[0].parentNode.previousSibling;p.xa(a.lastChild);m.d(a.lastChild)&&h(a.lastChild)||a.appendChild(k(b));return a.lastChild}),p.$(g)))}}}function k(a){w(0<=["ul","ol","tl"].indexOf(a.toLowerCase()));return"tl"===a?J("ul",{"class":"en-todo-list",style:"-evernote-list-type:todo"}):J(a)}function f(a){if(m.d(a))if(R(a,"div")){var b=m.kb(a)-40;0<b?U(a,"margin-left",b+"px"):p.wb(a)}else if(m.rb(a))p.wb(a);else if(m.Da(a))a.removeAttribute("dir"),a.style.margin="",a.style.padding="",a.style.border=
"",""!=a.getAttribute("style")&&"border-width: initial; border-color: initial; "!=a.getAttribute("style")||a.removeAttribute("style"),l.la(a,"div");else{for(var b=a.parentNode,c=[];m.d(b)&&1==b.nodeType&&!m.rb(b)&&!N(b,"ol,ul");)c.push(b),b=b.parentNode;if(!m.d(b)||!m.rb(b))for(b=a.parentNode,c=[];m.d(b)&&1==b.nodeType&&!m.Da(b)&&!N(b,"ol,ul");)c.push(b),b=b.parentNode;if(N(a,"ol,ul")&&(!m.d(b)||!m.Da(b))){a.removeAttribute("reversed");a.removeAttribute("start");a.removeAttribute("type");b=[].slice.call(a.childNodes);
if(N(a.parentNode,"ol,ul")||z(a.parentNode.childNodes).every(function(){return N(a,"ol,ul")||Ab(a)}))c=r.O([].slice.call(a.childNodes)),p.wb(a),r.Q(c);for(c=0;c<b.length;c++)p.$(b[c])}else if(m.d(b)&&m.Da(b)){c.push(b);for(var d=b;c.length;){var b=c.pop(),e=a.parentNode==b?a:c[c.length-1];m.k(e)&&!S(e)&&S(e.nextSibling)&&e.parentNode.removeChild(e.nextSibling);var g=[].slice.call(b.childNodes,1+O(e));h([].slice.call(b.childNodes,0,O(e)));h(g)}f(d)}}}function h(a){if(a.length){var b=a[0];if(N(b.parentNode,
"ol,ul")){var c=m.td(b.parentNode);r.ma(a,function(a){return m.ob(a,c)},function(){return k(c)})}else for(;a.length;)b=a.shift(),R(b,"div")?p.zc(b):(b=r.ma([b],function(a){return m.rb(a)?!0:!1},function(){return J("div",{style:"margin-left:40px;"})}),p.$(b))}}var n=this,l=a.B,m=a.vb,r=a.format,p=a.l,v=a.normalize,x=l.ga;this.H=function(a){l.a()&&(v.Pd(),p.nd(a),v.Ea())};x.deleteword={f:!0,Ba:!0,D:!0,action:function(){return c(!0)}};x.forwarddeleteword={f:!0,Ba:!0,D:!0,action:function(){return c(!1)}};
x.deleteline={f:!0,Ba:!0,D:!0,action:function(){return b(!0)}};x.forwarddeleteline={f:!0,Ba:!0,D:!0,action:function(){return b(!1)}};x["delete"]={Ba:!0,action:function(a){r.Ue(function(){"selection"===a?n.H():"word"===a?c(!0):"line"===a?b(!0):d()});return!0}};x.forwarddelete={Ba:!0,D:!0,action:function(a){"selection"===a?n.H():"word"===a?c(!1):"line"===a?b(!1):l.a().collapsed?(a=l.a(),window.getSelection().modify("extend","forward","character"),window.getSelection().collapseToEnd(),l.La(),Zb(a,l.a())||
l.j("delete").action()):n.H();return!0}};x.indent={f:!0,D:!0,action:function(){v.wa();for(var a=[],b=l.a().endContainer;b!=l.a().commonAncestorContainer;b=b.parentNode)R(b,"li")&&a.unshift(b);for(b=l.a().startContainer;b!=l.a().commonAncestorContainer;b=b.parentNode)R(b,"li")&&a.unshift(b);for(b=l.a().commonAncestorContainer;b;b=b.parentNode)R(b,"li")&&a.unshift(b);for(b=0;b<a.length;b++)p.xa(a[b]);a=m.V(l.a());a=m.ha(a,function(a){return m.d(a)&&N(a,"div,li")});b=a.filter(m.I)[0];if(R(b,"li")&&N(b.parentNode,
"ol,ul")){for(b=b.previousSibling;m.L(b);)b=b.previousSibling;R(b,"li")&&p.xa(b)}for(;a.length;){b=[];for(b.push(a.shift());a.length&&a[0]==b[b.length-1].nextSibling;)b.push(a.shift());h(b)}return!0}};x.outdent={f:!0,D:!0,action:function(){v.wa();var a=r.Sa(),b=[];(function(){for(var a=l.a().endContainer;a!=l.a().commonAncestorContainer;a=a.parentNode)R(a,"li")&&b.unshift(a);for(a=l.a().startContainer;a;a=a.parentNode)R(a,"li")&&b.unshift(a)})();b.forEach(p.xa);for(var c=m.V(l.a()),c=m.ha(c,function(a){return m.d(a)&&
(!m.ib(a).some(m.d)||N(a,"ol,ul")||R(a,"li")&&N(a.parentNode,"ol,ul"))}),d=[];c.length;){for(;c.length&&R(nb(c[0],a),"div");){var e=nb(c.shift(),a);if(-1===d.indexOf(e)){d.push(e);var g=m.kb(e)-40;0<g?U(e,"margin-left",g+"px"):(T(e,"margin-left"),T(e,"margin"))}}for(;c.length&&(N(c[0],"ol,ul")||!N(c[0].parentNode,"ol,ul"));)f(c.shift());if(!c.length)break;e=[];for(e.push(c.shift());c.length&&c[0]==e[e.length-1].nextSibling&&!N(c[0],"ol,ul");)e.push(c.shift());g=r.O(e);p.U(e);e.forEach(p.$);r.Q(g)}return!0}};
x.inserthorizontalrule={f:!0,D:!0,action:function(){if(p.Wb())return!1;l.j("insertparagraph").action();var a=J("div",{},[J("hr")]),b=m.J(l.a().startContainer);l.t(a,b.parentNode,O(b));return!0},enabled:function(){return l.hasFocus()&&!p.Wb()}};x.insertimage={f:!0,D:!0,action:function(a){if(""===a)return!1;a=J("img",{src:$d(a)});if(a){n.H({ic:!1});var b=l.a();if(m.d(l.a().startContainer)||m.ja(l.a().startContainer))m.u(b.startContainer)&&1==b.startContainer.childNodes.length&&S(b.startContainer.firstChild)&&
0==b.startOffset&&b.startContainer.removeChild(b.startContainer.firstChild),b.insertNode(a),l.i(a.parentNode,1+O(a))}a.removeAttribute("width");a.removeAttribute("height");return!0}};x.insertlinebreak={D:!0,action:function(b){if(!p.pb())return a.execCommand("insertparagraph",b);n.H({ic:!1});if(!m.d(l.a().startContainer)&&!m.ja(l.a().startContainer)||1==l.a().startContainer.nodeType&&!m.G("br",l.a().startContainer)||1!=l.a().startContainer.nodeType&&!m.G("br",l.a().startContainer.parentNode))return!0;
if(3==l.a().startContainer.nodeType&&0==l.a().startOffset){b=l.a().startContainer.parentNode;var c=O(l.a().startContainer);l.i(b,c)}3==l.a().startContainer.nodeType&&l.a().startOffset==P(l.a().startContainer)&&(b=l.a().startContainer.parentNode,c=1+O(l.a().startContainer),l.i(b,c));b=J("br");l.a().insertNode(b);l.i(b.parentNode,1+O(b));m.Sb(b)&&(l.a().insertNode(J("br")),l.i(b.parentNode,1+O(b)));return!0}};x.insertparagraph={D:!0,action:function(){var a=l.S("todo");n.H();var b=l.a().startContainer,
c=l.a().startOffset;if(!m.d(b)&&!m.ja(b))return!0;3===b.nodeType&&0!==c&&c!==P(b)&&b.splitText(c);3===b.nodeType&&c===P(b)&&(c=1+O(b),b=b.parentNode);3===b.nodeType&&(c=O(b),b=b.parentNode);l.i(b,c);for(var d=b;!m.Hc(d)&&m.d(d.parentNode)&&m.A(b,d.parentNode);)d=d.parentNode;if(m.d(d)&&m.Hc(d)&&m.A(b,d.parentNode)&&N(d,"p,div")){for(var e=d;!N(e,"dd,dt,li")&&m.d(e.parentNode);)e=e.parentNode;N(e,"dd,dt,li")&&(d=e)}if(!m.d(d)||!m.A(d,b)||!m.Hc(d)){e=m.V(l.a());e=m.ha(e,function(a){return m.G(a,"p")}).slice(0,
1);if(!e.length){if(!m.G("div",l.a().startContainer))return!0;d=me();l.a().insertNode(d);l.i(d,0);return!0}for(;e[e.length-1].nextSibling&&m.G(e[e.length-1].nextSibling,"p");)e.push(e[e.length-1].nextSibling);d=r.ma(e,Ca,function(){return J("div")})}var e=!1,f=a?a.$c(d):null;if(a&&null!=f){if(a.Qe(d))return Va(d),d.appendChild(J("br")),l.i(d,0),!0;e=!0}if(N(d,"address,listing,pre"))return a=J("br"),l.a().insertNode(a),l.i(b,c+1),m.Ub(m.nextNode(a),d)||(l.a().insertNode(J("br")),l.i(b,c+1)),!0;N(d,
"li,dt,dd")&&p.xa(d);if(N(d,"li,dt,dd")&&m.oa(d))return p.U([d]),m.nb(d)||(l.Xd(d),d.appendChild(J("br"))),N(d,"dd,dt")&&m.na(d).every(function(a){return!m.A(d,a)||!m.G(d,a)})&&(d=l.la(d,"div")),p.$(d),!0;for(b=Sb(l.a().startContainer,l.a().startOffset,d,P(d));0===b.startOffset&&!m.Va(b.startContainer);)b.setStart(b.startContainer.parentNode,O(b.startContainer));for(;b.startOffset===P(b.startContainer)&&!m.Va(b.startContainer);)b.setStart(b.startContainer.parentNode,1+O(b.startContainer));for(var c=
m.ha(b),f=!c.length||1===c.length&&S(c[0]),c=Xb(l.a()),g=r.Sa(),c=Q(c,function(a){return"a"!==I(a)},g)||c,c=r.O([c]),f=N(d,"h1,h2,h3,h4,h5,h6")&&f?"div":R(d,"dt")&&f?"dd":R(d,"dd")&&f?"dt":d.tagName.toLowerCase(),h=J(f),f=0;f<d.attributes.length;f++)h.setAttributeNS(d.attributes[f].namespaceURI,d.attributes[f].name,d.attributes[f].value);h.removeAttribute("id");h.removeAttribute("class");d.parentNode.insertBefore(h,d.nextSibling);for(var g=m.Ra(b),b=b.extractContents(),k=m.ib(b),f=0;f<k.length;f++)1===
k[f].nodeType&&-1===g.indexOf(k[f])&&k[f].removeAttribute("id");for(f=b.childNodes.length-1;0<=f;f--)g=b.childNodes[f],gb(g)?Ab(g)&&F(g):m.oa(g)&&F(g);for(h.appendChild(b);m.Va(d.lastChild);)d=d.lastChild;for(;m.Va(h.lastChild);)h=h.lastChild;m.nb(d)||(d.appendChild(J("br")),r.Q(c.map(function(a){a[0]=d;return a})));if(m.nb(h))h.children&&1===h.children.length&&S(h.children[0])&&r.Q(c.map(function(a){a[0]=h;return a}));else{if(e)return Va(h),a=a.Bc(h),l.i(a.parentNode,P(a)+1),!0;h.appendChild(J("br"));
r.Q(c.map(function(a){a[0]=h;return a}))}b=0;e&&!a.$c(h)&&(w(3!==h.nodeType,"newContainer for checkbox insertion cannot be text"),a.Bc(h),b++);a=m.wc(h,b);h=a[0];b=a[1];l.i(h,b);return!0}};x.insertorderedlist={f:!0,D:!0,action:function(){g("ol");return!0},ba:function(){return"mixed"===p.ia()},value:function(){return p.ia()},state:function(){return"ol"===p.ia()}};x.insertunorderedlist={f:!0,D:!0,action:function(){g("ul");return!0},ba:function(){return"mixed"===p.ia()},value:function(){return p.ia()},
state:function(){return"ul"===p.ia()}};x.inserttodolist={f:!0,D:!0,action:function(){g("tl");return!0},ba:function(){return"mixed"===p.ia()},value:function(){return p.ia()},state:function(){return"tl"===p.ia()}};[{name:"justifyfull",mode:"justify"},{name:"justifyleft",mode:"left"},{name:"justifycenter",mode:"center"},{name:"justifyright",mode:"right"}].forEach(function(a){x[a.name]={f:!0,D:!0,action:function(){e(a.mode);return!0},ba:function(){if(!l.a())return!1;var b=m.Ra(m.V(l.a()),function(a){return m.d(a)&&
m.I(a)&&!a.hasChildNodes()});return b.some(function(b){return p.Lb(b)==a.mode})&&b.some(function(b){return p.Lb(b)!=a.mode})},state:function(){if(!l.a())return!1;var b=m.Ra(m.V(l.a()),function(a){return m.d(a)&&m.I(a)&&!a.hasChildNodes()});return b.length&&b.every(function(b){return p.Lb(b)==a.mode})},value:function(){if(!l.a())return"";var a=m.Ra(m.V(l.a()),function(a){return m.d(a)&&m.I(a)&&!a.hasChildNodes()});return a.length?p.Lb(a[0]):"left"},enabled:function(){return l.hasFocus()&&!p.pb()}}});
x.selectall={action:function(){window.getSelection().selectAllChildren(l.root);return!0},enabled:B};x.tab={f:!0,D:!0,action:function(a){var b="true"===a||1===+a;if(p.pb())return l.j(b?"outdent":"indent").action();if(p.Fd()){var c=l.S("table");if(c)return a=c.o(),c=c.Nb(),b?(a=vb(c,"td",a))&&l.i(a,0):(b=ub(c,"td",a),b||(l.j("inserttablerow").action("after"),b=ub(c,"td",a)),l.i(b,0)),!0}b||l.j("inserthtml").action("\u00a0\u00a0\u00a0\u00a0\u00a0");return!0}}};this.r=function(){}};function ue(){this.name="content";this.root=null;this.e=function(a){function b(){var a=f.a();return!(!a||a.collapsed)}function c(){return Ic(r,f.a(),{html:!0,raw:!0,resources:!0,plain:!0})}function d(a,b){try{return a.createContextualFragment(b)}catch(c){}return a.createContextualFragment(ee(b))}function e(a){var b={};if(Q(f.a().startContainer,"li")&&N(a.firstChild,"ol,ul,li")){var b={sc:[],lastChild:null},c=Q(f.a().startContainer,"li");h.oa(c,1,!0)&&Va(c);for(var c=W("ol,ul",a),d=0;d<c.length;d++){var e=
c[d];if(null!=e){for(var g=!0,k=e.parentNode;k;){if(-1!==["ol","ul"].indexOf(I(k))){g=!1;break}k=k.parentNode}g&&Xa(e)}}c=a.querySelector("li");N(c.parentNode,"ol,ul")||Xa(c)}b.lastChild=a.lastChild;b.sc=h.ib(a);f.a().insertNode(a);return b}function g(){var a=f.a();a||(a=Sb(),a.selectNodeContents(r),a.collapse(!1),f.Ka(a),f.Z());f.S("edit").H();return f.a()}var k=this,f=a.B,h=a.vb,n=a.format,l=a.l,m=a.normalize,r=f.root;a=f.ga;this.root=r;k.zd=function(a){f.S("edit").H({ic:!1});if(!f.a())return u.warn("insertPlainText did fail due to missing content"),
!1;a=a.split(/\n/gi);for(var b=f.j("insertparagraph").action,c=0;c<a.length;c++){var d=a[c];0<c&&b&&b();if(d&&d.length){var e=f.a(),g=e.startContainer,e=e.startOffset;0<=e-1&&e-1<g.childNodes.length&&3===g.childNodes[e-1].nodeType&&(g=g.childNodes[e-1],e=P(g));0<=e&&e<g.childNodes.length&&3===g.childNodes[e].nodeType&&(g=g.childNodes[e],e=0);h.u(g)&&h.oa(g)&&(e=h.wc(g,e),g=e[0],e=e[1]);f.i(g,e);d.trim()&&(3===g.nodeType?(g.insertData(e,d),f.i(g,e+d.length)):(1===g.childNodes.length&&h.Sb(g.firstChild)&&
g.removeChild(g.firstChild),g=document.createTextNode(d),f.a().insertNode(g),f.i(g,d.length)))}}f.a().collapse(!1);return!0};k.insertNode=function(a,b){if(!a)return u.warn("insertNode failed due to missing content"),!1;var c=g(),d;b&&(d=document.createTextNode("\ufeff"),c.insertNode(d),c.selectNode(d),f.j("removeformat").action(),f.i(d,1));var k;t(a)?k=f.a().createContextualFragment(a):a instanceof DocumentFragment?k=a:a instanceof Node&&(k=document.createDocumentFragment(),k.appendChild(a));c.collapse(!1);
f.Ka(c);f.Z();if(null==k.childNodes||0===k.childNodes.length)return u.warn("insertNode failed to empty content argument"),!1;h.u(f.a().startContainer)&&[].filter.call(f.a().startContainer.childNodes,function(a){return h.d(a)&&!h.Hd(a)&&O(a)>=f.a().startOffset}).forEach(function(a){a.parentNode.removeChild(a)});k=e(k);c=k.sc;k=k.lastChild;f.i(k.parentNode,O(k)+1);l.Qa(f.a().startContainer);l.Qa(k);for(var n=0;n<c.length;n++)l.$(c[n]);d&&1===d.length&&f.removeNode(d);f.Z();m.Ea();k&&f.i(k.parentNode,
O(k)+1);return!0};a.inserthtml={f:!0,D:!0,action:function(a){var b=g();if(a=d(b,a))V("title,script,style,link,base,meta",a).forEach(F),ce(a),m.Ea(),k.insertNode(a);return!0},value:function(){var a=f.a();if(!a||a.collapsed)return"";var b=h.Mb(a.startContainer,a.startOffset);a.setStart(b[0],b[1]);a=a.cloneContents();return ya(a)}};a.inserttext={f:!0,action:function(a){return k.zd(a)}};a.insertcrypto={D:!0,action:function(a){var b=g();if(a=d(b,a)){V("title,script,style,link,base,meta",a).forEach(F);
ce(a);var c=a.firstChild;b.insertNode(a);f.i(c,0)}return!0},value:function(){var a=f.a();if(!a||a.collapsed)return"";var b=h.Mb(a.startContainer,a.startOffset);a.setStart(b[0],b[1]);a=a.cloneContents();return ya(a)}};a.paste={f:!0,action:function(a){wa(a)&&(a=['<a href="',a.trim(),'">',a,"</a>"].join(""));var b=g();if(a=d(b,a))V("title,script,style,link,base,meta",a).forEach(F),ce(a),m.Ea(),k.insertNode(a,!0);return!0}};a.pasteraw={f:!0,action:function(a){var b=g();a=d(b,a);return k.insertNode(a,
!0)}};a.pasteplain={f:!0,action:function(a){if(wa(a)){a=['<a href="',a.trim(),'">',a,"</a>"].join("");var b=g();a=d(b,a);return k.insertNode(a,!0)}k.zd(a);return!0}};a.pastesimple={f:!0,action:function(a){var b=g(),b=d(b,a);a=f.S("simpletext").Ae(b);b=a.ownerDocument.createRange();b.selectNodeContents(a);b=b.cloneContents();k.insertNode(b,!0);return!0}};a.copy={action:function(){return!0},value:function(){if(b())return c()},enabled:function(){return b()}};a.cut={f:!0,action:function(){f.S("edit").H();
return!0},value:function(){return c()},enabled:function(){return f.hasFocus()&&!1===f.a().collapsed}};this.hd=function(a){var b=n.Qc();b&&b.length&&(a=ac(a.data))&&(f.Ka(a),f.a().collapsed||(n.Ha(b),a=f.a(),a.collapse(!1),f.Ka(a),f.Z()))};this.b.g(r,"applypendingstyles",this.hd);return k};this.r=function(){this.root=this.hd=null}};function ve(){this.name="todo";var a;this.e=function(b){function c(a){Hc(b.hc.h);Ta(a,"en-todo-checked");Hc(b.hc.h);Uc()}function d(a){var b=a.target;return R(b,"li")&&Sa(b.parentNode,"en-todo-list")&&40>a.clientX-b.getBoundingClientRect().left}var e=this,g=b.B,k=b.vb,f=b.l,h=b.normalize;a=g.root;var n=g.ga;e.$c=function(a){var b=null;ub(a,function(a){return N(a,"object.en-todo")?(b=a,!0):Ab(a)||k.k(a)?!1:!0},a);return b};e.Qe=function(a){if(!N(a,"div,li"))return!1;var b=e.$c(a);if(!b)return!1;for(var c=
a.childNodes.length-1;0<=c;c--){var d=a.childNodes[c];if(d!==b&&(gb(d)&&!Ab(d)||!k.oa(d)))return!1}return!0};e.Kd=function(){return J("object",{"class":"en-todo"})};e.Bc=function(a){var b=e.Kd();g.t(b,a,0);return b};e.bf=function(){return V("object.en-todo",a)};e.ef=function(a){if(a&&a.parentNode){var b=a.parentNode,c=a.nextSibling;if(c&&gb(c)){var d=c.textContent,e=d.trimLeft(d);d!==e&&(0==e.length?g.removeNode(c):c.textContent=e)}g.removeNode(a);f.Qa(b)}};this.b.g(a,"mousemove mouseout blur",function(b){var c=
b.target,e=V("li.en-todo-over",a);(b=d(b))&&C(c,"en-todo-over");for(var f=0;f<e.length;f++){var g=e[f];b&&g.isEqualNode(c)||E(g,"en-todo-over")}});this.b.g(a,"click",function(a){(N(a.target,"object.en-todo")||d(a))&&c(a.target)});n.inserttodo={f:!0,action:function(b){var d=g.a();if(!d)return!1;if("toggle"===b){b=Xb(d);var f=Q(b,"ul.en-todo-list > li",a);f?c(f):(f=vb(b,"object.en-todo",k.J(b)||a))&&c(f);return!0}if(d.collapsed)return(b=g.S("content"))&&b.insertNode(e.Kd()),!0;h.wa();if((b=e.bf().filter(function(a){return d.intersectsNode(a)}).reverse())&&
0<b.length)return b.map(function(a){e.ef(a)}),!0;(b=V("div,li",a).filter(function(a){return d.intersectsNode(a)}))&&0<b.length&&(b.map(function(a){oa(a.textContent)||e.Bc(a)}),d=g.a(),g.i(b[0],0,d.endContainer,d.endOffset));return!0}}};this.r=function(){a=void 0}};function we(){this.name="table";this.e=function(a){function b(a){var b=K(a.querySelector("td")),c=parseInt(b.borderWidth,10)||1,d=b.borderColor||"black";y(z(a.style),function(b){0<=b.indexOf("border")&&T(a,b)});a.removeAttribute("border");U(a,"border-style","solid");U(a,"border-width",c+"px");U(a,"border-color",d);U(a,"border-collapse","collapse");y(a.querySelectorAll("tr"),function(a){y(z(a.style),function(b){0<=b.indexOf("border")&&T(a,b)})});y(a.querySelectorAll("td"),function(a){y(z(a.style),
function(b){0<=b.indexOf("border")&&T(a,b)});U(a,"border-style","solid");U(a,"border-width",c+"px");U(a,"border-color",d)})}var c=this,d=a.B,e=a.vb,g=a.l,k=d.root;a=d.ga;c.o=function(){var a=d.a();if(!a)return null;var b=Q(a.startContainer,"table",k),a=Q(a.endContainer,"table",k);return!b||a&&a!==b?null:b};c.xc=function(){return c.o()?Q(d.a().startContainer,"tr",k):null};c.Nb=function(){return c.o()?Q(d.a().startContainer,"td",k):null};c.ud=function(){var a;if(null==a&&(a=c.o(),null==a))return[];
var b=window.getSelection(),d=[],e=[],g=[];y(a.querySelectorAll("td"),function(a){b.containsNode(a,!1)?(e.push(a),g.push(a)):b.containsNode(a,!0)&&(d.push(a),g.push(a))});return g};c.af=function(a){var b={table:null,cell:null,row:-1,column:-1},c=Q(a,"table"),d=Q(a,"tr");a=Q(a,"td,th");if(null==c||null==d||null==a)return b;for(var e=-1,g=-1,k=c.querySelectorAll("tr"),v=0;v<k.length;v++)k[v]===d&&(e=v);if(-1===e)return b;d=d.querySelectorAll("td,th");for(v=0;v<d.length;v++)d[v]===a&&(g=v);return-1===
g?b:{table:c,cell:a,row:e,column:g}};c.Ib=function(a){var b=sb(a,"float"),c=a.getAttribute("align"),d=a.style.marginLeft;a=a.style.marginRight;var e;null!=b?e=b:null!=c?e=c:"auto"===d&&"auto"===a?e="center":"auto"===d?e="right":"auto"===a&&(e="left");null==e&&(e="left");return e};c.Me=function(a){if(null==a||!G(a)||"table"!==I(a)||null!=a.querySelector("table"))return{rows:-1,columns:-1};a=a.querySelectorAll("tr");if(0>=a.length)return{rows:0,columns:0};var b=a[0].querySelectorAll("td,th");return{rows:a.length,
columns:b.length}};c.md=function(a){for(var b=+a.columns||2,c=+a.rows||2,d=a.borderColor||"rgb(211,211,211)",e=+a.borderWidth||1,g=J("table",{style:"-evernote-table:true;border-collapse:collapse;width:100%;table-layout:fixed;"}),k=Math.round(1E4/b)/100,v=0;v<c;v++){var x=J("tr");g.appendChild(x);for(var D=0;D<b;D++){var M=J("td",{style:"border-style:solid;border-width:"+e+"px;border-color:"+d+";padding:10px;margin:0px;width:"+k+"%;"},[me()]);a.cellColor&&(M.style.backgroundColor=a.cellColor);x.appendChild(M)}}return g};
a.inserttable={f:!0,action:function(a){if(!d.a()||g.Wb())return!1;var b={};"{"===a[0]?b=la(a,{columns:2,rows:2,borderColor:"rgb(211,211,211)",borderWidth:1,cellColor:null,alignment:"left"}):(a=a.split(","),b.columns=+a[0].trim(),b.rows=+a[1].trim());d.j("insertparagraph").action();a=b.align||"left";var b=c.md(b),k=e.J(d.a().startContainer);k.parentNode.insertBefore(b,k);g.$(b);d.i(b.querySelector("div"),0);d.j("tablealign").action(a);A(b,"TABLE_ADDED",void 0);return!0},state:function(){return!!c.o()},
enabled:function(){return d.hasFocus()&&!g.Wb()}};a.inserttablerow={f:!0,action:function(a){var b=c.o();if(null==b)return!1;a="before"===a.toString().toLowerCase().trim();var e=Q(d.a().startContainer,"tr",k),g=Q(d.a().endContainer,"tr",k);if(!e&&!g)return!1;e=e.compareDocumentPosition(g)&(a?4:2)?e:g;if(!e)return!1;var g=e.cloneNode(!0),m=[];y(g.querySelectorAll("td"),function(a){m.push(a);Va(a);a.appendChild(me())});d.t(g,e.parentNode,O(e)+(a?0:1));A(b,"TABLE_INSERT_ROW",m);return!0},state:function(){return!!c.o()},
enabled:function(){return d.hasFocus()&&!!c.o()}};a.inserttablecol={f:!0,action:function(a){var b=c.o();if(!b)return!1;var e="before"===a.toString().toLowerCase().trim();a=Q(d.a().startContainer,"td",k);var g=Q(d.a().endContainer,"td",k);if(!a&&!g)return!1;var m=a.compareDocumentPosition(g)&(e?4:2)?a:g;if(!m)return!1;var r=[],p=m.cellIndex;y(z(b.querySelectorAll("td")),function(a){if(a.cellIndex===p&&b===Q(m,"table")){var c=a.cloneNode(!0);Va(c);c.appendChild(me());r.push(c);var f=sb(a,"width"),f=
window.parseFloat(f)||0;0<f&&(U(c,"width",f/2+"%"),U(a,"width",f/2+"%"));d.t(c,a.parentNode,O(a)+(e?0:1))}});A(b,"TABLE_INSERT_COLUMN",r);return!0},state:function(){return!!c.o()},enabled:function(){return d.hasFocus()&&!!c.o()}};a.deletetablerow={f:!0,action:function(){var a=c.xc();if(!a)return!1;var b=c.o(),e=V("tr",b);if(1===e.length)return d.j("deletetable").action();e.indexOf(a)===e.length-1?(e=V("td",e[e.length-2]).pop(),d.i(e,P(e))):(e=V("td",e[e.indexOf(a)+1]).shift(),d.i(e,0));d.removeNode(a);
A(b,"TABLE_DELETE_ROW",void 0);return!0},state:function(){return!!c.xc()},enabled:function(){return d.hasFocus()&&!!c.xc()}};a.deletetablecol={f:!0,action:function(){var a=c.Nb();if(!a)return!1;var b=a.cellIndex,e=c.o(),g=V("td",e);if(g.every(function(a){return a.cellIndex===b}))return d.j("deletetable").action();var k=g.filter(function(a){return a.cellIndex===b+1});k&&k.length||(k=g.filter(function(a){return a.cellIndex===b-1}));for(var r=V("tr",e),p=0,v=0;v<r.length;v++)for(var x=V("td",r[v]),D=
0;D<x.length;D++)x[D]===a&&(p=v);d.i(k[p],0);for(v=g.length-1;0<=v;v--)a=g[v],a.cellIndex===b&&d.removeNode(a);A(e,"TABLE_DELETE_COLUMN",void 0);return!0},state:function(){return!!c.Nb()},enabled:function(){return d.hasFocus()&&!!c.Nb()}};a.deletetable={f:!0,action:function(){var a=c.o();if(!a)return!1;d.i(a.parentNode,O(a),a.parentNode,O(a)+1);(a=d.S("edit"))&&a.H();A(k,"TABLE_REMOVED",void 0);return!0},state:function(){return!!c.o()},enabled:function(){return d.hasFocus()&&!!c.o()}};a.tablebordercolor=
{f:!0,action:function(a){var d=a||"black";a=c.o();if(null==a)return!1;b(a);U(a,"border-color",d);y(a.querySelectorAll("td"),function(a){U(a,"border-color",d)});A(a,"TABLE_BORDER_COLOR",d);return!0},value:function(){var a=c.o();return null==a?"":(a=K(a.querySelector("td")).borderColor)?""+a:""},state:function(){return!!c.o()},enabled:function(){return d.hasFocus()&&!!c.o()}};a.tableborderwidth={f:!0,action:function(a){var d=parseInt(a,10);if(isNaN(d)||0>d)return u.warn("Invalid value given to tableborderwidth <$>",
ha(d)),!1;a=c.o();if(null==a)return!1;b(a);U(a,"border-width",d+"px");y(a.querySelectorAll("td"),function(a){U(a,"border-width",d+"px")});A(a,"TABLE_BORDER_WIDTH",d);return!0},value:function(){var a=c.o();if(null==a)return"";a=K(a.querySelector("td"));return(a=parseInt(a.borderWidth,10))?""+a:"0"},state:function(){return!!c.o()},enabled:function(){return d.hasFocus()&&!!c.o()}};a.tablealign={f:!0,action:function(a){if("left"!==a&&"right"!==a&&"center"!==a)return u.warn("Invalid value given to tablealign <$>"),
!1;var b=c.o();if(null==b)return!1;b.removeAttribute("align");T(b,"float");T(b,"margin");T(b,"margin-right");T(b,"margin-left");"left"===a?U(b,"margin-left","0px"):"right"===a?(U(b,"margin-left","auto"),U(b,"margin-right","0px")):"center"===a&&(U(b,"margin-left","auto"),U(b,"margin-right","auto"));A(b,"TABLE_ALIGN",a);return!0},value:function(){var a=c.o();return null==a?"":c.Ib(a)},state:function(){return!!c.o()},enabled:function(){return d.hasFocus()&&!!c.o()}};a.tablecellcolor={f:!0,action:function(a){a=
a||"transparent";var b=c.ud();if(0===b.length)return!1;y(b,function(b){T(b,"background");T(b,"background-image");T(b,"background-attachment");T(b,"background-position");T(b,"background-clip");T(b,"background-repeat");U(b,"background-color",a)});ua(c.o(),a);return!0},value:function(){var a=c.ud();if(0===a.length)return"";a=a[0].style;return a.backgroundColor?(a=je(a.backgroundColor),null!=a?a:""):""},state:function(){return!!c.o()},enabled:function(){return d.hasFocus()&&!!c.o()}}};this.r=function(){}}
;function xe(){function a(a){g=!0;this.b.Tc(k);k=this.b.timeout(function(){g=!1},1E3);a=a.target;var b=X(),d=c();Zb(b,f)||2!==d.cc.length&&1!==d.cc.length||0!==d.qc.length||Q(b.startContainer,"td")===Q(b.endContainer,"td")||(b=document.createRange(),b.selectNodeContents(a),e.Ka(b),e.Z());return!0}function b(){if(X(d)&&!g){var a=X();f=Sb(a.startContainer,a.startOffset,a.endContainer,a.endOffset);a=c();1===a.cc.length&&0===a.qc.length?y(d.querySelectorAll("table"),function(a){E(a,"en-selected")}):(y(d.querySelectorAll("table"),
function(a){C(a,"en-selected")}),y(a.cc,function(a){C(a,"en-selected")}),y(a.qc,function(a){C(a,"en-selected")}))}}function c(){var a=d.querySelectorAll("td"),b=window.getSelection(),c=[],e=[];y(a,function(a){E(a,"en-selected");b.containsNode(a,!1)?e.push(a):b.containsNode(a,!0)&&c.push(a)});return{qc:e,cc:c}}this.name="tableselection";var d=null,e=null,g=!1,k=-1,f=Sb();this.e=function(c){d=c.B.root;e=c.B;this.b.g(document,"selectionchange",b);this.b.g(document,"contextmenu",a);c=d.querySelectorAll(".en-selected");
y(c,function(a){E(a,"en-selected")});c=J("style",{type:"text/css"});c.textContent="td.en-selected { background-color: "+Sc()+" !important;}";document.querySelector("head").appendChild(c)}};function ye(){this.name="misc";this.e=function(a){var b=a.B,c=a.normalize;b.ga.normalize={sb:!0,action:function(a){if(!a||"all"===a)return c.Mc(),!0;if(!b.a())return u.warn("Command normalize called without selection. Value:",a),!1;if("start"===a)return c.Ea(),!0;if("end"===a)return c.Qd(),!0;if("selection"===a)return c.wa(),!0;if("edges"===a)return c.Pd(),!0;u.warn("Command normalize called with unknown value:",a);return!1},enabled:B}};this.r=function(){}};function ze(){this.name="transform";this.e=function(a){function b(a){void 0===a&&(a=document.body);c(a);g(a,function(a){var b="";a=a.split(/(\W+)/gi);for(var c=0;c<a.length;c++)var d=a[c],b=0<d.length?b+(d.charAt(0).toLocaleUpperCase()+d.slice(1).toLocaleLowerCase()):b+d;return b})}function c(a){var b=yc(a,!0);a.normalize();zc(a,b)}function d(a){void 0===a&&(a=document.body);g(a,function(a){return a.toLocaleLowerCase()})}function e(a){void 0===a&&(a=document.body);g(a,function(a){return a.toLocaleUpperCase()})}
function g(a,b){var c;void 0===a&&(a=document.body);var d=X();if(d&&!(1>d.toString().length)){gb(d.endContainer)&&0<d.endOffset&&d.endOffset<d.endContainer.textContent.length&&(c=d.endContainer.splitText(d.endOffset),d.setEnd(c,0));gb(d.startContainer)&&0<d.startOffset&&(c=d.startContainer.splitText(d.startOffset),d.setStart(c,0));Tb(d);for(var e=c=null,g=window.getSelection(),d=document.createTreeWalker(a,4,{acceptNode:function(a){return g.containsNode(a,!1)?1:2}},!1);d.nextNode();)gb(d.currentNode)&&
(d.currentNode.textContent=b(d.currentNode.textContent),c||(c=d.currentNode),e=d.currentNode);d=document.createRange();d.setStartBefore(c);d.setEndAfter(e);Tb(d)}}a=a.B;var k=a.root;a=a.ga;a.lowercase={f:!0,action:function(){d(k);return!0}};a.uppercase={f:!0,action:function(){e(k);return!0}};a.capitalize={f:!0,action:function(){b(k);return!0}}};this.r=function(){}};var Ae;function Be(a){a=I(a);return"p"===a||"div"===a}function Ce(a){a=I(a);return"ul"===a||"ol"===a}function De(a){return"td"===a||"th"===a}function Ee(a){return a?!!Q(a,function(a){return a&&a.style?"rgb(255, 250, 165)"===a.style.backgroundColor:!1}):!1}function Fe(a,b,c,d){b=b.getAttribute(c);if(null===b||void 0===b){if(void 0===d)return;b=d}a.setAttribute(c,b)}
function Ge(a,b,c){"undefined"===typeof c&&(c={});this.Oa=c;this.Kb=void 0!==c.cssBlockStyle?c.cssBlockStyle:this.dd;this.async=!!c.async;a instanceof DocumentFragment&&(c=J("div"),c.appendChild(a),document.body.appendChild(c),this.ge=a=c);a||(a=document.body);this.va=a;this.Ga=b;this.Lc()}q=Ge.prototype;q.mc="div";q.dd=null;q.ne=.8;q.te=150;q.fd=10;q.se=2E3;q.pe="evernote://";q.oe="rgb(105, 170, 53)";q.cancel=function(){this.Ve=!0};
q.Lc=function(){var a=this;this.Wc=this.kc=this.Ya=this.W=this.l=null;this.Ia=J("div");this.Ic=this.Wa=null;this.qa=!1;this.bb=[];var b=K(document.body);this.hf=b&&b.fontSize?+b.fontSize.replace(/px/gi,"")*this.ne:16;if(this.async){this.Zb=this.Jc=this.Id=0;this.$b=!1;this.We=this.Jd=(new Date).getTime();for(var b=document.createNodeIterator(this.va,-1,null,!0),c=0;b.nextNode();)++c;this.Xe=c}this.jf=document.createTreeWalker(this.va,-1,{acceptNode:function(b){for(var c=0;c<a.bb.length;c++)if(db(b,
a.bb[c]))return 2;return 1}},!0);He(this)};
function He(a){if(a.Ve)a.r();else{for(var b;(b=a.jf.nextNode())&&!(3===b.nodeType?Ie(a,b):1===b.nodeType&&a.vd(b),a.async&&(++a.Id,(new Date).getTime()-a.Jd>a.te)););++a.Jc;if(b&&a.async){a.Zb=Math.min(1,a.Id/a.Xe);a.$b||(b=((new Date).getTime()-a.We)/a.Zb,b+=(Math.ceil(a.Jc/a.Zb)-a.Jc)*a.fd,b>=a.se&&(a.$b=!0));if(a.$b&&a.Oa.onprogress)a.Oa.onprogress(a,a.Zb);window.setTimeout(function(){a.Jd=(new Date).getTime();He(a)},a.fd)}else{a.bb=null;Je(a.l);if(a.$b&&a.Oa.onprogress)a.Oa.onprogress(a,1);a.Kc()}}}
q.Kc=function(){this.Ga?(Va(this.Ga),Ya(this.Ia,this.Ga)):this.Ga=this.Ia;this.r();if(this.Oa.onready)this.Oa.onready(this)};q.r=function(){this.ge&&document.body.removeChild(this.ge)};
function Je(a){if(a){for(var b,c=document.createNodeIterator(a,4,null,!0);(b=c.nextNode())&&!(b.textContent=b.textContent.replace(/^ /gi,""),0<b.textContent.length););for(var c=document.createNodeIterator(a,4,null,!0),d=[];b=c.nextNode();)d.unshift(b);for(c=0;c<d.length&&!(b=d[c],b.textContent=b.textContent.replace(/\s+$/gi,""),0<b.textContent.length);c++);a.normalize()}}q.fb=function(a){a=J(a?a:this.mc);this.Kb&&a.setAttribute("style",this.Kb);return a};
function Ke(a){var b=a.fb();b.appendChild(J("br"));a.Ia.appendChild(b);a.qa=!1}function Le(a,b){var c=a.fb();null!=b&&(t(b)?c=a.fb(b):G(b)&&(c=b));if(a.Ia.hasChildNodes&&a.qa){var d=a.Ia.lastElementChild;d&&d.textContent.length&&Be(d)&&Be(c)&&Ke(a)}a.qa=!1;a.Ia.appendChild(c);return c}function Me(a){Je(a.l);a.l=null;a.W=null}
function Ne(a,b){var c=document.createRange();c.selectNodeContents(b);c=c.getBoundingClientRect();a.Ic&&c&&!db(b,a.W)&&Math.abs(c.top-a.Ic.bottom)>=a.hf&&(a.qa=!0);c&&(a.Ic=c)}function Oe(a){return"div"===I(a)&&1===a.childNodes.length&&"br"===I(a.childNodes[0])}
q.da=function(a,b,c,d){c=!db(a,this.W);if(d&&c)return null;b||(b=a.cloneNode(!1));Ne(this,a);c&&(G(this.W)&&(d=I(this.W),De(d)&&(this.qa=!0)),Me(this));for(c=a;c!==this.va&&(c=c.parentNode);){this.W=c;d=I(c);if("li"===d)break;if(De(d))break;if(ib(c))break}if(Q(a,"table"))if(d=Q(a,"table"),c=Ae.B.S("table"),null!=d&&null!=c&&G(d)&&"table"===I(d)){var e=c.Me(d);-1!==e.rows&&(this.kc!==d&&(this.kc=d,this.Wc=c.md(e),Oe(this.kc.previousSibling)&&Ke(this),Le(this,this.Wc),Oe(this.kc.nextSibling)&&Ke(this)),
d=c.af(a),null!=d.table&&(c=d=this.Wc.querySelectorAll("tr")[d.row].querySelectorAll("td")[d.column],null==d?u.warn("Something crazy happened with table simplify: <$>"):(1===d.childNodes.length&&"div"===I(d.childNodes[0])&&(c=d.childNodes[0],1===c.childNodes.length&&"br"===I(c.childNodes[0])&&Va(c)),this.l=c)))}else u.warn("Couldn't simplify table. Look into this!");if(Q(a,"li"))a:if(d=Q(a,"li"),null==d)this.Ya=null;else{if(gb(a)){if(-1!==a.textContent.search(/^\s*$/i))break a;a.textContent.replace(/\s+/gi,
" ")}if(this.Wa&&this.Ya===d)this.l=this.Wa,this.l.appendChild(J("br"));else{var g=0;c=null;for(var k=d;k&&k!==this.va;)Ce(k)&&(++g,c||(c=I(k))),k=k.parentNode;g=Math.max(0,g);e=null;for(k=this.l&&0<this.l.childNodes.length?this.l:this.Ia;;){k=k.lastElementChild;if(!k)break;if(Ce(k)&&(e=k,--g,1>g))break}if(0<g&&e)g=e.lastElementChild,e=Le(this,c||"ol"),g.appendChild(e);else if(!e)null!=this.l?(e=J(c||"ol"),this.l.appendChild(e)):e=Le(this,c||"ol");else if(this.qa||c&&c!==I(e))null!=this.l?(e=J(c||
"ol"),this.l.appendChild(e)):e=Le(this,c||"ol");this.l=this.fb("li");e.appendChild(this.l);this.Ya=d;this.Wa=this.l}}a=this.yc(a);this.l||(this.l=Le(this));this.l.appendChild(this.Zc(b,a));return b};
function Ie(a,b){if(b){var c;if((c=K(b.parentNode))&&/pre/gi.test(c.whiteSpace)){var d=b.textContent.split(/\n\r|\r\n|\r|\n/gi);if(d&&0<d.length){c=d[0].replace(/\s/gi," ").replace(/\s\s/gi,"\u00a0 ");var e=a.da(b,document.createTextNode(c));if(e)for(var g=1;g<d.length;g++){var k=e.parentNode;k.appendChild(J("br"));c=d[g].replace(/\s/gi," ").replace(/\s\s/gi,"\u00a0 ");k.appendChild(document.createTextNode(c))}}}else c=b.textContent.replace(/[\ \n\r\t]+/gi," "),d=!1,-1!==c.search(/^[\ \t\n]*$/i)&&
(d=!0),a.da(b,document.createTextNode(c),!1,d)}else u.warn("Node missing",b)}
q.vd=function(a){if(a){var b=I(a);"div"===b&&/^en-revealed-crypto:\d+$/.test(a.id)?(Me(this),this.da(a,a.cloneNode(!0),!0),Me(this),this.bb.push(a)):"embed"===b?(b=kb(a,"type").toLowerCase(),"evernote/x-crypto"!==b&&"evernote/x-todo"!==b&&"evernote/x-attachment"!==b&&"evernote/x-pdf"!==b||this.da(a)):"script"===b||"style"===b?this.bb.push(a):"object"===b&&N(a,"object.en-todo")?this.da(a):"img"===b&&a.src?(Me(this),b=J("img"),Fe(b,a,"src"),Fe(b,a,"alt",""),Fe(b,a,"id"),this.da(a,b,!0),Me(this)):"hr"===
b?(Me(this),this.da(a,J("hr"),!0),Me(this)):"br"===b?Me(this):this.l&&a&&(ib(a)||!hb(this.W,a))&&Me(this)}else u.warn("Node missing",a)};
q.yc=function(a){for(var b={ra:0,$a:0,od:0,jd:0,yd:0,lc:0,Xc:0};a||a===this.va;){var c=I(a);"del"===c||"strike"===c||"s"===c?b.Xc=1:"mark"===c?b.$a=1:"a"===c&&(c=a.href+"")&&c.length&&(b.ra=c,b.od=0===c.indexOf(this.pe));if(c=K(a)){var d=c.backgroundColor.toLowerCase();if("rgb(255, 204, 102)"===d||"rgb(255, 250, 165)"===d||"rgb(246, 238, 150)"===d||Ee(a))b.$a=1;var d=c.fontWeight.toLowerCase(),e=c.fontStyle.toLowerCase(),c=c.textDecoration.toLowerCase();if("bold"===d||"bolder"===d||"700"===d)b.jd=
1;if("italic"===e||"oblique"===e)b.yd=1;!b.ra&&0<=c.indexOf("underline")&&(b.lc=1);0<=c.indexOf("line-through")&&(b.Xc=1)}a=a.parentNode}b.ra&&b.lc&&delete b.lc;return b};
q.Zc=function(a,b){var c;b.ra&&(c=J("a"),c.setAttribute("href",b.ra),b.od&&c.setAttribute("style","color:"+this.oe+";"),c.appendChild(a),a=c);b.jd&&(c=J("b"),c.appendChild(a),a=c);b.yd&&(c=J("i"),c.appendChild(a),a=c);b.lc&&(c=J("u"),c.appendChild(a),a=c);b.Xc&&(c=J("s"),c.appendChild(a),a=c);b.$a&&(c=J("span",{style:"-evernote-highlight:true; background-color:rgb(255, 250, 165);"}),c.appendChild(a),a=c);return a};
function Pe(a,b,c){if(!(this instanceof Pe))return new Pe(a,b,c);Ge.call(this,a,b,c)}ga(Pe,Ge);function Qe(a,b,c){if(!(this instanceof Qe))return new Qe(a,b,c);Ge.call(this,a,b,c)}ga(Qe,Ge);q=Qe.prototype;q.mc="div";q.dd='font-family: Courier, "Courier New", monospace;';q.ed=!1;q.re="\u00a0 \u00a0 ";q.qe="- ";q.Lc=function(){this.nc=[];Qe.zb.Lc.call(this)};q.Kc=function(){this.qa=!0;for(var a=0;a<this.nc.length;a++)this.l=Le(this),this.l.appendChild(this.nc[a]);Qe.zb.Kc.call(this)};
q.fb=function(){var a=J(this.mc);this.Kb&&a.setAttribute("style",this.Kb);return a};
q.da=function(a,b,c,d){c=!db(a,this.W);if(d&&c)return null;b||(b=a.cloneNode(!1));Ne(this,a);c&&(G(this.W)&&(d=I(this.W),De(d)&&(this.qa=!0)),Me(this));for(c=a;c!==this.va&&(c=c.parentNode);){this.W=c;d=I(c);if("li"===d)break;if(De(d))break;if(ib(c))break}d=Q(a,"li");if(!this.l&&d)if(this.Wa&&this.Ya===d)this.l=this.Wa,this.l.appendChild(J("br"));else{c=0;for(var e=d;e&&e!==this.va;)Ce(e)&&++c,e=e.parentNode;c=Math.max(0,c);this.l=Le(this);for(e=this.qe;1<c;)e=this.re+e,--c;this.l.appendChild(document.createTextNode(e));
this.Ya=d;this.Wa=this.l}else this.Ya=null,this.l||(this.l=Le(this));a=this.yc(a);this.l.appendChild(this.Zc(b,a));return b};
q.vd=function(a){var b;b=I(a);"object"===b&&N(a,"object.en-todo")?(b=Sa(a,"en-todo-checked"),this.da(a,document.createTextNode(b?"[x] ":"[ ] "))):"embed"===b?(b=kb(a,"type").toLowerCase(),"evernote/x-todo"===b?(b="true"===(kb(a,"todo-checked")+"").toLowerCase(),this.da(a,document.createTextNode(b?"[x] ":"[ ] "))):"evernote/x-attachment"!==b&&"evernote/x-pdf"!==b||this.nc.push(a.cloneNode(!0))):("script"!==b&&"style"!==b||this.bb.push(a),"img"!==b&&("hr"===b?Me(this):"br"===b?Me(this):De(b)?(Me(this),
this.qa=!0):!this.l||!ib(a)&&hb(this.W,a)||Me(this)))};q.yc=function(a){var b={};if(this.ed)for(;a||a===this.va;)"a"===I(a)&&(b.ra=a.href),a=a.parentNode;return b};q.Zc=function(a,b){if(this.ed&&b.ra){var c=J("a");c.setAttribute("href",b.ra);c.appendChild(a);a=c}return a};
function Re(){this.name="simpletext";this.e=function(a){Ae=a;var b=a.B,c=b.root;a=b.ga;a.simpletext={f:!0,action:function(a){a?(a=b.a().createContextualFragment(a),a=(new Pe(a,null)).Ga,b.j("inserthtml").action(a.innerHTML)):(new Pe(c,c),b.i(c,0),b.Z());return!0},enabled:B};a.plaintext={f:!0,action:function(a){var e=J("tt",{style:"position: absolute;"});document.body.appendChild(e);var g=K(e),g="font-family:"+g.fontFamily+"; font-size:"+g.fontSize+"; font-weight:"+g.fontWeight;F(e);a?(a=b.a().createContextualFragment(a),
a=(new Qe(a,null,{cssBlockStyle:g})).Ga,b.j("inserthtml").action(a.innerHTML)):(new Qe(c,c,{cssBlockStyle:g}),b.i(c,0),b.Z());return!0},enabled:B}};this.Ae=function(a){return(new Pe(a,null)).Ga};this.r=function(){}};function Se(){w(this instanceof Se,"Use `new` to instantiate this class")}q=Se.prototype;q.name="rte";
q.e=function(a,b){var c=this;c.$e=b;var d=b.s;w(!!d&&d instanceof Na,"Expected command manager in context");c.s=d;c.c=la(a,{active:!0,highlightMagic:!1,skipMarkupTransform:!1,placeholder:"",keyCommands:!1,behavior:!1,trackStateChanges:null,trackValueChanges:null,trackEnabledChanges:null,undo:!0,tableResizing:!1,imageResizing:!1,tableSelection:!1,kf:{},tf:"div",qd:null,root:null,selector:null});c.root=t(c.c.selector)?document.querySelector(c.c.selector):a.root||document.getElementById("en-note")||
document.body;w(c.root&&G(c.root),"Root not valid!");w(G(c.root),"RTE root node required to be an HTML element! <$>");c.c.skipMarkupTransform||(Gd(c.root),ce(c.root));c.c.active&&pb(c.root,!0);var e=c.mb();c.c.undo&&(c.c.kf.element=c.root,e.e(c.h=new Jc,{element:c.root}));c.c.keyCommands&&(Te(c,{key:"z",fa:!0},c.s.action.bind(c,"undo")),Te(c,{key:"z",fa:!0,shiftKey:!0},c.s.action.bind(c,"redo")),Te(c,{key:"y",fa:!0},c.s.action.bind(c,"redo")));c.c.keyCommands&&(Te(c,{key:"b",fa:!0},c.s.action.bind(c,
"bold")),Te(c,{key:"i",fa:!0},c.s.action.bind(c,"italic")),Te(c,{key:"u",fa:!0},c.s.action.bind(c,"underline")),Te(c,{key:"s",fa:!0},c.s.action.bind(c,"strikethrough")),Te(c,{key:"h",fa:!0},c.s.action.bind(c,"highlight")));c.c.behavior&&c.b.g(c.root,"keydown",function(a){var b=!1,d=(a.shiftKey?1:0)+(a.altKey?2:0)+(a.metaKey?4:0)+(a.ctrlKey?8:0);9===a.keyCode?0===d?b=c.s.action("tab",""):1===d&&(b=c.s.action("tab","true")):13===a.keyCode?0===d?b=c.s.action("insertparagraph"):1===d?b=c.s.action("insertlinebreak"):
2===d?b=c.s.action("inserttodo","toggle"):4!==d&&6!==d&&(b=!0):46===a.keyCode?(2===d?c.s.action("forwarddeleteword"):4===d?c.s.action("forwarddeleteline"):c.s.action("forwarddelete"),b=!0):8===a.keyCode&&(2===d?c.s.action("deleteword"):4===d?c.s.action("deleteline"):c.s.action("delete"),b=!0);return b?(a.preventDefault(),a.stopPropagation(),!1):!0});c.ee=0;c.gf=c.c.trackStateChanges||c.c.trackValueChanges||c.c.trackEnabledChanges;c.q=new qe(c.root);w(!!c.q,"W3C is required, something went wrong with initialization.");
c.q.hc=c;e.e(new se,c.q);e.e(new te,c.q);e.e(new ue,c.q);e.e(new we,c.q);e.e(new ve,c.q);e.e(new ye,c.q);e.e(new ze,c.q);e.e(new Re,c.q);var d=c.c.tableResizing,g=c.c.imageResizing;c.c.tableSelection&&e.e(new xe,c.q);g&&(c.Ua=new Vc,c.c.active&&e.e(c.Ua,c.q));d&&(c.cb=new re,c.c.active&&e.e(c.cb,c.q));c.q.B.S=function(a){return e.Ke(a)};c.q.B.xb();c.xb();var k=!1,f=null,h=null;c.b.g(c.root,"compositionstart",function(){k=!0;c.q.B.La();h=c.q.format.Qc()});c.b.g(c.root,"compositionend",function(){k=
!1});c.Yc=function(){if(!k){var a=X(c.root);a&&(f=$b(a),h=null)}};c.b.g(c.root,"input",function(){if(!k&&f){h&&(c.q.B.La(),c.q.format.Ha(h),h=null);var a=ac(f),b=X(c.root),a=Sb(a.startContainer,a.startOffset,b.startContainer,b.startOffset);f=null;A(c.root,"applypendingstyles",$b(a))}});c.b.g(c.root,"input",function(){Bc("content")});c.b.g(c.root.ownerDocument,"selectionchange",c.Be.bind(c));c.c.placeholder&&c.root.setAttribute("data-en-placeholder",c.c.placeholder)};
q.r=function(){this.fe=this.Yc=this.yb=null;Wb();this.Xa=null;pb(this.root,!1);this.q=this.root=this.c=this.cb=this.Ua=null};q.Be=function(){var a=X(this.root);null!=a&&(this.Xa=$b(a));Ue(this)};function Ue(a){try{a.Yc&&a.Yc(),a.gf&&(a.ee=a.b.timeout(function(){var b=Ve(a),d=JSON.stringify(b);d!==a.fe&&(a.fe=d,w(!b||ma(b),"info has to be dict",b),b=b||{},b.module="content",Ac("styleChanged",b))},0,a.ee))}catch(b){u.error("Exception in en.rte.didChangeStyle <$>:",b.toString())}}
function Ve(a){function b(a,b,g){if(a&&a.length){for(var k={},f=0;f<a.length;f++){var h=a[f];k[h]=g(h)}k&&(c[b]=k)}}var c={};b(a.c.trackStateChanges,"state",a.s.state);b(a.c.trackValueChanges,"value",a.s.value);b(a.c.trackEnabledChanges,"enabled",a.s.enabled);return c}
function Te(a,b,c){a.yb||(a.yb=[],a.b.g(a.root,"keypress",function(b){if(b.ctrlKey||b.metaKey)for(var c=a.yb.length-1;0<=c;c--){var g=a.yb[c];if(g.fa===(b.ctrlKey||b.metaKey)&&b.which===g.which&&b.shiftKey===g.shiftKey)return g.Ee.call(a),b.preventDefault(),!1}}));b.fa=b.fa||!0;b.shiftKey=!!b.shiftKey;b.which=b.charCode||b.key.charCodeAt(0);b.Ee=c;a.yb.push(b)}q.focus=function(){X(this.root)||(this.root.focus(),this.Xa?Tb(ac(this.Xa)):window.getSelection().collapse(this.root,0))};
q.selection=function(a){var b=X(this.root);a&&(this.Xa&&Tb(ac(this.Xa)),this.root.focus(),b=X(this.root));return b};q.nd=function(a){a=this.selection(a);var b=!1;a&&!a.collapsed&&(this.q.wa(),this.q.execCommand("delete",!1,void 0),b=!0);return b};function We(a,b,c,d){return Ba(function(){!0===b.focus&&a.selection(!0);!0===b.f&&a.h&&Hc(a.h);c();Ue(a);!0!==b.sb&&Uc();a.c.qd&&a.c.qd(!0,b,d);!0===b.f&&a.h&&Hc(a.h);return!0})||!1}q.hasFocus=function(){var a=X(this.root);return a&&(a=Xb(a))?!!Q(a,ob):!1};
q.xb=function(){var a=this,b=this.q.Ge();Object.keys(b).forEach(function(c){var d=b[c];d.name=c;var e={name:c,f:d.f,sb:d.sb,T:d.T,enabled:null,action:function(b){var d=a.q.execCommand.bind(a.q,c,!1,b);return We(a,e,d,b)},state:function(){return a.q.queryCommandState(c)},value:function(b){return a.q.queryCommandValue(c,b)}};e.enabled=d.enabled?function(){return a.q.queryCommandEnabled(c)}:function(){return a.hasFocus()&&a.q.queryCommandEnabled(c)};a.b.p(e)});this.b.p({name:"undo",action:function(){a.h&&
a.h.he();return!0},state:function(){return a.h&&Kc(a.h)},value:function(){return a.h&&Lc(a.h)},enabled:function(){return a.hasFocus()&&a.h&&Kc(a.h)}});this.b.p({name:"redo",action:function(){a.h&&Mc(a.h);return!0},state:function(){return a.h&&Nc(a.h)},value:function(){return a.h&&Oc(a.h)},enabled:function(){return a.hasFocus()&&a.h&&Nc(a.h)}});this.b.p({name:"addundo",action:function(b){a.h&&Hc(a.h,b);return!0},enabled:B});this.b.p({name:"clearundo",action:function(){a.h&&a.h.clear();return!0},sb:!0,
enabled:B});this.b.p({name:"undotitle",action:function(b){if(a.h){var d=a.h;d.w&&(d.w.title=b)}return!0},value:function(){return a.h&&Lc(a.h)},enabled:B});this.b.p({name:"redotitle",action:function(b){if(a.h){var d=a.h;d.w&&(d.w.title=b)}return!0},value:function(){return a.h&&Oc(a.h)},sb:!0,enabled:B});this.b.p({name:"focus",action:function(){a.focus();return!0},state:function(){return a.hasFocus()},value:function(){if(a.hasFocus())return a.name},enabled:function(a){return!a||"rte"===a||"content"===
a}});this.b.p({name:"content",action:function(b){a.h.clear();a.root.innerHTML=b;return!0},value:function(b){return a.uc(Oa(b))},enabled:B});this.b.p({name:"active",action:function(b){null==b||""==b?b=!0:(b=b.toString().trim().toLowerCase(),b=!("false"===b||"0"===b));var d=ob(a.root);d!==b&&window.getSelection().containsNode(a.root,!0)&&Wb();d&&!b&&(pb(a.root,!1),a.Ua&&a.pa.r(a.Ua),a.cb&&a.pa.r(a.cb));!d&&b&&(Wb(),pb(a.root,!0),a.Ua&&a.pa.e(a.Ua),a.cb&&a.pa.e(a.cb));return!0},state:function(b){if(!b||
"rte"===b||"content"===b)return ob(a.root)},enabled:B})};
q.uc=function(a){a=la(a,{html:!1,cleanup:!1,stripNS:!1,trim:!0,titleString:null,withInsertionPoint:!1,hiddenCryptoData:null,wrap:!1,dirty:!1});null!=a.dirty&&(Tc=!!a.dirty);var b=null,b=null,c=a.withInsertionPoint,d=this.root,e=yc(d);if(a.cleanup||c)d=this.root.cloneNode(!0);V("div.en-crypto-revealed",d).forEach(function(b){var c=b.id;0===c.indexOf("en-revealed-crypto:")?a.hiddenCryptoData&&a.hiddenCryptoData[c]?Wa(b,J("embed",{type:"evernote/x-crypto",id:a.hiddenCryptoData[c]})):u.error("Found revealed crypto but not replacement. Key:",
c):u.error("Unsupported revealed crypto element with ID:",c)});a.cleanup&&b&&c&&(b.insertNode(pd()),c=!1);c&&e&&(b=xc(d,e))&&b.insertNode(pd());a.cleanup&&de(d);b=a.stripNS?xa(d.outerHTML):d.innerHTML;a.trim&&(b=b.replace(/\ufeff+/gi,""),b=b.trim());return a.html?"<html><head><title></title></head><body>"+b+"</body></html>":a.wrap?Jd(d,b):b};var Xe=null,Ye=null;var Ze,$e;
(function(){function a(a){y(d.querySelectorAll("embed"),function(b){var c=J("div");C(c,"en-print");switch(b.getAttribute("type")){case "evernote/x-pdf":C(c,"pdf");c.textContent=a.pdf_file;break;case "evernote/x-attachment":var d=b.getAttribute("id");null!=d&&d.match(/.*en-media:audio.*/)?(C(c,"audio"),c.textContent=a.audio_file):(C(c,"generic-attachment"),c.textContent=a.generic_file);break;default:u.warn("Found <embed> with unknown type! "+b),C(c,"generic-attachment"),c.textContent=a.generic_file}Wa(b,c)});
y(d.querySelectorAll("object"),function(a){var b=J("div");C(b,"en-print");Sa(a,"en-todo")&&C(b,"checkbox");Sa(a,"en-todo-checked")&&C(b,"checked");Wa(a,b)})}function b(){var a=J("br");C(a,"en-print");d.appendChild(a)}function c(a,b){for(var c=J("table"),f,h,n=0;4>n;n++){f=J("tr");c.appendChild(f);for(var l=0;2>l;l++)h=J("td"),f.appendChild(h)}c.setAttribute("id","header-table");C(c,"en-print");d.appendChild(c);f=[[0,b.author,"author"],[1,b.notebook,"notebook"],[2,b.created,"created"],[3,b.tags,"tags"],
[4,b.updated,"updated"],[5,b.url,"url"],[6,b.deleted,"deleted"],[7,b.location,"location"]];var m=c.querySelectorAll("td");y(f,function(b){if(null!=a[b[2]]){m[b[0]].innerHTML="";var c=J("span");C(c,"header-table-label");c.textContent=b[1];var d=J("span");C(d,"header-table-text");d.textContent=" "+a[b[2]];m[b[0]].appendChild(c);m[b[0]].appendChild(d)}})}var d=null;Ze=function(e,g){null!=d&&(u.warn("Multiple unnecessary calls to setup print."),$e());for(var k=0;k<document.body.childNodes.length;k++)G(document.body.childNodes[k])&&
tb(document.body.childNodes[k],!1);d=J("div");d.setAttribute("id","print-container");C(d,"en-print");k=document.querySelector("#container");k.parentNode.insertBefore(d,k);var f=la(g,{title:null,notebook:null,created:null,updated:null,deleted:null,author:null,location:null,tags:null,url:null}),k=la(e,{notebook:"Notebook:",created:"Created:",updated:"Updated:",deleted:"Deleted:",author:"Author:",location:"Location:",tags:"Tags:",url:"Source:",pdf_file:"PDF File",audio_file:"Audio File",generic_file:"Generic File"});
null!=g&&""!==g&&(c(f,k),f=J("hr"),d.appendChild(f),b());f=document.querySelector("#en-title");if(null!=f&&null!=f.textContent){var f=f.textContent,h=J("div");h.setAttribute("id","header-title");C(h,"en-print");h.textContent=f;d.appendChild(h);b()}f=mb();null!=f&&null!=d||u.error("Couldnt find note body or print container!");d.innerHTML+=f.innerHTML;a(k);Ac("printReady",{module:"print"})};$e=function(){null==d?u.warn("Print module teardown called while it was off!"):(F(d),d=null)}})();fa("EN.setup",function(a){return Ba(function(){a=la(a);Qa=new Na;Rc(a);Xe=new Ra({s:Qa,c:a,uid:(new Date).getTime()});Ye=new Pa;Ye.e({name:"document"});var b,c;a.template?(b=new Ed,c=a.template):a.rte&&(b=new Se,c=a.rte);(Qc=b)?((null==a.active||a.active)&&Xe.e(b,c),Ye.p({name:"bounds",enabled:B,value:function(){var a=L(b.root),c={left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width,height:a.height};c.y=document.body.scrollHeight-a.bottom;c.x=a.left;return JSON.stringify(c)}})):u.error('Settings for "rte" or "template" are obligatory!');
Ye.p({name:"changes",action:function(a){Tc=!("false"!==a&&"0"!==a);return!0},enabled:B,state:function(){return Tc}});null!=a.title&&(Xe.e(new id,a.title),Ye.g(document,"titlechanged",function(a){Bc("title",{newContent:a.data})}));null!=a.shared&&Xe.e(new Wc,a.shared);null!=a.context&&Xe.e(new Xc,a.context);null!=a["context-upsell"]&&Xe.e(new Yc,a["context-upsell"]);null!=a.find&&Xe.e(new Zc,a.find);var d=document.getElementById("en-note")||document.body;if(d){var e=function(){var a=X(d);return!(!a||
a.collapsed)};Ye.p({name:"copy",value:function(a){if(!e())return null;a=la(a,{html:!0,raw:!0,resources:!0,plain:!0});return Ic(d,X(d),a)},enabled:e})}return!0})});fa("EN.cleanup",function(){Ba(function(){Qa.le();Xe.ke();Xe=null;Ye.r();Qa=Qc=null;Pc={}})});fa("EN.execCommand",function(a,b){return Ba(function(){a=a.toLowerCase();return Qa.action(a,b)||!1})});fa("EN.queryCommandState",function(a,b){return Ba(function(){a=a.toLowerCase();return Qa.state(a,b)||!1})});
fa("EN.queryCommandValue",function(a,b){return Ba(function(){a=a.toLowerCase();return Qa.value(a,b)||""})});fa("EN.queryCommandEnabled",function(a,b){return Ba(function(){a=a.toLowerCase();return Qa.enabled(a,b)||!1})});fa("EN.enablePrint",Ze);fa("EN.disablePrint",$e); }).call(window); window.enLoadState = 'didLoad'; }
catch(ex) { window.enLoadState = "Exception: " + ex.toString() + '\n' + ex.stack + ''; }

